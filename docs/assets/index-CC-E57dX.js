var yw=Object.defineProperty;var ww=(t,e,r)=>e in t?yw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var oe=(t,e,r)=>ww(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();var Sw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Uh={exports:{}},Ji={},$h={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var no=Symbol.for("react.element"),Ew=Symbol.for("react.portal"),bw=Symbol.for("react.fragment"),kw=Symbol.for("react.strict_mode"),xw=Symbol.for("react.profiler"),Fw=Symbol.for("react.provider"),Pw=Symbol.for("react.context"),Mw=Symbol.for("react.forward_ref"),Aw=Symbol.for("react.suspense"),Tw=Symbol.for("react.memo"),Nw=Symbol.for("react.lazy"),hp=Symbol.iterator;function Rw(t){return t===null||typeof t!="object"?null:(t=hp&&t[hp]||t["@@iterator"],typeof t=="function"?t:null)}var Hh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bh=Object.assign,Wh={};function Ya(t,e,r){this.props=t,this.context=e,this.refs=Wh,this.updater=r||Hh}Ya.prototype.isReactComponent={};Ya.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ya.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Vh(){}Vh.prototype=Ya.prototype;function Sd(t,e,r){this.props=t,this.context=e,this.refs=Wh,this.updater=r||Hh}var Ed=Sd.prototype=new Vh;Ed.constructor=Sd;Bh(Ed,Ya.prototype);Ed.isPureReactComponent=!0;var vp=Array.isArray,qh=Object.prototype.hasOwnProperty,bd={current:null},Gh={key:!0,ref:!0,__self:!0,__source:!0};function Qh(t,e,r){var a,n={},s=null,o=null;if(e!=null)for(a in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)qh.call(e,a)&&!Gh.hasOwnProperty(a)&&(n[a]=e[a]);var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){for(var l=Array(i),u=0;u<i;u++)l[u]=arguments[u+2];n.children=l}if(t&&t.defaultProps)for(a in i=t.defaultProps,i)n[a]===void 0&&(n[a]=i[a]);return{$$typeof:no,type:t,key:s,ref:o,props:n,_owner:bd.current}}function Cw(t,e){return{$$typeof:no,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kd(t){return typeof t=="object"&&t!==null&&t.$$typeof===no}function Iw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var gp=/\/+/g;function Ll(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Iw(""+t.key):e.toString(36)}function Wo(t,e,r,a,n){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case no:case Ew:o=!0}}if(o)return o=t,n=n(o),t=a===""?"."+Ll(o,0):a,vp(n)?(r="",t!=null&&(r=t.replace(gp,"$&/")+"/"),Wo(n,e,r,"",function(u){return u})):n!=null&&(kd(n)&&(n=Cw(n,r+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(gp,"$&/")+"/")+t)),e.push(n)),1;if(o=0,a=a===""?".":a+":",vp(t))for(var i=0;i<t.length;i++){s=t[i];var l=a+Ll(s,i);o+=Wo(s,e,r,l,n)}else if(l=Rw(t),typeof l=="function")for(t=l.call(t),i=0;!(s=t.next()).done;)s=s.value,l=a+Ll(s,i++),o+=Wo(s,e,r,l,n);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function So(t,e,r){if(t==null)return t;var a=[],n=0;return Wo(t,a,"","",function(s){return e.call(r,s,n++)}),a}function Ow(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pt={current:null},Vo={transition:null},Lw={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:Vo,ReactCurrentOwner:bd};function Yh(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:So,forEach:function(t,e,r){So(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return So(t,function(){e++}),e},toArray:function(t){return So(t,function(e){return e})||[]},only:function(t){if(!kd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=Ya;he.Fragment=bw;he.Profiler=xw;he.PureComponent=Sd;he.StrictMode=kw;he.Suspense=Aw;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lw;he.act=Yh;he.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var a=Bh({},t.props),n=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=bd.current),e.key!==void 0&&(n=""+e.key),t.type&&t.type.defaultProps)var i=t.type.defaultProps;for(l in e)qh.call(e,l)&&!Gh.hasOwnProperty(l)&&(a[l]=e[l]===void 0&&i!==void 0?i[l]:e[l])}var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){i=Array(l);for(var u=0;u<l;u++)i[u]=arguments[u+2];a.children=i}return{$$typeof:no,type:t.type,key:n,ref:s,props:a,_owner:o}};he.createContext=function(t){return t={$$typeof:Pw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Fw,_context:t},t.Consumer=t};he.createElement=Qh;he.createFactory=function(t){var e=Qh.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:Mw,render:t}};he.isValidElement=kd;he.lazy=function(t){return{$$typeof:Nw,_payload:{_status:-1,_result:t},_init:Ow}};he.memo=function(t,e){return{$$typeof:Tw,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=Vo.transition;Vo.transition={};try{t()}finally{Vo.transition=e}};he.unstable_act=Yh;he.useCallback=function(t,e){return Pt.current.useCallback(t,e)};he.useContext=function(t){return Pt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Pt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Pt.current.useEffect(t,e)};he.useId=function(){return Pt.current.useId()};he.useImperativeHandle=function(t,e,r){return Pt.current.useImperativeHandle(t,e,r)};he.useInsertionEffect=function(t,e){return Pt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Pt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Pt.current.useMemo(t,e)};he.useReducer=function(t,e,r){return Pt.current.useReducer(t,e,r)};he.useRef=function(t){return Pt.current.useRef(t)};he.useState=function(t){return Pt.current.useState(t)};he.useSyncExternalStore=function(t,e,r){return Pt.current.useSyncExternalStore(t,e,r)};he.useTransition=function(){return Pt.current.useTransition()};he.version="18.3.1";$h.exports=he;var ce=$h.exports;const el=wd(ce);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw=ce,zw=Symbol.for("react.element"),jw=Symbol.for("react.fragment"),Uw=Object.prototype.hasOwnProperty,$w=Dw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hw={key:!0,ref:!0,__self:!0,__source:!0};function Kh(t,e,r){var a,n={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(a in e)Uw.call(e,a)&&!Hw.hasOwnProperty(a)&&(n[a]=e[a]);if(t&&t.defaultProps)for(a in e=t.defaultProps,e)n[a]===void 0&&(n[a]=e[a]);return{$$typeof:zw,type:t,key:s,ref:o,props:n,_owner:$w.current}}Ji.Fragment=jw;Ji.jsx=Kh;Ji.jsxs=Kh;Uh.exports=Ji;var b=Uh.exports,Pu={},Zh={exports:{}},Ht={},Xh={exports:{}},Jh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,q){var I=O.length;O.push(q);e:for(;0<I;){var Y=I-1>>>1,se=O[Y];if(0<n(se,q))O[Y]=q,O[I]=se,I=Y;else break e}}function r(O){return O.length===0?null:O[0]}function a(O){if(O.length===0)return null;var q=O[0],I=O.pop();if(I!==q){O[0]=I;e:for(var Y=0,se=O.length,_e=se>>>1;Y<_e;){var ue=2*(Y+1)-1,qe=O[ue],Fe=ue+1,xe=O[Fe];if(0>n(qe,I))Fe<se&&0>n(xe,qe)?(O[Y]=xe,O[Fe]=I,Y=Fe):(O[Y]=qe,O[ue]=I,Y=ue);else if(Fe<se&&0>n(xe,I))O[Y]=xe,O[Fe]=I,Y=Fe;else break e}}return q}function n(O,q){var I=O.sortIndex-q.sortIndex;return I!==0?I:O.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,i=o.now();t.unstable_now=function(){return o.now()-i}}var l=[],u=[],c=1,d=null,p=3,f=!1,h=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(O){for(var q=r(u);q!==null;){if(q.callback===null)a(u);else if(q.startTime<=O)a(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=r(u)}}function S(O){if(v=!1,_(O),!h)if(r(l)!==null)h=!0,U(x);else{var q=r(u);q!==null&&W(S,q.startTime-O)}}function x(O,q){h=!1,v&&(v=!1,m(P),P=-1),f=!0;var I=p;try{for(_(q),d=r(l);d!==null&&(!(d.expirationTime>q)||O&&!G());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,p=d.priorityLevel;var se=Y(d.expirationTime<=q);q=t.unstable_now(),typeof se=="function"?d.callback=se:d===r(l)&&a(l),_(q)}else a(l);d=r(l)}if(d!==null)var _e=!0;else{var ue=r(u);ue!==null&&W(S,ue.startTime-q),_e=!1}return _e}finally{d=null,p=I,f=!1}}var F=!1,M=null,P=-1,L=5,z=-1;function G(){return!(t.unstable_now()-z<L)}function Q(){if(M!==null){var O=t.unstable_now();z=O;var q=!0;try{q=M(!0,O)}finally{q?j():(F=!1,M=null)}}else F=!1}var j;if(typeof g=="function")j=function(){g(Q)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,A=D.port2;D.port1.onmessage=Q,j=function(){A.postMessage(null)}}else j=function(){y(Q,0)};function U(O){M=O,F||(F=!0,j())}function W(O,q){P=y(function(){O(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){h||f||(h=!0,U(x))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(O){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var I=p;p=q;try{return O()}finally{p=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var I=p;p=O;try{return q()}finally{p=I}},t.unstable_scheduleCallback=function(O,q,I){var Y=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?Y+I:Y):I=Y,O){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=I+se,O={id:c++,callback:q,priorityLevel:O,startTime:I,expirationTime:se,sortIndex:-1},I>Y?(O.sortIndex=I,e(u,O),r(l)===null&&O===r(u)&&(v?(m(P),P=-1):v=!0,W(S,I-Y))):(O.sortIndex=se,e(l,O),h||f||(h=!0,U(x))),O},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(O){var q=p;return function(){var I=p;p=q;try{return O.apply(this,arguments)}finally{p=I}}}})(Jh);Xh.exports=Jh;var Bw=Xh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww=ce,$t=Bw;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ev=new Set,Ls={};function ia(t,e){za(t,e),za(t+"Capture",e)}function za(t,e){for(Ls[t]=e,t=0;t<e.length;t++)ev.add(e[t])}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mu=Object.prototype.hasOwnProperty,Vw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_p={},yp={};function qw(t){return Mu.call(yp,t)?!0:Mu.call(_p,t)?!1:Vw.test(t)?yp[t]=!0:(_p[t]=!0,!1)}function Gw(t,e,r,a){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qw(t,e,r,a){if(e===null||typeof e>"u"||Gw(t,e,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mt(t,e,r,a,n,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ht[t]=new Mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ht[e]=new Mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ht[t]=new Mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ht[t]=new Mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ht[t]=new Mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ht[t]=new Mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ht[t]=new Mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ht[t]=new Mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ht[t]=new Mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var xd=/[\-:]([a-z])/g;function Fd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xd,Fd);ht[e]=new Mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xd,Fd);ht[e]=new Mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xd,Fd);ht[e]=new Mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ht[t]=new Mt(t,1,!1,t.toLowerCase(),null,!1,!1)});ht.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ht[t]=new Mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pd(t,e,r,a){var n=ht.hasOwnProperty(e)?ht[e]:null;(n!==null?n.type!==0:a||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qw(e,r,n,a)&&(r=null),a||n===null?qw(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):n.mustUseProperty?t[n.propertyName]=r===null?n.type===3?!1:"":r:(e=n.attributeName,a=n.attributeNamespace,r===null?t.removeAttribute(e):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,a?t.setAttributeNS(a,e,r):t.setAttribute(e,r))))}var Kr=Ww.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eo=Symbol.for("react.element"),va=Symbol.for("react.portal"),ga=Symbol.for("react.fragment"),Md=Symbol.for("react.strict_mode"),Au=Symbol.for("react.profiler"),tv=Symbol.for("react.provider"),rv=Symbol.for("react.context"),Ad=Symbol.for("react.forward_ref"),Tu=Symbol.for("react.suspense"),Nu=Symbol.for("react.suspense_list"),Td=Symbol.for("react.memo"),an=Symbol.for("react.lazy"),nv=Symbol.for("react.offscreen"),wp=Symbol.iterator;function is(t){return t===null||typeof t!="object"?null:(t=wp&&t[wp]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,Dl;function gs(t){if(Dl===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Dl=e&&e[1]||""}return`
`+Dl+t}var zl=!1;function jl(t,e){if(!t||zl)return"";zl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var a=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){a=u}t.call(e.prototype)}else{try{throw Error()}catch(u){a=u}t()}}catch(u){if(u&&a&&typeof u.stack=="string"){for(var n=u.stack.split(`
`),s=a.stack.split(`
`),o=n.length-1,i=s.length-1;1<=o&&0<=i&&n[o]!==s[i];)i--;for(;1<=o&&0<=i;o--,i--)if(n[o]!==s[i]){if(o!==1||i!==1)do if(o--,i--,0>i||n[o]!==s[i]){var l=`
`+n[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=i);break}}}finally{zl=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?gs(t):""}function Yw(t){switch(t.tag){case 5:return gs(t.type);case 16:return gs("Lazy");case 13:return gs("Suspense");case 19:return gs("SuspenseList");case 0:case 2:case 15:return t=jl(t.type,!1),t;case 11:return t=jl(t.type.render,!1),t;case 1:return t=jl(t.type,!0),t;default:return""}}function Ru(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ga:return"Fragment";case va:return"Portal";case Au:return"Profiler";case Md:return"StrictMode";case Tu:return"Suspense";case Nu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rv:return(t.displayName||"Context")+".Consumer";case tv:return(t._context.displayName||"Context")+".Provider";case Ad:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Td:return e=t.displayName||null,e!==null?e:Ru(t.type)||"Memo";case an:e=t._payload,t=t._init;try{return Ru(t(e))}catch{}}return null}function Kw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ru(e);case 8:return e===Md?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function kn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function av(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Zw(t){var e=av(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),a=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.call(this)},set:function(o){a=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bo(t){t._valueTracker||(t._valueTracker=Zw(t))}function sv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),a="";return t&&(a=av(t)?t.checked?"true":"false":t.value),t=a,t!==r?(e.setValue(t),!0):!1}function oi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cu(t,e){var r=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Sp(t,e){var r=e.defaultValue==null?"":e.defaultValue,a=e.checked!=null?e.checked:e.defaultChecked;r=kn(e.value!=null?e.value:r),t._wrapperState={initialChecked:a,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ov(t,e){e=e.checked,e!=null&&Pd(t,"checked",e,!1)}function Iu(t,e){ov(t,e);var r=kn(e.value),a=e.type;if(r!=null)a==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ou(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ou(t,e.type,kn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ep(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var a=e.type;if(!(a!=="submit"&&a!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ou(t,e,r){(e!=="number"||oi(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var _s=Array.isArray;function Ta(t,e,r,a){if(t=t.options,e){e={};for(var n=0;n<r.length;n++)e["$"+r[n]]=!0;for(r=0;r<t.length;r++)n=e.hasOwnProperty("$"+t[r].value),t[r].selected!==n&&(t[r].selected=n),n&&a&&(t[r].defaultSelected=!0)}else{for(r=""+kn(r),e=null,n=0;n<t.length;n++){if(t[n].value===r){t[n].selected=!0,a&&(t[n].defaultSelected=!0);return}e!==null||t[n].disabled||(e=t[n])}e!==null&&(e.selected=!0)}}function Lu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bp(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(B(92));if(_s(r)){if(1<r.length)throw Error(B(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:kn(r)}}function iv(t,e){var r=kn(e.value),a=kn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),a!=null&&(t.defaultValue=""+a)}function kp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Du(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ko,uv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,a,n){MSApp.execUnsafeLocalFunction(function(){return t(e,r,a,n)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ko=ko||document.createElement("div"),ko.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ko.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ds(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xw=["Webkit","ms","Moz","O"];Object.keys(ks).forEach(function(t){Xw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ks[e]=ks[t]})});function cv(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ks.hasOwnProperty(t)&&ks[t]?(""+e).trim():e+"px"}function dv(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var a=r.indexOf("--")===0,n=cv(r,e[r],a);r==="float"&&(r="cssFloat"),a?t.setProperty(r,n):t[r]=n}}var Jw=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zu(t,e){if(e){if(Jw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function ju(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uu=null;function Nd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $u=null,Na=null,Ra=null;function xp(t){if(t=oo(t)){if(typeof $u!="function")throw Error(B(280));var e=t.stateNode;e&&(e=sl(e),$u(t.stateNode,t.type,e))}}function fv(t){Na?Ra?Ra.push(t):Ra=[t]:Na=t}function pv(){if(Na){var t=Na,e=Ra;if(Ra=Na=null,xp(t),e)for(t=0;t<e.length;t++)xp(e[t])}}function mv(t,e){return t(e)}function hv(){}var Ul=!1;function vv(t,e,r){if(Ul)return t(e,r);Ul=!0;try{return mv(t,e,r)}finally{Ul=!1,(Na!==null||Ra!==null)&&(hv(),pv())}}function zs(t,e){var r=t.stateNode;if(r===null)return null;var a=sl(r);if(a===null)return null;r=a[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(B(231,e,typeof r));return r}var Hu=!1;if(Hr)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){Hu=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{Hu=!1}function e0(t,e,r,a,n,s,o,i,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var xs=!1,ii=null,li=!1,Bu=null,t0={onError:function(t){xs=!0,ii=t}};function r0(t,e,r,a,n,s,o,i,l){xs=!1,ii=null,e0.apply(t0,arguments)}function n0(t,e,r,a,n,s,o,i,l){if(r0.apply(this,arguments),xs){if(xs){var u=ii;xs=!1,ii=null}else throw Error(B(198));li||(li=!0,Bu=u)}}function la(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function gv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fp(t){if(la(t)!==t)throw Error(B(188))}function a0(t){var e=t.alternate;if(!e){if(e=la(t),e===null)throw Error(B(188));return e!==t?null:t}for(var r=t,a=e;;){var n=r.return;if(n===null)break;var s=n.alternate;if(s===null){if(a=n.return,a!==null){r=a;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===r)return Fp(n),t;if(s===a)return Fp(n),e;s=s.sibling}throw Error(B(188))}if(r.return!==a.return)r=n,a=s;else{for(var o=!1,i=n.child;i;){if(i===r){o=!0,r=n,a=s;break}if(i===a){o=!0,a=n,r=s;break}i=i.sibling}if(!o){for(i=s.child;i;){if(i===r){o=!0,r=s,a=n;break}if(i===a){o=!0,a=s,r=n;break}i=i.sibling}if(!o)throw Error(B(189))}}if(r.alternate!==a)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?t:e}function _v(t){return t=a0(t),t!==null?yv(t):null}function yv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yv(t);if(e!==null)return e;t=t.sibling}return null}var wv=$t.unstable_scheduleCallback,Pp=$t.unstable_cancelCallback,s0=$t.unstable_shouldYield,o0=$t.unstable_requestPaint,Ke=$t.unstable_now,i0=$t.unstable_getCurrentPriorityLevel,Rd=$t.unstable_ImmediatePriority,Sv=$t.unstable_UserBlockingPriority,ui=$t.unstable_NormalPriority,l0=$t.unstable_LowPriority,Ev=$t.unstable_IdlePriority,tl=null,br=null;function u0(t){if(br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(tl,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:f0,c0=Math.log,d0=Math.LN2;function f0(t){return t>>>=0,t===0?32:31-(c0(t)/d0|0)|0}var xo=64,Fo=4194304;function ys(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ci(t,e){var r=t.pendingLanes;if(r===0)return 0;var a=0,n=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var i=o&~n;i!==0?a=ys(i):(s&=o,s!==0&&(a=ys(s)))}else o=r&~n,o!==0?a=ys(o):s!==0&&(a=ys(s));if(a===0)return 0;if(e!==0&&e!==a&&!(e&n)&&(n=a&-a,s=e&-e,n>=s||n===16&&(s&4194240)!==0))return e;if(a&4&&(a|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=a;0<e;)r=31-ur(e),n=1<<r,a|=t[r],e&=~n;return a}function p0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m0(t,e){for(var r=t.suspendedLanes,a=t.pingedLanes,n=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ur(s),i=1<<o,l=n[o];l===-1?(!(i&r)||i&a)&&(n[o]=p0(i,e)):l<=e&&(t.expiredLanes|=i),s&=~i}}function Wu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bv(){var t=xo;return xo<<=1,!(xo&4194240)&&(xo=64),t}function $l(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ao(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=r}function h0(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<r;){var n=31-ur(r),s=1<<n;e[n]=0,a[n]=-1,t[n]=-1,r&=~s}}function Cd(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var a=31-ur(r),n=1<<a;n&e|t[a]&e&&(t[a]|=e),r&=~n}}var ke=0;function kv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xv,Id,Fv,Pv,Mv,Vu=!1,Po=[],hn=null,vn=null,gn=null,js=new Map,Us=new Map,un=[],v0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mp(t,e){switch(t){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":js.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Us.delete(e.pointerId)}}function us(t,e,r,a,n,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:a,nativeEvent:s,targetContainers:[n]},e!==null&&(e=oo(e),e!==null&&Id(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,n!==null&&e.indexOf(n)===-1&&e.push(n),t)}function g0(t,e,r,a,n){switch(e){case"focusin":return hn=us(hn,t,e,r,a,n),!0;case"dragenter":return vn=us(vn,t,e,r,a,n),!0;case"mouseover":return gn=us(gn,t,e,r,a,n),!0;case"pointerover":var s=n.pointerId;return js.set(s,us(js.get(s)||null,t,e,r,a,n)),!0;case"gotpointercapture":return s=n.pointerId,Us.set(s,us(Us.get(s)||null,t,e,r,a,n)),!0}return!1}function Av(t){var e=Hn(t.target);if(e!==null){var r=la(e);if(r!==null){if(e=r.tag,e===13){if(e=gv(r),e!==null){t.blockedOn=e,Mv(t.priority,function(){Fv(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=qu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var a=new r.constructor(r.type,r);Uu=a,r.target.dispatchEvent(a),Uu=null}else return e=oo(r),e!==null&&Id(e),t.blockedOn=r,!1;e.shift()}return!0}function Ap(t,e,r){qo(t)&&r.delete(e)}function _0(){Vu=!1,hn!==null&&qo(hn)&&(hn=null),vn!==null&&qo(vn)&&(vn=null),gn!==null&&qo(gn)&&(gn=null),js.forEach(Ap),Us.forEach(Ap)}function cs(t,e){t.blockedOn===e&&(t.blockedOn=null,Vu||(Vu=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,_0)))}function $s(t){function e(n){return cs(n,t)}if(0<Po.length){cs(Po[0],t);for(var r=1;r<Po.length;r++){var a=Po[r];a.blockedOn===t&&(a.blockedOn=null)}}for(hn!==null&&cs(hn,t),vn!==null&&cs(vn,t),gn!==null&&cs(gn,t),js.forEach(e),Us.forEach(e),r=0;r<un.length;r++)a=un[r],a.blockedOn===t&&(a.blockedOn=null);for(;0<un.length&&(r=un[0],r.blockedOn===null);)Av(r),r.blockedOn===null&&un.shift()}var Ca=Kr.ReactCurrentBatchConfig,di=!0;function y0(t,e,r,a){var n=ke,s=Ca.transition;Ca.transition=null;try{ke=1,Od(t,e,r,a)}finally{ke=n,Ca.transition=s}}function w0(t,e,r,a){var n=ke,s=Ca.transition;Ca.transition=null;try{ke=4,Od(t,e,r,a)}finally{ke=n,Ca.transition=s}}function Od(t,e,r,a){if(di){var n=qu(t,e,r,a);if(n===null)Zl(t,e,a,fi,r),Mp(t,a);else if(g0(n,t,e,r,a))a.stopPropagation();else if(Mp(t,a),e&4&&-1<v0.indexOf(t)){for(;n!==null;){var s=oo(n);if(s!==null&&xv(s),s=qu(t,e,r,a),s===null&&Zl(t,e,a,fi,r),s===n)break;n=s}n!==null&&a.stopPropagation()}else Zl(t,e,a,null,r)}}var fi=null;function qu(t,e,r,a){if(fi=null,t=Nd(a),t=Hn(t),t!==null)if(e=la(t),e===null)t=null;else if(r=e.tag,r===13){if(t=gv(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fi=t,null}function Tv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(i0()){case Rd:return 1;case Sv:return 4;case ui:case l0:return 16;case Ev:return 536870912;default:return 16}default:return 16}}var dn=null,Ld=null,Go=null;function Nv(){if(Go)return Go;var t,e=Ld,r=e.length,a,n="value"in dn?dn.value:dn.textContent,s=n.length;for(t=0;t<r&&e[t]===n[t];t++);var o=r-t;for(a=1;a<=o&&e[r-a]===n[s-a];a++);return Go=n.slice(t,1<a?1-a:void 0)}function Qo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Mo(){return!0}function Tp(){return!1}function Bt(t){function e(r,a,n,s,o){this._reactName=r,this._targetInst=n,this.type=a,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var i in t)t.hasOwnProperty(i)&&(r=t[i],this[i]=r?r(s):s[i]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Mo:Tp,this.isPropagationStopped=Tp,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Mo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Mo)},persist:function(){},isPersistent:Mo}),e}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dd=Bt(Ka),so=He({},Ka,{view:0,detail:0}),S0=Bt(so),Hl,Bl,ds,rl=He({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ds&&(ds&&t.type==="mousemove"?(Hl=t.screenX-ds.screenX,Bl=t.screenY-ds.screenY):Bl=Hl=0,ds=t),Hl)},movementY:function(t){return"movementY"in t?t.movementY:Bl}}),Np=Bt(rl),E0=He({},rl,{dataTransfer:0}),b0=Bt(E0),k0=He({},so,{relatedTarget:0}),Wl=Bt(k0),x0=He({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),F0=Bt(x0),P0=He({},Ka,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),M0=Bt(P0),A0=He({},Ka,{data:0}),Rp=Bt(A0),T0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=R0[t])?!!e[t]:!1}function zd(){return C0}var I0=He({},so,{key:function(t){if(t.key){var e=T0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(t){return t.type==="keypress"?Qo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),O0=Bt(I0),L0=He({},rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cp=Bt(L0),D0=He({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),z0=Bt(D0),j0=He({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),U0=Bt(j0),$0=He({},rl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H0=Bt($0),B0=[9,13,27,32],jd=Hr&&"CompositionEvent"in window,Fs=null;Hr&&"documentMode"in document&&(Fs=document.documentMode);var W0=Hr&&"TextEvent"in window&&!Fs,Rv=Hr&&(!jd||Fs&&8<Fs&&11>=Fs),Ip=" ",Op=!1;function Cv(t,e){switch(t){case"keyup":return B0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _a=!1;function V0(t,e){switch(t){case"compositionend":return Iv(e);case"keypress":return e.which!==32?null:(Op=!0,Ip);case"textInput":return t=e.data,t===Ip&&Op?null:t;default:return null}}function q0(t,e){if(_a)return t==="compositionend"||!jd&&Cv(t,e)?(t=Nv(),Go=Ld=dn=null,_a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rv&&e.locale!=="ko"?null:e.data;default:return null}}var G0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!G0[t.type]:e==="textarea"}function Ov(t,e,r,a){fv(a),e=pi(e,"onChange"),0<e.length&&(r=new Dd("onChange","change",null,r,a),t.push({event:r,listeners:e}))}var Ps=null,Hs=null;function Q0(t){qv(t,0)}function nl(t){var e=Sa(t);if(sv(e))return t}function Y0(t,e){if(t==="change")return e}var Lv=!1;if(Hr){var Vl;if(Hr){var ql="oninput"in document;if(!ql){var Dp=document.createElement("div");Dp.setAttribute("oninput","return;"),ql=typeof Dp.oninput=="function"}Vl=ql}else Vl=!1;Lv=Vl&&(!document.documentMode||9<document.documentMode)}function zp(){Ps&&(Ps.detachEvent("onpropertychange",Dv),Hs=Ps=null)}function Dv(t){if(t.propertyName==="value"&&nl(Hs)){var e=[];Ov(e,Hs,t,Nd(t)),vv(Q0,e)}}function K0(t,e,r){t==="focusin"?(zp(),Ps=e,Hs=r,Ps.attachEvent("onpropertychange",Dv)):t==="focusout"&&zp()}function Z0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nl(Hs)}function X0(t,e){if(t==="click")return nl(e)}function J0(t,e){if(t==="input"||t==="change")return nl(e)}function eS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dr=typeof Object.is=="function"?Object.is:eS;function Bs(t,e){if(dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),a=Object.keys(e);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!Mu.call(e,n)||!dr(t[n],e[n]))return!1}return!0}function jp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Up(t,e){var r=jp(t);t=0;for(var a;r;){if(r.nodeType===3){if(a=t+r.textContent.length,t<=e&&a>=e)return{node:r,offset:e-t};t=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jp(r)}}function zv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jv(){for(var t=window,e=oi();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=oi(t.document)}return e}function Ud(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tS(t){var e=jv(),r=t.focusedElem,a=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&zv(r.ownerDocument.documentElement,r)){if(a!==null&&Ud(r)){if(e=a.start,t=a.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var n=r.textContent.length,s=Math.min(a.start,n);a=a.end===void 0?s:Math.min(a.end,n),!t.extend&&s>a&&(n=a,a=s,s=n),n=Up(r,s);var o=Up(r,a);n&&o&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(n.node,n.offset),t.removeAllRanges(),s>a?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rS=Hr&&"documentMode"in document&&11>=document.documentMode,ya=null,Gu=null,Ms=null,Qu=!1;function $p(t,e,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qu||ya==null||ya!==oi(a)||(a=ya,"selectionStart"in a&&Ud(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ms&&Bs(Ms,a)||(Ms=a,a=pi(Gu,"onSelect"),0<a.length&&(e=new Dd("onSelect","select",null,e,r),t.push({event:e,listeners:a}),e.target=ya)))}function Ao(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var wa={animationend:Ao("Animation","AnimationEnd"),animationiteration:Ao("Animation","AnimationIteration"),animationstart:Ao("Animation","AnimationStart"),transitionend:Ao("Transition","TransitionEnd")},Gl={},Uv={};Hr&&(Uv=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function al(t){if(Gl[t])return Gl[t];if(!wa[t])return t;var e=wa[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Uv)return Gl[t]=e[r];return t}var $v=al("animationend"),Hv=al("animationiteration"),Bv=al("animationstart"),Wv=al("transitionend"),Vv=new Map,Hp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(t,e){Vv.set(t,e),ia(e,[t])}for(var Ql=0;Ql<Hp.length;Ql++){var Yl=Hp[Ql],nS=Yl.toLowerCase(),aS=Yl[0].toUpperCase()+Yl.slice(1);Tn(nS,"on"+aS)}Tn($v,"onAnimationEnd");Tn(Hv,"onAnimationIteration");Tn(Bv,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(Wv,"onTransitionEnd");za("onMouseEnter",["mouseout","mouseover"]);za("onMouseLeave",["mouseout","mouseover"]);za("onPointerEnter",["pointerout","pointerover"]);za("onPointerLeave",["pointerout","pointerover"]);ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ws));function Bp(t,e,r){var a=t.type||"unknown-event";t.currentTarget=r,n0(a,e,void 0,t),t.currentTarget=null}function qv(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var a=t[r],n=a.event;a=a.listeners;e:{var s=void 0;if(e)for(var o=a.length-1;0<=o;o--){var i=a[o],l=i.instance,u=i.currentTarget;if(i=i.listener,l!==s&&n.isPropagationStopped())break e;Bp(n,i,u),s=l}else for(o=0;o<a.length;o++){if(i=a[o],l=i.instance,u=i.currentTarget,i=i.listener,l!==s&&n.isPropagationStopped())break e;Bp(n,i,u),s=l}}}if(li)throw t=Bu,li=!1,Bu=null,t}function Te(t,e){var r=e[Ju];r===void 0&&(r=e[Ju]=new Set);var a=t+"__bubble";r.has(a)||(Gv(e,t,2,!1),r.add(a))}function Kl(t,e,r){var a=0;e&&(a|=4),Gv(r,t,a,e)}var To="_reactListening"+Math.random().toString(36).slice(2);function Ws(t){if(!t[To]){t[To]=!0,ev.forEach(function(r){r!=="selectionchange"&&(sS.has(r)||Kl(r,!1,t),Kl(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[To]||(e[To]=!0,Kl("selectionchange",!1,e))}}function Gv(t,e,r,a){switch(Tv(e)){case 1:var n=y0;break;case 4:n=w0;break;default:n=Od}r=n.bind(null,e,r,t),n=void 0,!Hu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(n=!0),a?n!==void 0?t.addEventListener(e,r,{capture:!0,passive:n}):t.addEventListener(e,r,!0):n!==void 0?t.addEventListener(e,r,{passive:n}):t.addEventListener(e,r,!1)}function Zl(t,e,r,a,n){var s=a;if(!(e&1)&&!(e&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var i=a.stateNode.containerInfo;if(i===n||i.nodeType===8&&i.parentNode===n)break;if(o===4)for(o=a.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===n||l.nodeType===8&&l.parentNode===n))return;o=o.return}for(;i!==null;){if(o=Hn(i),o===null)return;if(l=o.tag,l===5||l===6){a=s=o;continue e}i=i.parentNode}}a=a.return}vv(function(){var u=s,c=Nd(r),d=[];e:{var p=Vv.get(t);if(p!==void 0){var f=Dd,h=t;switch(t){case"keypress":if(Qo(r)===0)break e;case"keydown":case"keyup":f=O0;break;case"focusin":h="focus",f=Wl;break;case"focusout":h="blur",f=Wl;break;case"beforeblur":case"afterblur":f=Wl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Np;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=b0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=z0;break;case $v:case Hv:case Bv:f=F0;break;case Wv:f=U0;break;case"scroll":f=S0;break;case"wheel":f=H0;break;case"copy":case"cut":case"paste":f=M0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Cp}var v=(e&4)!==0,y=!v&&t==="scroll",m=v?p!==null?p+"Capture":null:p;v=[];for(var g=u,_;g!==null;){_=g;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,m!==null&&(S=zs(g,m),S!=null&&v.push(Vs(g,S,_)))),y)break;g=g.return}0<v.length&&(p=new f(p,h,null,r,c),d.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",p&&r!==Uu&&(h=r.relatedTarget||r.fromElement)&&(Hn(h)||h[Br]))break e;if((f||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,f?(h=r.relatedTarget||r.toElement,f=u,h=h?Hn(h):null,h!==null&&(y=la(h),h!==y||h.tag!==5&&h.tag!==6)&&(h=null)):(f=null,h=u),f!==h)){if(v=Np,S="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=Cp,S="onPointerLeave",m="onPointerEnter",g="pointer"),y=f==null?p:Sa(f),_=h==null?p:Sa(h),p=new v(S,g+"leave",f,r,c),p.target=y,p.relatedTarget=_,S=null,Hn(c)===u&&(v=new v(m,g+"enter",h,r,c),v.target=_,v.relatedTarget=y,S=v),y=S,f&&h)t:{for(v=f,m=h,g=0,_=v;_;_=fa(_))g++;for(_=0,S=m;S;S=fa(S))_++;for(;0<g-_;)v=fa(v),g--;for(;0<_-g;)m=fa(m),_--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=fa(v),m=fa(m)}v=null}else v=null;f!==null&&Wp(d,p,f,v,!1),h!==null&&y!==null&&Wp(d,y,h,v,!0)}}e:{if(p=u?Sa(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var x=Y0;else if(Lp(p))if(Lv)x=J0;else{x=Z0;var F=K0}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(x=X0);if(x&&(x=x(t,u))){Ov(d,x,r,c);break e}F&&F(t,p,u),t==="focusout"&&(F=p._wrapperState)&&F.controlled&&p.type==="number"&&Ou(p,"number",p.value)}switch(F=u?Sa(u):window,t){case"focusin":(Lp(F)||F.contentEditable==="true")&&(ya=F,Gu=u,Ms=null);break;case"focusout":Ms=Gu=ya=null;break;case"mousedown":Qu=!0;break;case"contextmenu":case"mouseup":case"dragend":Qu=!1,$p(d,r,c);break;case"selectionchange":if(rS)break;case"keydown":case"keyup":$p(d,r,c)}var M;if(jd)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else _a?Cv(t,r)&&(P="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Rv&&r.locale!=="ko"&&(_a||P!=="onCompositionStart"?P==="onCompositionEnd"&&_a&&(M=Nv()):(dn=c,Ld="value"in dn?dn.value:dn.textContent,_a=!0)),F=pi(u,P),0<F.length&&(P=new Rp(P,t,null,r,c),d.push({event:P,listeners:F}),M?P.data=M:(M=Iv(r),M!==null&&(P.data=M)))),(M=W0?V0(t,r):q0(t,r))&&(u=pi(u,"onBeforeInput"),0<u.length&&(c=new Rp("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=M))}qv(d,e)})}function Vs(t,e,r){return{instance:t,listener:e,currentTarget:r}}function pi(t,e){for(var r=e+"Capture",a=[];t!==null;){var n=t,s=n.stateNode;n.tag===5&&s!==null&&(n=s,s=zs(t,r),s!=null&&a.unshift(Vs(t,s,n)),s=zs(t,e),s!=null&&a.push(Vs(t,s,n))),t=t.return}return a}function fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wp(t,e,r,a,n){for(var s=e._reactName,o=[];r!==null&&r!==a;){var i=r,l=i.alternate,u=i.stateNode;if(l!==null&&l===a)break;i.tag===5&&u!==null&&(i=u,n?(l=zs(r,s),l!=null&&o.unshift(Vs(r,l,i))):n||(l=zs(r,s),l!=null&&o.push(Vs(r,l,i)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var oS=/\r\n?/g,iS=/\u0000|\uFFFD/g;function Vp(t){return(typeof t=="string"?t:""+t).replace(oS,`
`).replace(iS,"")}function No(t,e,r){if(e=Vp(e),Vp(t)!==e&&r)throw Error(B(425))}function mi(){}var Yu=null,Ku=null;function Zu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xu=typeof setTimeout=="function"?setTimeout:void 0,lS=typeof clearTimeout=="function"?clearTimeout:void 0,qp=typeof Promise=="function"?Promise:void 0,uS=typeof queueMicrotask=="function"?queueMicrotask:typeof qp<"u"?function(t){return qp.resolve(null).then(t).catch(cS)}:Xu;function cS(t){setTimeout(function(){throw t})}function Xl(t,e){var r=e,a=0;do{var n=r.nextSibling;if(t.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(a===0){t.removeChild(n),$s(e);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=n}while(r);$s(e)}function _n(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Gp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Za=Math.random().toString(36).slice(2),yr="__reactFiber$"+Za,qs="__reactProps$"+Za,Br="__reactContainer$"+Za,Ju="__reactEvents$"+Za,dS="__reactListeners$"+Za,fS="__reactHandles$"+Za;function Hn(t){var e=t[yr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Br]||r[yr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Gp(t);t!==null;){if(r=t[yr])return r;t=Gp(t)}return e}t=r,r=t.parentNode}return null}function oo(t){return t=t[yr]||t[Br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function sl(t){return t[qs]||null}var ec=[],Ea=-1;function Nn(t){return{current:t}}function Re(t){0>Ea||(t.current=ec[Ea],ec[Ea]=null,Ea--)}function Me(t,e){Ea++,ec[Ea]=t.current,t.current=e}var xn={},St=Nn(xn),Ct=Nn(!1),Kn=xn;function ja(t,e){var r=t.type.contextTypes;if(!r)return xn;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===e)return a.__reactInternalMemoizedMaskedChildContext;var n={},s;for(s in r)n[s]=e[s];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=n),n}function It(t){return t=t.childContextTypes,t!=null}function hi(){Re(Ct),Re(St)}function Qp(t,e,r){if(St.current!==xn)throw Error(B(168));Me(St,e),Me(Ct,r)}function Qv(t,e,r){var a=t.stateNode;if(e=e.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var n in a)if(!(n in e))throw Error(B(108,Kw(t)||"Unknown",n));return He({},r,a)}function vi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xn,Kn=St.current,Me(St,t),Me(Ct,Ct.current),!0}function Yp(t,e,r){var a=t.stateNode;if(!a)throw Error(B(169));r?(t=Qv(t,e,Kn),a.__reactInternalMemoizedMergedChildContext=t,Re(Ct),Re(St),Me(St,t)):Re(Ct),Me(Ct,r)}var Ir=null,ol=!1,Jl=!1;function Yv(t){Ir===null?Ir=[t]:Ir.push(t)}function pS(t){ol=!0,Yv(t)}function Rn(){if(!Jl&&Ir!==null){Jl=!0;var t=0,e=ke;try{var r=Ir;for(ke=1;t<r.length;t++){var a=r[t];do a=a(!0);while(a!==null)}Ir=null,ol=!1}catch(n){throw Ir!==null&&(Ir=Ir.slice(t+1)),wv(Rd,Rn),n}finally{ke=e,Jl=!1}}return null}var ba=[],ka=0,gi=null,_i=0,Qt=[],Yt=0,Zn=null,Or=1,Lr="";function jn(t,e){ba[ka++]=_i,ba[ka++]=gi,gi=t,_i=e}function Kv(t,e,r){Qt[Yt++]=Or,Qt[Yt++]=Lr,Qt[Yt++]=Zn,Zn=t;var a=Or;t=Lr;var n=32-ur(a)-1;a&=~(1<<n),r+=1;var s=32-ur(e)+n;if(30<s){var o=n-n%5;s=(a&(1<<o)-1).toString(32),a>>=o,n-=o,Or=1<<32-ur(e)+n|r<<n|a,Lr=s+t}else Or=1<<s|r<<n|a,Lr=t}function $d(t){t.return!==null&&(jn(t,1),Kv(t,1,0))}function Hd(t){for(;t===gi;)gi=ba[--ka],ba[ka]=null,_i=ba[--ka],ba[ka]=null;for(;t===Zn;)Zn=Qt[--Yt],Qt[Yt]=null,Lr=Qt[--Yt],Qt[Yt]=null,Or=Qt[--Yt],Qt[Yt]=null}var Ut=null,jt=null,Le=!1,lr=null;function Zv(t,e){var r=Kt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Kp(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ut=t,jt=_n(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ut=t,jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Zn!==null?{id:Or,overflow:Lr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Kt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ut=t,jt=null,!0):!1;default:return!1}}function tc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rc(t){if(Le){var e=jt;if(e){var r=e;if(!Kp(t,e)){if(tc(t))throw Error(B(418));e=_n(r.nextSibling);var a=Ut;e&&Kp(t,e)?Zv(a,r):(t.flags=t.flags&-4097|2,Le=!1,Ut=t)}}else{if(tc(t))throw Error(B(418));t.flags=t.flags&-4097|2,Le=!1,Ut=t}}}function Zp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ut=t}function Ro(t){if(t!==Ut)return!1;if(!Le)return Zp(t),Le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zu(t.type,t.memoizedProps)),e&&(e=jt)){if(tc(t))throw Xv(),Error(B(418));for(;e;)Zv(t,e),e=_n(e.nextSibling)}if(Zp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){jt=_n(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}jt=null}}else jt=Ut?_n(t.stateNode.nextSibling):null;return!0}function Xv(){for(var t=jt;t;)t=_n(t.nextSibling)}function Ua(){jt=Ut=null,Le=!1}function Bd(t){lr===null?lr=[t]:lr.push(t)}var mS=Kr.ReactCurrentBatchConfig;function fs(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(B(309));var a=r.stateNode}if(!a)throw Error(B(147,t));var n=a,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var i=n.refs;o===null?delete i[s]:i[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!r._owner)throw Error(B(290,t))}return t}function Co(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xp(t){var e=t._init;return e(t._payload)}function Jv(t){function e(m,g){if(t){var _=m.deletions;_===null?(m.deletions=[g],m.flags|=16):_.push(g)}}function r(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function a(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function n(m,g){return m=En(m,g),m.index=0,m.sibling=null,m}function s(m,g,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<g?(m.flags|=2,g):_):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function i(m,g,_,S){return g===null||g.tag!==6?(g=ou(_,m.mode,S),g.return=m,g):(g=n(g,_),g.return=m,g)}function l(m,g,_,S){var x=_.type;return x===ga?c(m,g,_.props.children,S,_.key):g!==null&&(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===an&&Xp(x)===g.type)?(S=n(g,_.props),S.ref=fs(m,g,_),S.return=m,S):(S=ti(_.type,_.key,_.props,null,m.mode,S),S.ref=fs(m,g,_),S.return=m,S)}function u(m,g,_,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=iu(_,m.mode,S),g.return=m,g):(g=n(g,_.children||[]),g.return=m,g)}function c(m,g,_,S,x){return g===null||g.tag!==7?(g=Gn(_,m.mode,S,x),g.return=m,g):(g=n(g,_),g.return=m,g)}function d(m,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ou(""+g,m.mode,_),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Eo:return _=ti(g.type,g.key,g.props,null,m.mode,_),_.ref=fs(m,null,g),_.return=m,_;case va:return g=iu(g,m.mode,_),g.return=m,g;case an:var S=g._init;return d(m,S(g._payload),_)}if(_s(g)||is(g))return g=Gn(g,m.mode,_,null),g.return=m,g;Co(m,g)}return null}function p(m,g,_,S){var x=g!==null?g.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:i(m,g,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Eo:return _.key===x?l(m,g,_,S):null;case va:return _.key===x?u(m,g,_,S):null;case an:return x=_._init,p(m,g,x(_._payload),S)}if(_s(_)||is(_))return x!==null?null:c(m,g,_,S,null);Co(m,_)}return null}function f(m,g,_,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(_)||null,i(g,m,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Eo:return m=m.get(S.key===null?_:S.key)||null,l(g,m,S,x);case va:return m=m.get(S.key===null?_:S.key)||null,u(g,m,S,x);case an:var F=S._init;return f(m,g,_,F(S._payload),x)}if(_s(S)||is(S))return m=m.get(_)||null,c(g,m,S,x,null);Co(g,S)}return null}function h(m,g,_,S){for(var x=null,F=null,M=g,P=g=0,L=null;M!==null&&P<_.length;P++){M.index>P?(L=M,M=null):L=M.sibling;var z=p(m,M,_[P],S);if(z===null){M===null&&(M=L);break}t&&M&&z.alternate===null&&e(m,M),g=s(z,g,P),F===null?x=z:F.sibling=z,F=z,M=L}if(P===_.length)return r(m,M),Le&&jn(m,P),x;if(M===null){for(;P<_.length;P++)M=d(m,_[P],S),M!==null&&(g=s(M,g,P),F===null?x=M:F.sibling=M,F=M);return Le&&jn(m,P),x}for(M=a(m,M);P<_.length;P++)L=f(M,m,P,_[P],S),L!==null&&(t&&L.alternate!==null&&M.delete(L.key===null?P:L.key),g=s(L,g,P),F===null?x=L:F.sibling=L,F=L);return t&&M.forEach(function(G){return e(m,G)}),Le&&jn(m,P),x}function v(m,g,_,S){var x=is(_);if(typeof x!="function")throw Error(B(150));if(_=x.call(_),_==null)throw Error(B(151));for(var F=x=null,M=g,P=g=0,L=null,z=_.next();M!==null&&!z.done;P++,z=_.next()){M.index>P?(L=M,M=null):L=M.sibling;var G=p(m,M,z.value,S);if(G===null){M===null&&(M=L);break}t&&M&&G.alternate===null&&e(m,M),g=s(G,g,P),F===null?x=G:F.sibling=G,F=G,M=L}if(z.done)return r(m,M),Le&&jn(m,P),x;if(M===null){for(;!z.done;P++,z=_.next())z=d(m,z.value,S),z!==null&&(g=s(z,g,P),F===null?x=z:F.sibling=z,F=z);return Le&&jn(m,P),x}for(M=a(m,M);!z.done;P++,z=_.next())z=f(M,m,P,z.value,S),z!==null&&(t&&z.alternate!==null&&M.delete(z.key===null?P:z.key),g=s(z,g,P),F===null?x=z:F.sibling=z,F=z);return t&&M.forEach(function(Q){return e(m,Q)}),Le&&jn(m,P),x}function y(m,g,_,S){if(typeof _=="object"&&_!==null&&_.type===ga&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Eo:e:{for(var x=_.key,F=g;F!==null;){if(F.key===x){if(x=_.type,x===ga){if(F.tag===7){r(m,F.sibling),g=n(F,_.props.children),g.return=m,m=g;break e}}else if(F.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===an&&Xp(x)===F.type){r(m,F.sibling),g=n(F,_.props),g.ref=fs(m,F,_),g.return=m,m=g;break e}r(m,F);break}else e(m,F);F=F.sibling}_.type===ga?(g=Gn(_.props.children,m.mode,S,_.key),g.return=m,m=g):(S=ti(_.type,_.key,_.props,null,m.mode,S),S.ref=fs(m,g,_),S.return=m,m=S)}return o(m);case va:e:{for(F=_.key;g!==null;){if(g.key===F)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){r(m,g.sibling),g=n(g,_.children||[]),g.return=m,m=g;break e}else{r(m,g);break}else e(m,g);g=g.sibling}g=iu(_,m.mode,S),g.return=m,m=g}return o(m);case an:return F=_._init,y(m,g,F(_._payload),S)}if(_s(_))return h(m,g,_,S);if(is(_))return v(m,g,_,S);Co(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,g!==null&&g.tag===6?(r(m,g.sibling),g=n(g,_),g.return=m,m=g):(r(m,g),g=ou(_,m.mode,S),g.return=m,m=g),o(m)):r(m,g)}return y}var $a=Jv(!0),eg=Jv(!1),yi=Nn(null),wi=null,xa=null,Wd=null;function Vd(){Wd=xa=wi=null}function qd(t){var e=yi.current;Re(yi),t._currentValue=e}function nc(t,e,r){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===r)break;t=t.return}}function Ia(t,e){wi=t,Wd=xa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rt=!0),t.firstContext=null)}function Xt(t){var e=t._currentValue;if(Wd!==t)if(t={context:t,memoizedValue:e,next:null},xa===null){if(wi===null)throw Error(B(308));xa=t,wi.dependencies={lanes:0,firstContext:t}}else xa=xa.next=t;return e}var Bn=null;function Gd(t){Bn===null?Bn=[t]:Bn.push(t)}function tg(t,e,r,a){var n=e.interleaved;return n===null?(r.next=r,Gd(e)):(r.next=n.next,n.next=r),e.interleaved=r,Wr(t,a)}function Wr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var sn=!1;function Qd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yn(t,e,r){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,Ee&2){var n=a.pending;return n===null?e.next=e:(e.next=n.next,n.next=e),a.pending=e,Wr(t,r)}return n=a.interleaved,n===null?(e.next=e,Gd(a)):(e.next=n.next,n.next=e),a.interleaved=e,Wr(t,r)}function Yo(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var a=e.lanes;a&=t.pendingLanes,r|=a,e.lanes=r,Cd(t,r)}}function Jp(t,e){var r=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var n=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?n=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?n=s=e:s=s.next=e}else n=s=e;r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:a.shared,effects:a.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Si(t,e,r,a){var n=t.updateQueue;sn=!1;var s=n.firstBaseUpdate,o=n.lastBaseUpdate,i=n.shared.pending;if(i!==null){n.shared.pending=null;var l=i,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,i=c.lastBaseUpdate,i!==o&&(i===null?c.firstBaseUpdate=u:i.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=n.baseState;o=0,c=u=l=null,i=s;do{var p=i.lane,f=i.eventTime;if((a&p)===p){c!==null&&(c=c.next={eventTime:f,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var h=t,v=i;switch(p=e,f=r,v.tag){case 1:if(h=v.payload,typeof h=="function"){d=h.call(f,d,p);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=v.payload,p=typeof h=="function"?h.call(f,d,p):h,p==null)break e;d=He({},d,p);break e;case 2:sn=!0}}i.callback!==null&&i.lane!==0&&(t.flags|=64,p=n.effects,p===null?n.effects=[i]:p.push(i))}else f={eventTime:f,lane:p,tag:i.tag,payload:i.payload,callback:i.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=p;if(i=i.next,i===null){if(i=n.shared.pending,i===null)break;p=i,i=p.next,p.next=null,n.lastBaseUpdate=p,n.shared.pending=null}}while(!0);if(c===null&&(l=d),n.baseState=l,n.firstBaseUpdate=u,n.lastBaseUpdate=c,e=n.shared.interleaved,e!==null){n=e;do o|=n.lane,n=n.next;while(n!==e)}else s===null&&(n.shared.lanes=0);Jn|=o,t.lanes=o,t.memoizedState=d}}function em(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var a=t[e],n=a.callback;if(n!==null){if(a.callback=null,a=r,typeof n!="function")throw Error(B(191,n));n.call(a)}}}var io={},kr=Nn(io),Gs=Nn(io),Qs=Nn(io);function Wn(t){if(t===io)throw Error(B(174));return t}function Yd(t,e){switch(Me(Qs,e),Me(Gs,t),Me(kr,io),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Du(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Du(e,t)}Re(kr),Me(kr,e)}function Ha(){Re(kr),Re(Gs),Re(Qs)}function ng(t){Wn(Qs.current);var e=Wn(kr.current),r=Du(e,t.type);e!==r&&(Me(Gs,t),Me(kr,r))}function Kd(t){Gs.current===t&&(Re(kr),Re(Gs))}var Ue=Nn(0);function Ei(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var eu=[];function Zd(){for(var t=0;t<eu.length;t++)eu[t]._workInProgressVersionPrimary=null;eu.length=0}var Ko=Kr.ReactCurrentDispatcher,tu=Kr.ReactCurrentBatchConfig,Xn=0,$e=null,at=null,lt=null,bi=!1,As=!1,Ys=0,hS=0;function _t(){throw Error(B(321))}function Xd(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!dr(t[r],e[r]))return!1;return!0}function Jd(t,e,r,a,n,s){if(Xn=s,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ko.current=t===null||t.memoizedState===null?yS:wS,t=r(a,n),As){s=0;do{if(As=!1,Ys=0,25<=s)throw Error(B(301));s+=1,lt=at=null,e.updateQueue=null,Ko.current=SS,t=r(a,n)}while(As)}if(Ko.current=ki,e=at!==null&&at.next!==null,Xn=0,lt=at=$e=null,bi=!1,e)throw Error(B(300));return t}function ef(){var t=Ys!==0;return Ys=0,t}function gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?$e.memoizedState=lt=t:lt=lt.next=t,lt}function Jt(){if(at===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var e=lt===null?$e.memoizedState:lt.next;if(e!==null)lt=e,at=t;else{if(t===null)throw Error(B(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},lt===null?$e.memoizedState=lt=t:lt=lt.next=t}return lt}function Ks(t,e){return typeof e=="function"?e(t):e}function ru(t){var e=Jt(),r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=t;var a=at,n=a.baseQueue,s=r.pending;if(s!==null){if(n!==null){var o=n.next;n.next=s.next,s.next=o}a.baseQueue=n=s,r.pending=null}if(n!==null){s=n.next,a=a.baseState;var i=o=null,l=null,u=s;do{var c=u.lane;if((Xn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),a=u.hasEagerState?u.eagerState:t(a,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(i=l=d,o=a):l=l.next=d,$e.lanes|=c,Jn|=c}u=u.next}while(u!==null&&u!==s);l===null?o=a:l.next=i,dr(a,e.memoizedState)||(Rt=!0),e.memoizedState=a,e.baseState=o,e.baseQueue=l,r.lastRenderedState=a}if(t=r.interleaved,t!==null){n=t;do s=n.lane,$e.lanes|=s,Jn|=s,n=n.next;while(n!==t)}else n===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function nu(t){var e=Jt(),r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=t;var a=r.dispatch,n=r.pending,s=e.memoizedState;if(n!==null){r.pending=null;var o=n=n.next;do s=t(s,o.action),o=o.next;while(o!==n);dr(s,e.memoizedState)||(Rt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,a]}function ag(){}function sg(t,e){var r=$e,a=Jt(),n=e(),s=!dr(a.memoizedState,n);if(s&&(a.memoizedState=n,Rt=!0),a=a.queue,tf(lg.bind(null,r,a,t),[t]),a.getSnapshot!==e||s||lt!==null&&lt.memoizedState.tag&1){if(r.flags|=2048,Zs(9,ig.bind(null,r,a,n,e),void 0,null),ct===null)throw Error(B(349));Xn&30||og(r,e,n)}return n}function og(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function ig(t,e,r,a){e.value=r,e.getSnapshot=a,ug(e)&&cg(t)}function lg(t,e,r){return r(function(){ug(e)&&cg(t)})}function ug(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!dr(t,r)}catch{return!0}}function cg(t){var e=Wr(t,1);e!==null&&cr(e,t,1,-1)}function tm(t){var e=gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:t},e.queue=t,t=t.dispatch=_S.bind(null,$e,t),[e.memoizedState,t]}function Zs(t,e,r,a){return t={tag:t,create:e,destroy:r,deps:a,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(a=r.next,r.next=t,t.next=a,e.lastEffect=t)),t}function dg(){return Jt().memoizedState}function Zo(t,e,r,a){var n=gr();$e.flags|=t,n.memoizedState=Zs(1|e,r,void 0,a===void 0?null:a)}function il(t,e,r,a){var n=Jt();a=a===void 0?null:a;var s=void 0;if(at!==null){var o=at.memoizedState;if(s=o.destroy,a!==null&&Xd(a,o.deps)){n.memoizedState=Zs(e,r,s,a);return}}$e.flags|=t,n.memoizedState=Zs(1|e,r,s,a)}function rm(t,e){return Zo(8390656,8,t,e)}function tf(t,e){return il(2048,8,t,e)}function fg(t,e){return il(4,2,t,e)}function pg(t,e){return il(4,4,t,e)}function mg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hg(t,e,r){return r=r!=null?r.concat([t]):null,il(4,4,mg.bind(null,e,t),r)}function rf(){}function vg(t,e){var r=Jt();e=e===void 0?null:e;var a=r.memoizedState;return a!==null&&e!==null&&Xd(e,a[1])?a[0]:(r.memoizedState=[t,e],t)}function gg(t,e){var r=Jt();e=e===void 0?null:e;var a=r.memoizedState;return a!==null&&e!==null&&Xd(e,a[1])?a[0]:(t=t(),r.memoizedState=[t,e],t)}function _g(t,e,r){return Xn&21?(dr(r,e)||(r=bv(),$e.lanes|=r,Jn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rt=!0),t.memoizedState=r)}function vS(t,e){var r=ke;ke=r!==0&&4>r?r:4,t(!0);var a=tu.transition;tu.transition={};try{t(!1),e()}finally{ke=r,tu.transition=a}}function yg(){return Jt().memoizedState}function gS(t,e,r){var a=Sn(t);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},wg(t))Sg(e,r);else if(r=tg(t,e,r,a),r!==null){var n=xt();cr(r,t,a,n),Eg(r,e,a)}}function _S(t,e,r){var a=Sn(t),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(wg(t))Sg(e,n);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,i=s(o,r);if(n.hasEagerState=!0,n.eagerState=i,dr(i,o)){var l=e.interleaved;l===null?(n.next=n,Gd(e)):(n.next=l.next,l.next=n),e.interleaved=n;return}}catch{}finally{}r=tg(t,e,n,a),r!==null&&(n=xt(),cr(r,t,a,n),Eg(r,e,a))}}function wg(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function Sg(t,e){As=bi=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Eg(t,e,r){if(r&4194240){var a=e.lanes;a&=t.pendingLanes,r|=a,e.lanes=r,Cd(t,r)}}var ki={readContext:Xt,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},yS={readContext:Xt,useCallback:function(t,e){return gr().memoizedState=[t,e===void 0?null:e],t},useContext:Xt,useEffect:rm,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Zo(4194308,4,mg.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Zo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zo(4,2,t,e)},useMemo:function(t,e){var r=gr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var a=gr();return e=r!==void 0?r(e):e,a.memoizedState=a.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},a.queue=t,t=t.dispatch=gS.bind(null,$e,t),[a.memoizedState,t]},useRef:function(t){var e=gr();return t={current:t},e.memoizedState=t},useState:tm,useDebugValue:rf,useDeferredValue:function(t){return gr().memoizedState=t},useTransition:function(){var t=tm(!1),e=t[0];return t=vS.bind(null,t[1]),gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var a=$e,n=gr();if(Le){if(r===void 0)throw Error(B(407));r=r()}else{if(r=e(),ct===null)throw Error(B(349));Xn&30||og(a,e,r)}n.memoizedState=r;var s={value:r,getSnapshot:e};return n.queue=s,rm(lg.bind(null,a,s,t),[t]),a.flags|=2048,Zs(9,ig.bind(null,a,s,r,e),void 0,null),r},useId:function(){var t=gr(),e=ct.identifierPrefix;if(Le){var r=Lr,a=Or;r=(a&~(1<<32-ur(a)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ys++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=hS++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wS={readContext:Xt,useCallback:vg,useContext:Xt,useEffect:tf,useImperativeHandle:hg,useInsertionEffect:fg,useLayoutEffect:pg,useMemo:gg,useReducer:ru,useRef:dg,useState:function(){return ru(Ks)},useDebugValue:rf,useDeferredValue:function(t){var e=Jt();return _g(e,at.memoizedState,t)},useTransition:function(){var t=ru(Ks)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:ag,useSyncExternalStore:sg,useId:yg,unstable_isNewReconciler:!1},SS={readContext:Xt,useCallback:vg,useContext:Xt,useEffect:tf,useImperativeHandle:hg,useInsertionEffect:fg,useLayoutEffect:pg,useMemo:gg,useReducer:nu,useRef:dg,useState:function(){return nu(Ks)},useDebugValue:rf,useDeferredValue:function(t){var e=Jt();return at===null?e.memoizedState=t:_g(e,at.memoizedState,t)},useTransition:function(){var t=nu(Ks)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:ag,useSyncExternalStore:sg,useId:yg,unstable_isNewReconciler:!1};function sr(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function ac(t,e,r,a){e=t.memoizedState,r=r(a,e),r=r==null?e:He({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ll={isMounted:function(t){return(t=t._reactInternals)?la(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var a=xt(),n=Sn(t),s=jr(a,n);s.payload=e,r!=null&&(s.callback=r),e=yn(t,s,n),e!==null&&(cr(e,t,n,a),Yo(e,t,n))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var a=xt(),n=Sn(t),s=jr(a,n);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=yn(t,s,n),e!==null&&(cr(e,t,n,a),Yo(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=xt(),a=Sn(t),n=jr(r,a);n.tag=2,e!=null&&(n.callback=e),e=yn(t,n,a),e!==null&&(cr(e,t,a,r),Yo(e,t,a))}};function nm(t,e,r,a,n,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,s,o):e.prototype&&e.prototype.isPureReactComponent?!Bs(r,a)||!Bs(n,s):!0}function bg(t,e,r){var a=!1,n=xn,s=e.contextType;return typeof s=="object"&&s!==null?s=Xt(s):(n=It(e)?Kn:St.current,a=e.contextTypes,s=(a=a!=null)?ja(t,n):xn),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ll,t.stateNode=e,e._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=s),e}function am(t,e,r,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,a),e.state!==t&&ll.enqueueReplaceState(e,e.state,null)}function sc(t,e,r,a){var n=t.stateNode;n.props=r,n.state=t.memoizedState,n.refs={},Qd(t);var s=e.contextType;typeof s=="object"&&s!==null?n.context=Xt(s):(s=It(e)?Kn:St.current,n.context=ja(t,s)),n.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ac(t,e,s,r),n.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&ll.enqueueReplaceState(n,n.state,null),Si(t,r,n,a),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function Ba(t,e){try{var r="",a=e;do r+=Yw(a),a=a.return;while(a);var n=r}catch(s){n=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:n,digest:null}}function au(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function oc(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var ES=typeof WeakMap=="function"?WeakMap:Map;function kg(t,e,r){r=jr(-1,r),r.tag=3,r.payload={element:null};var a=e.value;return r.callback=function(){Fi||(Fi=!0,vc=a),oc(t,e)},r}function xg(t,e,r){r=jr(-1,r),r.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var n=e.value;r.payload=function(){return a(n)},r.callback=function(){oc(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){oc(t,e),typeof a!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function sm(t,e,r){var a=t.pingCache;if(a===null){a=t.pingCache=new ES;var n=new Set;a.set(e,n)}else n=a.get(e),n===void 0&&(n=new Set,a.set(e,n));n.has(r)||(n.add(r),t=LS.bind(null,t,e,r),e.then(t,t))}function om(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function im(t,e,r,a,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=jr(-1,1),e.tag=2,yn(r,e,1))),r.lanes|=1),t)}var bS=Kr.ReactCurrentOwner,Rt=!1;function kt(t,e,r,a){e.child=t===null?eg(e,null,r,a):$a(e,t.child,r,a)}function lm(t,e,r,a,n){r=r.render;var s=e.ref;return Ia(e,n),a=Jd(t,e,r,a,s,n),r=ef(),t!==null&&!Rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,Vr(t,e,n)):(Le&&r&&$d(e),e.flags|=1,kt(t,e,a,n),e.child)}function um(t,e,r,a,n){if(t===null){var s=r.type;return typeof s=="function"&&!df(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,Fg(t,e,s,a,n)):(t=ti(r.type,null,a,e,e.mode,n),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&n)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Bs,r(o,a)&&t.ref===e.ref)return Vr(t,e,n)}return e.flags|=1,t=En(s,a),t.ref=e.ref,t.return=e,e.child=t}function Fg(t,e,r,a,n){if(t!==null){var s=t.memoizedProps;if(Bs(s,a)&&t.ref===e.ref)if(Rt=!1,e.pendingProps=a=s,(t.lanes&n)!==0)t.flags&131072&&(Rt=!0);else return e.lanes=t.lanes,Vr(t,e,n)}return ic(t,e,r,a,n)}function Pg(t,e,r){var a=e.pendingProps,n=a.children,s=t!==null?t.memoizedState:null;if(a.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(Pa,Dt),Dt|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Me(Pa,Dt),Dt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=s!==null?s.baseLanes:r,Me(Pa,Dt),Dt|=a}else s!==null?(a=s.baseLanes|r,e.memoizedState=null):a=r,Me(Pa,Dt),Dt|=a;return kt(t,e,n,r),e.child}function Mg(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ic(t,e,r,a,n){var s=It(r)?Kn:St.current;return s=ja(e,s),Ia(e,n),r=Jd(t,e,r,a,s,n),a=ef(),t!==null&&!Rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,Vr(t,e,n)):(Le&&a&&$d(e),e.flags|=1,kt(t,e,r,n),e.child)}function cm(t,e,r,a,n){if(It(r)){var s=!0;vi(e)}else s=!1;if(Ia(e,n),e.stateNode===null)Xo(t,e),bg(e,r,a),sc(e,r,a,n),a=!0;else if(t===null){var o=e.stateNode,i=e.memoizedProps;o.props=i;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Xt(u):(u=It(r)?Kn:St.current,u=ja(e,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==a||l!==u)&&am(e,o,a,u),sn=!1;var p=e.memoizedState;o.state=p,Si(e,a,o,n),l=e.memoizedState,i!==a||p!==l||Ct.current||sn?(typeof c=="function"&&(ac(e,r,c,a),l=e.memoizedState),(i=sn||nm(e,r,i,a,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=l),o.props=a,o.state=l,o.context=u,a=i):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{o=e.stateNode,rg(t,e),i=e.memoizedProps,u=e.type===e.elementType?i:sr(e.type,i),o.props=u,d=e.pendingProps,p=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Xt(l):(l=It(r)?Kn:St.current,l=ja(e,l));var f=r.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==d||p!==l)&&am(e,o,a,l),sn=!1,p=e.memoizedState,o.state=p,Si(e,a,o,n);var h=e.memoizedState;i!==d||p!==h||Ct.current||sn?(typeof f=="function"&&(ac(e,r,f,a),h=e.memoizedState),(u=sn||nm(e,r,u,a,p,h,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,h,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,h,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=h),o.props=a,o.state=h,o.context=l,a=u):(typeof o.componentDidUpdate!="function"||i===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),a=!1)}return lc(t,e,r,a,s,n)}function lc(t,e,r,a,n,s){Mg(t,e);var o=(e.flags&128)!==0;if(!a&&!o)return n&&Yp(e,r,!1),Vr(t,e,s);a=e.stateNode,bS.current=e;var i=o&&typeof r.getDerivedStateFromError!="function"?null:a.render();return e.flags|=1,t!==null&&o?(e.child=$a(e,t.child,null,s),e.child=$a(e,null,i,s)):kt(t,e,i,s),e.memoizedState=a.state,n&&Yp(e,r,!0),e.child}function Ag(t){var e=t.stateNode;e.pendingContext?Qp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qp(t,e.context,!1),Yd(t,e.containerInfo)}function dm(t,e,r,a,n){return Ua(),Bd(n),e.flags|=256,kt(t,e,r,a),e.child}var uc={dehydrated:null,treeContext:null,retryLane:0};function cc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Tg(t,e,r){var a=e.pendingProps,n=Ue.current,s=!1,o=(e.flags&128)!==0,i;if((i=o)||(i=t!==null&&t.memoizedState===null?!1:(n&2)!==0),i?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),Me(Ue,n&1),t===null)return rc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=a.children,t=a.fallback,s?(a=e.mode,s=e.child,o={mode:"hidden",children:o},!(a&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=dl(o,a,0,null),t=Gn(t,a,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=cc(r),e.memoizedState=uc,t):nf(e,o));if(n=t.memoizedState,n!==null&&(i=n.dehydrated,i!==null))return kS(t,e,o,a,i,n,r);if(s){s=a.fallback,o=e.mode,n=t.child,i=n.sibling;var l={mode:"hidden",children:a.children};return!(o&1)&&e.child!==n?(a=e.child,a.childLanes=0,a.pendingProps=l,e.deletions=null):(a=En(n,l),a.subtreeFlags=n.subtreeFlags&14680064),i!==null?s=En(i,s):(s=Gn(s,o,r,null),s.flags|=2),s.return=e,a.return=e,a.sibling=s,e.child=a,a=s,s=e.child,o=t.child.memoizedState,o=o===null?cc(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=uc,a}return s=t.child,t=s.sibling,a=En(s,{mode:"visible",children:a.children}),!(e.mode&1)&&(a.lanes=r),a.return=e,a.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=a,e.memoizedState=null,a}function nf(t,e){return e=dl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Io(t,e,r,a){return a!==null&&Bd(a),$a(e,t.child,null,r),t=nf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kS(t,e,r,a,n,s,o){if(r)return e.flags&256?(e.flags&=-257,a=au(Error(B(422))),Io(t,e,o,a)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=a.fallback,n=e.mode,a=dl({mode:"visible",children:a.children},n,0,null),s=Gn(s,n,o,null),s.flags|=2,a.return=e,s.return=e,a.sibling=s,e.child=a,e.mode&1&&$a(e,t.child,null,o),e.child.memoizedState=cc(o),e.memoizedState=uc,s);if(!(e.mode&1))return Io(t,e,o,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var i=a.dgst;return a=i,s=Error(B(419)),a=au(s,a,void 0),Io(t,e,o,a)}if(i=(o&t.childLanes)!==0,Rt||i){if(a=ct,a!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|o)?0:n,n!==0&&n!==s.retryLane&&(s.retryLane=n,Wr(t,n),cr(a,t,n,-1))}return cf(),a=au(Error(B(421))),Io(t,e,o,a)}return n.data==="$?"?(e.flags|=128,e.child=t.child,e=DS.bind(null,t),n._reactRetry=e,null):(t=s.treeContext,jt=_n(n.nextSibling),Ut=e,Le=!0,lr=null,t!==null&&(Qt[Yt++]=Or,Qt[Yt++]=Lr,Qt[Yt++]=Zn,Or=t.id,Lr=t.overflow,Zn=e),e=nf(e,a.children),e.flags|=4096,e)}function fm(t,e,r){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),nc(t.return,e,r)}function su(t,e,r,a,n){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=r,s.tailMode=n)}function Ng(t,e,r){var a=e.pendingProps,n=a.revealOrder,s=a.tail;if(kt(t,e,a.children,r),a=Ue.current,a&2)a=a&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fm(t,r,e);else if(t.tag===19)fm(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(Me(Ue,a),!(e.mode&1))e.memoizedState=null;else switch(n){case"forwards":for(r=e.child,n=null;r!==null;)t=r.alternate,t!==null&&Ei(t)===null&&(n=r),r=r.sibling;r=n,r===null?(n=e.child,e.child=null):(n=r.sibling,r.sibling=null),su(e,!1,n,r,s);break;case"backwards":for(r=null,n=e.child,e.child=null;n!==null;){if(t=n.alternate,t!==null&&Ei(t)===null){e.child=n;break}t=n.sibling,n.sibling=r,r=n,n=t}su(e,!0,r,null,s);break;case"together":su(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Jn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,r=En(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=En(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function xS(t,e,r){switch(e.tag){case 3:Ag(e),Ua();break;case 5:ng(e);break;case 1:It(e.type)&&vi(e);break;case 4:Yd(e,e.stateNode.containerInfo);break;case 10:var a=e.type._context,n=e.memoizedProps.value;Me(yi,a._currentValue),a._currentValue=n;break;case 13:if(a=e.memoizedState,a!==null)return a.dehydrated!==null?(Me(Ue,Ue.current&1),e.flags|=128,null):r&e.child.childLanes?Tg(t,e,r):(Me(Ue,Ue.current&1),t=Vr(t,e,r),t!==null?t.sibling:null);Me(Ue,Ue.current&1);break;case 19:if(a=(r&e.childLanes)!==0,t.flags&128){if(a)return Ng(t,e,r);e.flags|=128}if(n=e.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Me(Ue,Ue.current),a)break;return null;case 22:case 23:return e.lanes=0,Pg(t,e,r)}return Vr(t,e,r)}var Rg,dc,Cg,Ig;Rg=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};dc=function(){};Cg=function(t,e,r,a){var n=t.memoizedProps;if(n!==a){t=e.stateNode,Wn(kr.current);var s=null;switch(r){case"input":n=Cu(t,n),a=Cu(t,a),s=[];break;case"select":n=He({},n,{value:void 0}),a=He({},a,{value:void 0}),s=[];break;case"textarea":n=Lu(t,n),a=Lu(t,a),s=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=mi)}zu(r,a);var o;r=null;for(u in n)if(!a.hasOwnProperty(u)&&n.hasOwnProperty(u)&&n[u]!=null)if(u==="style"){var i=n[u];for(o in i)i.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ls.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in a){var l=a[u];if(i=n!=null?n[u]:void 0,a.hasOwnProperty(u)&&l!==i&&(l!=null||i!=null))if(u==="style")if(i){for(o in i)!i.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&i[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,i=i?i.__html:void 0,l!=null&&i!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ls.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Te("scroll",t),s||i===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Ig=function(t,e,r,a){r!==a&&(e.flags|=4)};function ps(t,e){if(!Le)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,a=0;if(e)for(var n=t.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=a,t.childLanes=r,e}function FS(t,e,r){var a=e.pendingProps;switch(Hd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(e),null;case 1:return It(e.type)&&hi(),yt(e),null;case 3:return a=e.stateNode,Ha(),Re(Ct),Re(St),Zd(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ro(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lr!==null&&(yc(lr),lr=null))),dc(t,e),yt(e),null;case 5:Kd(e);var n=Wn(Qs.current);if(r=e.type,t!==null&&e.stateNode!=null)Cg(t,e,r,a,n),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!a){if(e.stateNode===null)throw Error(B(166));return yt(e),null}if(t=Wn(kr.current),Ro(e)){a=e.stateNode,r=e.type;var s=e.memoizedProps;switch(a[yr]=e,a[qs]=s,t=(e.mode&1)!==0,r){case"dialog":Te("cancel",a),Te("close",a);break;case"iframe":case"object":case"embed":Te("load",a);break;case"video":case"audio":for(n=0;n<ws.length;n++)Te(ws[n],a);break;case"source":Te("error",a);break;case"img":case"image":case"link":Te("error",a),Te("load",a);break;case"details":Te("toggle",a);break;case"input":Sp(a,s),Te("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!s.multiple},Te("invalid",a);break;case"textarea":bp(a,s),Te("invalid",a)}zu(r,s),n=null;for(var o in s)if(s.hasOwnProperty(o)){var i=s[o];o==="children"?typeof i=="string"?a.textContent!==i&&(s.suppressHydrationWarning!==!0&&No(a.textContent,i,t),n=["children",i]):typeof i=="number"&&a.textContent!==""+i&&(s.suppressHydrationWarning!==!0&&No(a.textContent,i,t),n=["children",""+i]):Ls.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&Te("scroll",a)}switch(r){case"input":bo(a),Ep(a,s,!0);break;case"textarea":bo(a),kp(a);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(a.onclick=mi)}a=n,e.updateQueue=a,a!==null&&(e.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lv(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=o.createElement(r,{is:a.is}):(t=o.createElement(r),r==="select"&&(o=t,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):t=o.createElementNS(t,r),t[yr]=e,t[qs]=a,Rg(t,e,!1,!1),e.stateNode=t;e:{switch(o=ju(r,a),r){case"dialog":Te("cancel",t),Te("close",t),n=a;break;case"iframe":case"object":case"embed":Te("load",t),n=a;break;case"video":case"audio":for(n=0;n<ws.length;n++)Te(ws[n],t);n=a;break;case"source":Te("error",t),n=a;break;case"img":case"image":case"link":Te("error",t),Te("load",t),n=a;break;case"details":Te("toggle",t),n=a;break;case"input":Sp(t,a),n=Cu(t,a),Te("invalid",t);break;case"option":n=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},n=He({},a,{value:void 0}),Te("invalid",t);break;case"textarea":bp(t,a),n=Lu(t,a),Te("invalid",t);break;default:n=a}zu(r,n),i=n;for(s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="style"?dv(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&uv(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ds(t,l):typeof l=="number"&&Ds(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ls.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Te("scroll",t):l!=null&&Pd(t,s,l,o))}switch(r){case"input":bo(t),Ep(t,a,!1);break;case"textarea":bo(t),kp(t);break;case"option":a.value!=null&&t.setAttribute("value",""+kn(a.value));break;case"select":t.multiple=!!a.multiple,s=a.value,s!=null?Ta(t,!!a.multiple,s,!1):a.defaultValue!=null&&Ta(t,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=mi)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yt(e),null;case 6:if(t&&e.stateNode!=null)Ig(t,e,t.memoizedProps,a);else{if(typeof a!="string"&&e.stateNode===null)throw Error(B(166));if(r=Wn(Qs.current),Wn(kr.current),Ro(e)){if(a=e.stateNode,r=e.memoizedProps,a[yr]=e,(s=a.nodeValue!==r)&&(t=Ut,t!==null))switch(t.tag){case 3:No(a.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&No(a.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[yr]=e,e.stateNode=a}return yt(e),null;case 13:if(Re(Ue),a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Le&&jt!==null&&e.mode&1&&!(e.flags&128))Xv(),Ua(),e.flags|=98560,s=!1;else if(s=Ro(e),a!==null&&a.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[yr]=e}else Ua(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yt(e),s=!1}else lr!==null&&(yc(lr),lr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(e.child.flags|=8192,e.mode&1&&(t===null||Ue.current&1?st===0&&(st=3):cf())),e.updateQueue!==null&&(e.flags|=4),yt(e),null);case 4:return Ha(),dc(t,e),t===null&&Ws(e.stateNode.containerInfo),yt(e),null;case 10:return qd(e.type._context),yt(e),null;case 17:return It(e.type)&&hi(),yt(e),null;case 19:if(Re(Ue),s=e.memoizedState,s===null)return yt(e),null;if(a=(e.flags&128)!==0,o=s.rendering,o===null)if(a)ps(s,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ei(t),o!==null){for(e.flags|=128,ps(s,!1),a=o.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),e.subtreeFlags=0,a=r,r=e.child;r!==null;)s=r,t=a,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Me(Ue,Ue.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ke()>Wa&&(e.flags|=128,a=!0,ps(s,!1),e.lanes=4194304)}else{if(!a)if(t=Ei(o),t!==null){if(e.flags|=128,a=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ps(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Le)return yt(e),null}else 2*Ke()-s.renderingStartTime>Wa&&r!==1073741824&&(e.flags|=128,a=!0,ps(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ke(),e.sibling=null,r=Ue.current,Me(Ue,a?r&1|2:r&1),e):(yt(e),null);case 22:case 23:return uf(),a=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(e.flags|=8192),a&&e.mode&1?Dt&1073741824&&(yt(e),e.subtreeFlags&6&&(e.flags|=8192)):yt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function PS(t,e){switch(Hd(e),e.tag){case 1:return It(e.type)&&hi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ha(),Re(Ct),Re(St),Zd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kd(e),null;case 13:if(Re(Ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Ua()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(Ue),null;case 4:return Ha(),null;case 10:return qd(e.type._context),null;case 22:case 23:return uf(),null;case 24:return null;default:return null}}var Oo=!1,wt=!1,MS=typeof WeakSet=="function"?WeakSet:Set,X=null;function Fa(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){We(t,e,a)}else r.current=null}function fc(t,e,r){try{r()}catch(a){We(t,e,a)}}var pm=!1;function AS(t,e){if(Yu=di,t=jv(),Ud(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var n=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,i=-1,l=-1,u=0,c=0,d=t,p=null;t:for(;;){for(var f;d!==r||n!==0&&d.nodeType!==3||(i=o+n),d!==s||a!==0&&d.nodeType!==3||(l=o+a),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)p=d,d=f;for(;;){if(d===t)break t;if(p===r&&++u===n&&(i=o),p===s&&++c===a&&(l=o),(f=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=f}r=i===-1||l===-1?null:{start:i,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ku={focusedElem:t,selectionRange:r},di=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var v=h.memoizedProps,y=h.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:sr(e.type,v),y);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(S){We(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return h=pm,pm=!1,h}function Ts(t,e,r){var a=e.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&t)===t){var s=n.destroy;n.destroy=void 0,s!==void 0&&fc(e,r,s)}n=n.next}while(n!==a)}}function ul(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var a=r.create;r.destroy=a()}r=r.next}while(r!==e)}}function pc(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Og(t){var e=t.alternate;e!==null&&(t.alternate=null,Og(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yr],delete e[qs],delete e[Ju],delete e[dS],delete e[fS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Lg(t){return t.tag===5||t.tag===3||t.tag===4}function mm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mc(t,e,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=mi));else if(a!==4&&(t=t.child,t!==null))for(mc(t,e,r),t=t.sibling;t!==null;)mc(t,e,r),t=t.sibling}function hc(t,e,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(hc(t,e,r),t=t.sibling;t!==null;)hc(t,e,r),t=t.sibling}var pt=null,ir=!1;function rn(t,e,r){for(r=r.child;r!==null;)Dg(t,e,r),r=r.sibling}function Dg(t,e,r){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(tl,r)}catch{}switch(r.tag){case 5:wt||Fa(r,e);case 6:var a=pt,n=ir;pt=null,rn(t,e,r),pt=a,ir=n,pt!==null&&(ir?(t=pt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):pt.removeChild(r.stateNode));break;case 18:pt!==null&&(ir?(t=pt,r=r.stateNode,t.nodeType===8?Xl(t.parentNode,r):t.nodeType===1&&Xl(t,r),$s(t)):Xl(pt,r.stateNode));break;case 4:a=pt,n=ir,pt=r.stateNode.containerInfo,ir=!0,rn(t,e,r),pt=a,ir=n;break;case 0:case 11:case 14:case 15:if(!wt&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var s=n,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&fc(r,e,o),n=n.next}while(n!==a)}rn(t,e,r);break;case 1:if(!wt&&(Fa(r,e),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(i){We(r,e,i)}rn(t,e,r);break;case 21:rn(t,e,r);break;case 22:r.mode&1?(wt=(a=wt)||r.memoizedState!==null,rn(t,e,r),wt=a):rn(t,e,r);break;default:rn(t,e,r)}}function hm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new MS),e.forEach(function(a){var n=zS.bind(null,t,a);r.has(a)||(r.add(a),a.then(n,n))})}}function nr(t,e){var r=e.deletions;if(r!==null)for(var a=0;a<r.length;a++){var n=r[a];try{var s=t,o=e,i=o;e:for(;i!==null;){switch(i.tag){case 5:pt=i.stateNode,ir=!1;break e;case 3:pt=i.stateNode.containerInfo,ir=!0;break e;case 4:pt=i.stateNode.containerInfo,ir=!0;break e}i=i.return}if(pt===null)throw Error(B(160));Dg(s,o,n),pt=null,ir=!1;var l=n.alternate;l!==null&&(l.return=null),n.return=null}catch(u){We(n,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zg(e,t),e=e.sibling}function zg(t,e){var r=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nr(e,t),vr(t),a&4){try{Ts(3,t,t.return),ul(3,t)}catch(v){We(t,t.return,v)}try{Ts(5,t,t.return)}catch(v){We(t,t.return,v)}}break;case 1:nr(e,t),vr(t),a&512&&r!==null&&Fa(r,r.return);break;case 5:if(nr(e,t),vr(t),a&512&&r!==null&&Fa(r,r.return),t.flags&32){var n=t.stateNode;try{Ds(n,"")}catch(v){We(t,t.return,v)}}if(a&4&&(n=t.stateNode,n!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,i=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{i==="input"&&s.type==="radio"&&s.name!=null&&ov(n,s),ju(i,o);var u=ju(i,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?dv(n,d):c==="dangerouslySetInnerHTML"?uv(n,d):c==="children"?Ds(n,d):Pd(n,c,d,u)}switch(i){case"input":Iu(n,s);break;case"textarea":iv(n,s);break;case"select":var p=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Ta(n,!!s.multiple,f,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ta(n,!!s.multiple,s.defaultValue,!0):Ta(n,!!s.multiple,s.multiple?[]:"",!1))}n[qs]=s}catch(v){We(t,t.return,v)}}break;case 6:if(nr(e,t),vr(t),a&4){if(t.stateNode===null)throw Error(B(162));n=t.stateNode,s=t.memoizedProps;try{n.nodeValue=s}catch(v){We(t,t.return,v)}}break;case 3:if(nr(e,t),vr(t),a&4&&r!==null&&r.memoizedState.isDehydrated)try{$s(e.containerInfo)}catch(v){We(t,t.return,v)}break;case 4:nr(e,t),vr(t);break;case 13:nr(e,t),vr(t),n=t.child,n.flags&8192&&(s=n.memoizedState!==null,n.stateNode.isHidden=s,!s||n.alternate!==null&&n.alternate.memoizedState!==null||(of=Ke())),a&4&&hm(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(wt=(u=wt)||c,nr(e,t),wt=u):nr(e,t),vr(t),a&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(X=t,c=t.child;c!==null;){for(d=X=c;X!==null;){switch(p=X,f=p.child,p.tag){case 0:case 11:case 14:case 15:Ts(4,p,p.return);break;case 1:Fa(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){a=p,r=p.return;try{e=a,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(v){We(a,r,v)}}break;case 5:Fa(p,p.return);break;case 22:if(p.memoizedState!==null){gm(d);continue}}f!==null?(f.return=p,X=f):gm(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{n=d.stateNode,u?(s=n.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(i=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,i.style.display=cv("display",o))}catch(v){We(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){We(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:nr(e,t),vr(t),a&4&&hm(t);break;case 21:break;default:nr(e,t),vr(t)}}function vr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Lg(r)){var a=r;break e}r=r.return}throw Error(B(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(Ds(n,""),a.flags&=-33);var s=mm(t);hc(t,s,n);break;case 3:case 4:var o=a.stateNode.containerInfo,i=mm(t);mc(t,i,o);break;default:throw Error(B(161))}}catch(l){We(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TS(t,e,r){X=t,jg(t)}function jg(t,e,r){for(var a=(t.mode&1)!==0;X!==null;){var n=X,s=n.child;if(n.tag===22&&a){var o=n.memoizedState!==null||Oo;if(!o){var i=n.alternate,l=i!==null&&i.memoizedState!==null||wt;i=Oo;var u=wt;if(Oo=o,(wt=l)&&!u)for(X=n;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?_m(n):l!==null?(l.return=o,X=l):_m(n);for(;s!==null;)X=s,jg(s),s=s.sibling;X=n,Oo=i,wt=u}vm(t)}else n.subtreeFlags&8772&&s!==null?(s.return=n,X=s):vm(t)}}function vm(t){for(;X!==null;){var e=X;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wt||ul(5,e);break;case 1:var a=e.stateNode;if(e.flags&4&&!wt)if(r===null)a.componentDidMount();else{var n=e.elementType===e.type?r.memoizedProps:sr(e.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&em(e,s,a);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}em(e,o,r)}break;case 5:var i=e.stateNode;if(r===null&&e.flags&4){r=i;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&$s(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}wt||e.flags&512&&pc(e)}catch(p){We(e,e.return,p)}}if(e===t){X=null;break}if(r=e.sibling,r!==null){r.return=e.return,X=r;break}X=e.return}}function gm(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var r=e.sibling;if(r!==null){r.return=e.return,X=r;break}X=e.return}}function _m(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{ul(4,e)}catch(l){We(e,r,l)}break;case 1:var a=e.stateNode;if(typeof a.componentDidMount=="function"){var n=e.return;try{a.componentDidMount()}catch(l){We(e,n,l)}}var s=e.return;try{pc(e)}catch(l){We(e,s,l)}break;case 5:var o=e.return;try{pc(e)}catch(l){We(e,o,l)}}}catch(l){We(e,e.return,l)}if(e===t){X=null;break}var i=e.sibling;if(i!==null){i.return=e.return,X=i;break}X=e.return}}var NS=Math.ceil,xi=Kr.ReactCurrentDispatcher,af=Kr.ReactCurrentOwner,Zt=Kr.ReactCurrentBatchConfig,Ee=0,ct=null,et=null,mt=0,Dt=0,Pa=Nn(0),st=0,Xs=null,Jn=0,cl=0,sf=0,Ns=null,Nt=null,of=0,Wa=1/0,Cr=null,Fi=!1,vc=null,wn=null,Lo=!1,fn=null,Pi=0,Rs=0,gc=null,Jo=-1,ei=0;function xt(){return Ee&6?Ke():Jo!==-1?Jo:Jo=Ke()}function Sn(t){return t.mode&1?Ee&2&&mt!==0?mt&-mt:mS.transition!==null?(ei===0&&(ei=bv()),ei):(t=ke,t!==0||(t=window.event,t=t===void 0?16:Tv(t.type)),t):1}function cr(t,e,r,a){if(50<Rs)throw Rs=0,gc=null,Error(B(185));ao(t,r,a),(!(Ee&2)||t!==ct)&&(t===ct&&(!(Ee&2)&&(cl|=r),st===4&&cn(t,mt)),Ot(t,a),r===1&&Ee===0&&!(e.mode&1)&&(Wa=Ke()+500,ol&&Rn()))}function Ot(t,e){var r=t.callbackNode;m0(t,e);var a=ci(t,t===ct?mt:0);if(a===0)r!==null&&Pp(r),t.callbackNode=null,t.callbackPriority=0;else if(e=a&-a,t.callbackPriority!==e){if(r!=null&&Pp(r),e===1)t.tag===0?pS(ym.bind(null,t)):Yv(ym.bind(null,t)),uS(function(){!(Ee&6)&&Rn()}),r=null;else{switch(kv(a)){case 1:r=Rd;break;case 4:r=Sv;break;case 16:r=ui;break;case 536870912:r=Ev;break;default:r=ui}r=Gg(r,Ug.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Ug(t,e){if(Jo=-1,ei=0,Ee&6)throw Error(B(327));var r=t.callbackNode;if(Oa()&&t.callbackNode!==r)return null;var a=ci(t,t===ct?mt:0);if(a===0)return null;if(a&30||a&t.expiredLanes||e)e=Mi(t,a);else{e=a;var n=Ee;Ee|=2;var s=Hg();(ct!==t||mt!==e)&&(Cr=null,Wa=Ke()+500,qn(t,e));do try{IS();break}catch(i){$g(t,i)}while(!0);Vd(),xi.current=s,Ee=n,et!==null?e=0:(ct=null,mt=0,e=st)}if(e!==0){if(e===2&&(n=Wu(t),n!==0&&(a=n,e=_c(t,n))),e===1)throw r=Xs,qn(t,0),cn(t,a),Ot(t,Ke()),r;if(e===6)cn(t,a);else{if(n=t.current.alternate,!(a&30)&&!RS(n)&&(e=Mi(t,a),e===2&&(s=Wu(t),s!==0&&(a=s,e=_c(t,s))),e===1))throw r=Xs,qn(t,0),cn(t,a),Ot(t,Ke()),r;switch(t.finishedWork=n,t.finishedLanes=a,e){case 0:case 1:throw Error(B(345));case 2:Un(t,Nt,Cr);break;case 3:if(cn(t,a),(a&130023424)===a&&(e=of+500-Ke(),10<e)){if(ci(t,0)!==0)break;if(n=t.suspendedLanes,(n&a)!==a){xt(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=Xu(Un.bind(null,t,Nt,Cr),e);break}Un(t,Nt,Cr);break;case 4:if(cn(t,a),(a&4194240)===a)break;for(e=t.eventTimes,n=-1;0<a;){var o=31-ur(a);s=1<<o,o=e[o],o>n&&(n=o),a&=~s}if(a=n,a=Ke()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*NS(a/1960))-a,10<a){t.timeoutHandle=Xu(Un.bind(null,t,Nt,Cr),a);break}Un(t,Nt,Cr);break;case 5:Un(t,Nt,Cr);break;default:throw Error(B(329))}}}return Ot(t,Ke()),t.callbackNode===r?Ug.bind(null,t):null}function _c(t,e){var r=Ns;return t.current.memoizedState.isDehydrated&&(qn(t,e).flags|=256),t=Mi(t,e),t!==2&&(e=Nt,Nt=r,e!==null&&yc(e)),t}function yc(t){Nt===null?Nt=t:Nt.push.apply(Nt,t)}function RS(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var n=r[a],s=n.getSnapshot;n=n.value;try{if(!dr(s(),n))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cn(t,e){for(e&=~sf,e&=~cl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ur(e),a=1<<r;t[r]=-1,e&=~a}}function ym(t){if(Ee&6)throw Error(B(327));Oa();var e=ci(t,0);if(!(e&1))return Ot(t,Ke()),null;var r=Mi(t,e);if(t.tag!==0&&r===2){var a=Wu(t);a!==0&&(e=a,r=_c(t,a))}if(r===1)throw r=Xs,qn(t,0),cn(t,e),Ot(t,Ke()),r;if(r===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Un(t,Nt,Cr),Ot(t,Ke()),null}function lf(t,e){var r=Ee;Ee|=1;try{return t(e)}finally{Ee=r,Ee===0&&(Wa=Ke()+500,ol&&Rn())}}function ea(t){fn!==null&&fn.tag===0&&!(Ee&6)&&Oa();var e=Ee;Ee|=1;var r=Zt.transition,a=ke;try{if(Zt.transition=null,ke=1,t)return t()}finally{ke=a,Zt.transition=r,Ee=e,!(Ee&6)&&Rn()}}function uf(){Dt=Pa.current,Re(Pa)}function qn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,lS(r)),et!==null)for(r=et.return;r!==null;){var a=r;switch(Hd(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&hi();break;case 3:Ha(),Re(Ct),Re(St),Zd();break;case 5:Kd(a);break;case 4:Ha();break;case 13:Re(Ue);break;case 19:Re(Ue);break;case 10:qd(a.type._context);break;case 22:case 23:uf()}r=r.return}if(ct=t,et=t=En(t.current,null),mt=Dt=e,st=0,Xs=null,sf=cl=Jn=0,Nt=Ns=null,Bn!==null){for(e=0;e<Bn.length;e++)if(r=Bn[e],a=r.interleaved,a!==null){r.interleaved=null;var n=a.next,s=r.pending;if(s!==null){var o=s.next;s.next=n,a.next=o}r.pending=a}Bn=null}return t}function $g(t,e){do{var r=et;try{if(Vd(),Ko.current=ki,bi){for(var a=$e.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}bi=!1}if(Xn=0,lt=at=$e=null,As=!1,Ys=0,af.current=null,r===null||r.return===null){st=1,Xs=e,et=null;break}e:{var s=t,o=r.return,i=r,l=e;if(e=mt,i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=i,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=om(o);if(f!==null){f.flags&=-257,im(f,o,i,s,e),f.mode&1&&sm(s,u,e),e=f,l=u;var h=e.updateQueue;if(h===null){var v=new Set;v.add(l),e.updateQueue=v}else h.add(l);break e}else{if(!(e&1)){sm(s,u,e),cf();break e}l=Error(B(426))}}else if(Le&&i.mode&1){var y=om(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),im(y,o,i,s,e),Bd(Ba(l,i));break e}}s=l=Ba(l,i),st!==4&&(st=2),Ns===null?Ns=[s]:Ns.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=kg(s,l,e);Jp(s,m);break e;case 1:i=l;var g=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(wn===null||!wn.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=xg(s,i,e);Jp(s,S);break e}}s=s.return}while(s!==null)}Wg(r)}catch(x){e=x,et===r&&r!==null&&(et=r=r.return);continue}break}while(!0)}function Hg(){var t=xi.current;return xi.current=ki,t===null?ki:t}function cf(){(st===0||st===3||st===2)&&(st=4),ct===null||!(Jn&268435455)&&!(cl&268435455)||cn(ct,mt)}function Mi(t,e){var r=Ee;Ee|=2;var a=Hg();(ct!==t||mt!==e)&&(Cr=null,qn(t,e));do try{CS();break}catch(n){$g(t,n)}while(!0);if(Vd(),Ee=r,xi.current=a,et!==null)throw Error(B(261));return ct=null,mt=0,st}function CS(){for(;et!==null;)Bg(et)}function IS(){for(;et!==null&&!s0();)Bg(et)}function Bg(t){var e=qg(t.alternate,t,Dt);t.memoizedProps=t.pendingProps,e===null?Wg(t):et=e,af.current=null}function Wg(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=PS(r,e),r!==null){r.flags&=32767,et=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,et=null;return}}else if(r=FS(r,e,Dt),r!==null){et=r;return}if(e=e.sibling,e!==null){et=e;return}et=e=t}while(e!==null);st===0&&(st=5)}function Un(t,e,r){var a=ke,n=Zt.transition;try{Zt.transition=null,ke=1,OS(t,e,r,a)}finally{Zt.transition=n,ke=a}return null}function OS(t,e,r,a){do Oa();while(fn!==null);if(Ee&6)throw Error(B(327));r=t.finishedWork;var n=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(h0(t,s),t===ct&&(et=ct=null,mt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Lo||(Lo=!0,Gg(ui,function(){return Oa(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Zt.transition,Zt.transition=null;var o=ke;ke=1;var i=Ee;Ee|=4,af.current=null,AS(t,r),zg(r,t),tS(Ku),di=!!Yu,Ku=Yu=null,t.current=r,TS(r),o0(),Ee=i,ke=o,Zt.transition=s}else t.current=r;if(Lo&&(Lo=!1,fn=t,Pi=n),s=t.pendingLanes,s===0&&(wn=null),u0(r.stateNode),Ot(t,Ke()),e!==null)for(a=t.onRecoverableError,r=0;r<e.length;r++)n=e[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(Fi)throw Fi=!1,t=vc,vc=null,t;return Pi&1&&t.tag!==0&&Oa(),s=t.pendingLanes,s&1?t===gc?Rs++:(Rs=0,gc=t):Rs=0,Rn(),null}function Oa(){if(fn!==null){var t=kv(Pi),e=Zt.transition,r=ke;try{if(Zt.transition=null,ke=16>t?16:t,fn===null)var a=!1;else{if(t=fn,fn=null,Pi=0,Ee&6)throw Error(B(331));var n=Ee;for(Ee|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var i=s.deletions;if(i!==null){for(var l=0;l<i.length;l++){var u=i[l];for(X=u;X!==null;){var c=X;switch(c.tag){case 0:case 11:case 15:Ts(8,c,s)}var d=c.child;if(d!==null)d.return=c,X=d;else for(;X!==null;){c=X;var p=c.sibling,f=c.return;if(Og(c),c===u){X=null;break}if(p!==null){p.return=f,X=p;break}X=f}}}var h=s.alternate;if(h!==null){var v=h.child;if(v!==null){h.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ts(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,X=m;break e}X=s.return}}var g=t.current;for(X=g;X!==null;){o=X;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,X=_;else e:for(o=g;X!==null;){if(i=X,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:ul(9,i)}}catch(x){We(i,i.return,x)}if(i===o){X=null;break e}var S=i.sibling;if(S!==null){S.return=i.return,X=S;break e}X=i.return}}if(Ee=n,Rn(),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(tl,t)}catch{}a=!0}return a}finally{ke=r,Zt.transition=e}}return!1}function wm(t,e,r){e=Ba(r,e),e=kg(t,e,1),t=yn(t,e,1),e=xt(),t!==null&&(ao(t,1,e),Ot(t,e))}function We(t,e,r){if(t.tag===3)wm(t,t,r);else for(;e!==null;){if(e.tag===3){wm(e,t,r);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(wn===null||!wn.has(a))){t=Ba(r,t),t=xg(e,t,1),e=yn(e,t,1),t=xt(),e!==null&&(ao(e,1,t),Ot(e,t));break}}e=e.return}}function LS(t,e,r){var a=t.pingCache;a!==null&&a.delete(e),e=xt(),t.pingedLanes|=t.suspendedLanes&r,ct===t&&(mt&r)===r&&(st===4||st===3&&(mt&130023424)===mt&&500>Ke()-of?qn(t,0):sf|=r),Ot(t,e)}function Vg(t,e){e===0&&(t.mode&1?(e=Fo,Fo<<=1,!(Fo&130023424)&&(Fo=4194304)):e=1);var r=xt();t=Wr(t,e),t!==null&&(ao(t,e,r),Ot(t,r))}function DS(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Vg(t,r)}function zS(t,e){var r=0;switch(t.tag){case 13:var a=t.stateNode,n=t.memoizedState;n!==null&&(r=n.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(B(314))}a!==null&&a.delete(e),Vg(t,r)}var qg;qg=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ct.current)Rt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Rt=!1,xS(t,e,r);Rt=!!(t.flags&131072)}else Rt=!1,Le&&e.flags&1048576&&Kv(e,_i,e.index);switch(e.lanes=0,e.tag){case 2:var a=e.type;Xo(t,e),t=e.pendingProps;var n=ja(e,St.current);Ia(e,r),n=Jd(null,e,a,t,n,r);var s=ef();return e.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,It(a)?(s=!0,vi(e)):s=!1,e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Qd(e),n.updater=ll,e.stateNode=n,n._reactInternals=e,sc(e,a,t,r),e=lc(null,e,a,!0,s,r)):(e.tag=0,Le&&s&&$d(e),kt(null,e,n,r),e=e.child),e;case 16:a=e.elementType;e:{switch(Xo(t,e),t=e.pendingProps,n=a._init,a=n(a._payload),e.type=a,n=e.tag=US(a),t=sr(a,t),n){case 0:e=ic(null,e,a,t,r);break e;case 1:e=cm(null,e,a,t,r);break e;case 11:e=lm(null,e,a,t,r);break e;case 14:e=um(null,e,a,sr(a.type,t),r);break e}throw Error(B(306,a,""))}return e;case 0:return a=e.type,n=e.pendingProps,n=e.elementType===a?n:sr(a,n),ic(t,e,a,n,r);case 1:return a=e.type,n=e.pendingProps,n=e.elementType===a?n:sr(a,n),cm(t,e,a,n,r);case 3:e:{if(Ag(e),t===null)throw Error(B(387));a=e.pendingProps,s=e.memoizedState,n=s.element,rg(t,e),Si(e,a,null,r);var o=e.memoizedState;if(a=o.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){n=Ba(Error(B(423)),e),e=dm(t,e,a,r,n);break e}else if(a!==n){n=Ba(Error(B(424)),e),e=dm(t,e,a,r,n);break e}else for(jt=_n(e.stateNode.containerInfo.firstChild),Ut=e,Le=!0,lr=null,r=eg(e,null,a,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ua(),a===n){e=Vr(t,e,r);break e}kt(t,e,a,r)}e=e.child}return e;case 5:return ng(e),t===null&&rc(e),a=e.type,n=e.pendingProps,s=t!==null?t.memoizedProps:null,o=n.children,Zu(a,n)?o=null:s!==null&&Zu(a,s)&&(e.flags|=32),Mg(t,e),kt(t,e,o,r),e.child;case 6:return t===null&&rc(e),null;case 13:return Tg(t,e,r);case 4:return Yd(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=$a(e,null,a,r):kt(t,e,a,r),e.child;case 11:return a=e.type,n=e.pendingProps,n=e.elementType===a?n:sr(a,n),lm(t,e,a,n,r);case 7:return kt(t,e,e.pendingProps,r),e.child;case 8:return kt(t,e,e.pendingProps.children,r),e.child;case 12:return kt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(a=e.type._context,n=e.pendingProps,s=e.memoizedProps,o=n.value,Me(yi,a._currentValue),a._currentValue=o,s!==null)if(dr(s.value,o)){if(s.children===n.children&&!Ct.current){e=Vr(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){o=s.child;for(var l=i.firstContext;l!==null;){if(l.context===a){if(s.tag===1){l=jr(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),nc(s.return,r,e),i.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),nc(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}kt(t,e,n.children,r),e=e.child}return e;case 9:return n=e.type,a=e.pendingProps.children,Ia(e,r),n=Xt(n),a=a(n),e.flags|=1,kt(t,e,a,r),e.child;case 14:return a=e.type,n=sr(a,e.pendingProps),n=sr(a.type,n),um(t,e,a,n,r);case 15:return Fg(t,e,e.type,e.pendingProps,r);case 17:return a=e.type,n=e.pendingProps,n=e.elementType===a?n:sr(a,n),Xo(t,e),e.tag=1,It(a)?(t=!0,vi(e)):t=!1,Ia(e,r),bg(e,a,n),sc(e,a,n,r),lc(null,e,a,!0,t,r);case 19:return Ng(t,e,r);case 22:return Pg(t,e,r)}throw Error(B(156,e.tag))};function Gg(t,e){return wv(t,e)}function jS(t,e,r,a){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,e,r,a){return new jS(t,e,r,a)}function df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function US(t){if(typeof t=="function")return df(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ad)return 11;if(t===Td)return 14}return 2}function En(t,e){var r=t.alternate;return r===null?(r=Kt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ti(t,e,r,a,n,s){var o=2;if(a=t,typeof t=="function")df(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ga:return Gn(r.children,n,s,e);case Md:o=8,n|=8;break;case Au:return t=Kt(12,r,e,n|2),t.elementType=Au,t.lanes=s,t;case Tu:return t=Kt(13,r,e,n),t.elementType=Tu,t.lanes=s,t;case Nu:return t=Kt(19,r,e,n),t.elementType=Nu,t.lanes=s,t;case nv:return dl(r,n,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tv:o=10;break e;case rv:o=9;break e;case Ad:o=11;break e;case Td:o=14;break e;case an:o=16,a=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Kt(o,r,e,n),e.elementType=t,e.type=a,e.lanes=s,e}function Gn(t,e,r,a){return t=Kt(7,t,a,e),t.lanes=r,t}function dl(t,e,r,a){return t=Kt(22,t,a,e),t.elementType=nv,t.lanes=r,t.stateNode={isHidden:!1},t}function ou(t,e,r){return t=Kt(6,t,null,e),t.lanes=r,t}function iu(t,e,r){return e=Kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $S(t,e,r,a,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$l(0),this.expirationTimes=$l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function ff(t,e,r,a,n,s,o,i,l){return t=new $S(t,e,r,i,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Kt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qd(s),t}function HS(t,e,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:va,key:a==null?null:""+a,children:t,containerInfo:e,implementation:r}}function Qg(t){if(!t)return xn;t=t._reactInternals;e:{if(la(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(It(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var r=t.type;if(It(r))return Qv(t,r,e)}return e}function Yg(t,e,r,a,n,s,o,i,l){return t=ff(r,a,!0,t,n,s,o,i,l),t.context=Qg(null),r=t.current,a=xt(),n=Sn(r),s=jr(a,n),s.callback=e??null,yn(r,s,n),t.current.lanes=n,ao(t,n,a),Ot(t,a),t}function fl(t,e,r,a){var n=e.current,s=xt(),o=Sn(n);return r=Qg(r),e.context===null?e.context=r:e.pendingContext=r,e=jr(s,o),e.payload={element:t},a=a===void 0?null:a,a!==null&&(e.callback=a),t=yn(n,e,o),t!==null&&(cr(t,n,o,s),Yo(t,n,o)),o}function Ai(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function pf(t,e){Sm(t,e),(t=t.alternate)&&Sm(t,e)}function BS(){return null}var Kg=typeof reportError=="function"?reportError:function(t){console.error(t)};function mf(t){this._internalRoot=t}pl.prototype.render=mf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));fl(t,e,null,null)};pl.prototype.unmount=mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ea(function(){fl(null,t,null,null)}),e[Br]=null}};function pl(t){this._internalRoot=t}pl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Pv();t={blockedOn:null,target:t,priority:e};for(var r=0;r<un.length&&e!==0&&e<un[r].priority;r++);un.splice(r,0,t),r===0&&Av(t)}};function hf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ml(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Em(){}function WS(t,e,r,a,n){if(n){if(typeof a=="function"){var s=a;a=function(){var u=Ai(o);s.call(u)}}var o=Yg(e,a,t,0,null,!1,!1,"",Em);return t._reactRootContainer=o,t[Br]=o.current,Ws(t.nodeType===8?t.parentNode:t),ea(),o}for(;n=t.lastChild;)t.removeChild(n);if(typeof a=="function"){var i=a;a=function(){var u=Ai(l);i.call(u)}}var l=ff(t,0,!1,null,null,!1,!1,"",Em);return t._reactRootContainer=l,t[Br]=l.current,Ws(t.nodeType===8?t.parentNode:t),ea(function(){fl(e,l,r,a)}),l}function hl(t,e,r,a,n){var s=r._reactRootContainer;if(s){var o=s;if(typeof n=="function"){var i=n;n=function(){var l=Ai(o);i.call(l)}}fl(e,o,t,n)}else o=WS(r,e,t,n,a);return Ai(o)}xv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ys(e.pendingLanes);r!==0&&(Cd(e,r|1),Ot(e,Ke()),!(Ee&6)&&(Wa=Ke()+500,Rn()))}break;case 13:ea(function(){var a=Wr(t,1);if(a!==null){var n=xt();cr(a,t,1,n)}}),pf(t,1)}};Id=function(t){if(t.tag===13){var e=Wr(t,134217728);if(e!==null){var r=xt();cr(e,t,134217728,r)}pf(t,134217728)}};Fv=function(t){if(t.tag===13){var e=Sn(t),r=Wr(t,e);if(r!==null){var a=xt();cr(r,t,e,a)}pf(t,e)}};Pv=function(){return ke};Mv=function(t,e){var r=ke;try{return ke=t,e()}finally{ke=r}};$u=function(t,e,r){switch(e){case"input":if(Iu(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var a=r[e];if(a!==t&&a.form===t.form){var n=sl(a);if(!n)throw Error(B(90));sv(a),Iu(a,n)}}}break;case"textarea":iv(t,r);break;case"select":e=r.value,e!=null&&Ta(t,!!r.multiple,e,!1)}};mv=lf;hv=ea;var VS={usingClientEntryPoint:!1,Events:[oo,Sa,sl,fv,pv,lf]},ms={findFiberByHostInstance:Hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qS={bundleType:ms.bundleType,version:ms.version,rendererPackageName:ms.rendererPackageName,rendererConfig:ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_v(t),t===null?null:t.stateNode},findFiberByHostInstance:ms.findFiberByHostInstance||BS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Do=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Do.isDisabled&&Do.supportsFiber)try{tl=Do.inject(qS),br=Do}catch{}}Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VS;Ht.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hf(e))throw Error(B(200));return HS(t,e,null,r)};Ht.createRoot=function(t,e){if(!hf(t))throw Error(B(299));var r=!1,a="",n=Kg;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onRecoverableError!==void 0&&(n=e.onRecoverableError)),e=ff(t,1,!1,null,null,r,!1,a,n),t[Br]=e.current,Ws(t.nodeType===8?t.parentNode:t),new mf(e)};Ht.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=_v(e),t=t===null?null:t.stateNode,t};Ht.flushSync=function(t){return ea(t)};Ht.hydrate=function(t,e,r){if(!ml(e))throw Error(B(200));return hl(null,t,e,!0,r)};Ht.hydrateRoot=function(t,e,r){if(!hf(t))throw Error(B(405));var a=r!=null&&r.hydratedSources||null,n=!1,s="",o=Kg;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Yg(e,null,t,1,r??null,n,!1,s,o),t[Br]=e.current,Ws(t),a)for(t=0;t<a.length;t++)r=a[t],n=r._getVersion,n=n(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,n]:e.mutableSourceEagerHydrationData.push(r,n);return new pl(e)};Ht.render=function(t,e,r){if(!ml(e))throw Error(B(200));return hl(null,t,e,!1,r)};Ht.unmountComponentAtNode=function(t){if(!ml(t))throw Error(B(40));return t._reactRootContainer?(ea(function(){hl(null,null,t,!1,function(){t._reactRootContainer=null,t[Br]=null})}),!0):!1};Ht.unstable_batchedUpdates=lf;Ht.unstable_renderSubtreeIntoContainer=function(t,e,r,a){if(!ml(r))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return hl(t,e,r,!1,a)};Ht.version="18.3.1-next-f1338f8080-20240426";function Zg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zg)}catch(t){console.error(t)}}Zg(),Zh.exports=Ht;var GS=Zh.exports,bm=GS;Pu.createRoot=bm.createRoot,Pu.hydrateRoot=bm.hydrateRoot;var C=Object.freeze({Text:"Text",NumericLiteral:"NumericLiteral",BooleanLiteral:"BooleanLiteral",StringLiteral:"StringLiteral",Identifier:"Identifier",Equals:"Equals",OpenParen:"OpenParen",CloseParen:"CloseParen",OpenStatement:"OpenStatement",CloseStatement:"CloseStatement",OpenExpression:"OpenExpression",CloseExpression:"CloseExpression",OpenSquareBracket:"OpenSquareBracket",CloseSquareBracket:"CloseSquareBracket",OpenCurlyBracket:"OpenCurlyBracket",CloseCurlyBracket:"CloseCurlyBracket",Comma:"Comma",Dot:"Dot",Colon:"Colon",Pipe:"Pipe",CallOperator:"CallOperator",AdditiveBinaryOperator:"AdditiveBinaryOperator",MultiplicativeBinaryOperator:"MultiplicativeBinaryOperator",ComparisonBinaryOperator:"ComparisonBinaryOperator",UnaryOperator:"UnaryOperator",Set:"Set",If:"If",For:"For",In:"In",Is:"Is",NotIn:"NotIn",Else:"Else",EndIf:"EndIf",ElseIf:"ElseIf",EndFor:"EndFor",And:"And",Or:"Or",Not:"UnaryOperator"}),km=Object.freeze({set:C.Set,for:C.For,in:C.In,is:C.Is,if:C.If,else:C.Else,endif:C.EndIf,elif:C.ElseIf,endfor:C.EndFor,and:C.And,or:C.Or,not:C.Not,"not in":C.NotIn,true:C.BooleanLiteral,false:C.BooleanLiteral}),zn=class{constructor(t,e){this.value=t,this.type=e}};function xm(t){return/\w/.test(t)}function lu(t){return/[0-9]/.test(t)}var QS=[["{%",C.OpenStatement],["%}",C.CloseStatement],["{{",C.OpenExpression],["}}",C.CloseExpression],["(",C.OpenParen],[")",C.CloseParen],["{",C.OpenCurlyBracket],["}",C.CloseCurlyBracket],["[",C.OpenSquareBracket],["]",C.CloseSquareBracket],[",",C.Comma],[".",C.Dot],[":",C.Colon],["|",C.Pipe],["<=",C.ComparisonBinaryOperator],[">=",C.ComparisonBinaryOperator],["==",C.ComparisonBinaryOperator],["!=",C.ComparisonBinaryOperator],["<",C.ComparisonBinaryOperator],[">",C.ComparisonBinaryOperator],["+",C.AdditiveBinaryOperator],["-",C.AdditiveBinaryOperator],["*",C.MultiplicativeBinaryOperator],["/",C.MultiplicativeBinaryOperator],["%",C.MultiplicativeBinaryOperator],["=",C.Equals]],YS=new Map([["n",`
`],["t","	"],["r","\r"],["b","\b"],["f","\f"],["v","\v"],["'","'"],['"','"'],["\\","\\"]]);function KS(t,e={}){return t.endsWith(`
`)&&(t=t.slice(0,-1)),t=t.replace(/{#.*?#}/gs,"{##}"),e.lstrip_blocks&&(t=t.replace(/^[ \t]*({[#%])/gm,"$1")),e.trim_blocks&&(t=t.replace(/([#%]})\n/g,"$1")),t.replace(/{##}/g,"").replace(/-%}\s*/g,"%}").replace(/\s*{%-/g,"{%").replace(/-}}\s*/g,"}}").replace(/\s*{{-/g,"{{")}function ZS(t,e={}){var o,i,l;const r=[],a=KS(t,e);let n=0;const s=u=>{let c="";for(;u(a[n]);){if(a[n]==="\\"){if(++n,n>=a.length)throw new SyntaxError("Unexpected end of input");const d=a[n++],p=YS.get(d);if(p===void 0)throw new SyntaxError(`Unexpected escaped character: ${d}`);c+=p;continue}if(c+=a[n++],n>=a.length)throw new SyntaxError("Unexpected end of input")}return c};e:for(;n<a.length;){const u=(o=r.at(-1))==null?void 0:o.type;if(u===void 0||u===C.CloseStatement||u===C.CloseExpression){let d="";for(;n<a.length&&!(a[n]==="{"&&(a[n+1]==="%"||a[n+1]==="{"));)d+=a[n++];if(d.length>0){r.push(new zn(d,C.Text));continue}}s(d=>/\s/.test(d));const c=a[n];if(c==="-"||c==="+"){const d=(i=r.at(-1))==null?void 0:i.type;if(d===C.Text||d===void 0)throw new SyntaxError(`Unexpected character: ${c}`);switch(d){case C.Identifier:case C.NumericLiteral:case C.BooleanLiteral:case C.StringLiteral:case C.CloseParen:case C.CloseSquareBracket:break;default:{++n;const p=s(lu);r.push(new zn(`${c}${p}`,p.length>0?C.NumericLiteral:C.UnaryOperator));continue}}}for(const[d,p]of QS)if(a.slice(n,n+d.length)===d){r.push(new zn(d,p)),n+=d.length;continue e}if(c==="'"||c==='"'){++n;const d=s(p=>p!==c);r.push(new zn(d,C.StringLiteral)),++n;continue}if(lu(c)){const d=s(lu);r.push(new zn(d,C.NumericLiteral));continue}if(xm(c)){const d=s(xm),p=Object.hasOwn(km,d)?km[d]:C.Identifier;p===C.In&&((l=r.at(-1))==null?void 0:l.type)===C.Not?(r.pop(),r.push(new zn("not in",C.NotIn))):r.push(new zn(d,p));continue}throw new SyntaxError(`Unexpected character: ${c}`)}return r}var lo=class{constructor(){oe(this,"type","Statement")}},XS=class extends lo{constructor(e){super();oe(this,"type","Program");this.body=e}},Fm=class extends lo{constructor(e,r,a){super();oe(this,"type","If");this.test=e,this.body=r,this.alternate=a}},JS=class extends lo{constructor(e,r,a){super();oe(this,"type","For");this.loopvar=e,this.iterable=r,this.body=a}},eE=class extends lo{constructor(e,r){super();oe(this,"type","Set");this.assignee=e,this.value=r}},Pr=class extends lo{constructor(){super(...arguments);oe(this,"type","Expression")}},tE=class extends Pr{constructor(e,r,a){super();oe(this,"type","MemberExpression");this.object=e,this.property=r,this.computed=a}},rE=class extends Pr{constructor(e,r){super();oe(this,"type","CallExpression");this.callee=e,this.args=r}},pa=class extends Pr{constructor(e){super();oe(this,"type","Identifier");this.value=e}},Xa=class extends Pr{constructor(e){super();oe(this,"type","Literal");this.value=e}},nE=class extends Xa{constructor(){super(...arguments);oe(this,"type","NumericLiteral")}},Pm=class extends Xa{constructor(){super(...arguments);oe(this,"type","StringLiteral")}},Mm=class extends Xa{constructor(){super(...arguments);oe(this,"type","BooleanLiteral")}},aE=class extends Xa{constructor(){super(...arguments);oe(this,"type","ArrayLiteral")}},Am=class extends Xa{constructor(){super(...arguments);oe(this,"type","TupleLiteral")}},sE=class extends Xa{constructor(){super(...arguments);oe(this,"type","ObjectLiteral")}},hs=class extends Pr{constructor(e,r,a){super();oe(this,"type","BinaryExpression");this.operator=e,this.left=r,this.right=a}},oE=class extends Pr{constructor(e,r){super();oe(this,"type","FilterExpression");this.operand=e,this.filter=r}},iE=class extends Pr{constructor(e,r,a){super();oe(this,"type","TestExpression");this.operand=e,this.negate=r,this.test=a}},lE=class extends Pr{constructor(e,r){super();oe(this,"type","UnaryExpression");this.operator=e,this.argument=r}},uE=class extends Pr{constructor(e=void 0,r=void 0,a=void 0){super();oe(this,"type","SliceExpression");this.start=e,this.stop=r,this.step=a}},cE=class extends Pr{constructor(e,r){super();oe(this,"type","KeywordArgumentExpression");this.key=e,this.value=r}};function dE(t){const e=new XS([]);let r=0;function a(A,U){const W=t[r++];if(!W||W.type!==A)throw new Error(`Parser Error: ${U}. ${W.type} !== ${A}.`);return W}function n(){switch(t[r].type){case C.Text:return i();case C.OpenStatement:return l();case C.OpenExpression:return u();default:throw new SyntaxError(`Unexpected token type: ${t[r].type}`)}}function s(...A){return r+A.length<=t.length&&A.some((U,W)=>U!==t[r+W].type)}function o(...A){return r+A.length<=t.length&&A.every((U,W)=>U===t[r+W].type)}function i(){return new Pm(a(C.Text,"Expected text token").value)}function l(){a(C.OpenStatement,"Expected opening statement token");let A;switch(t[r].type){case C.Set:++r,A=c(),a(C.CloseStatement,"Expected closing statement token");break;case C.If:++r,A=d(),a(C.OpenStatement,"Expected {% token"),a(C.EndIf,"Expected endif token"),a(C.CloseStatement,"Expected %} token");break;case C.For:++r,A=f(),a(C.OpenStatement,"Expected {% token"),a(C.EndFor,"Expected endfor token"),a(C.CloseStatement,"Expected %} token");break;default:throw new SyntaxError(`Unknown statement type: ${t[r].type}`)}return A}function u(){a(C.OpenExpression,"Expected opening expression token");const A=h();return a(C.CloseExpression,"Expected closing expression token"),A}function c(){const A=h();if(o(C.Equals)){++r;const U=c();return new eE(A,U)}return A}function d(){var O,q,I,Y,se,_e,ue,qe;const A=h();a(C.CloseStatement,"Expected closing statement token");const U=[],W=[];for(;!(((O=t[r])==null?void 0:O.type)===C.OpenStatement&&(((q=t[r+1])==null?void 0:q.type)===C.ElseIf||((I=t[r+1])==null?void 0:I.type)===C.Else||((Y=t[r+1])==null?void 0:Y.type)===C.EndIf));)U.push(n());if(((se=t[r])==null?void 0:se.type)===C.OpenStatement&&((_e=t[r+1])==null?void 0:_e.type)!==C.EndIf)if(++r,o(C.ElseIf))a(C.ElseIf,"Expected elseif token"),W.push(d());else for(a(C.Else,"Expected else token"),a(C.CloseStatement,"Expected closing statement token");!(((ue=t[r])==null?void 0:ue.type)===C.OpenStatement&&((qe=t[r+1])==null?void 0:qe.type)===C.EndIf);)W.push(n());return new Fm(A,U,W)}function p(A=!1){const U=A?D:h,W=[U()],O=o(C.Comma);for(;O&&(++r,W.push(U()),!!o(C.Comma)););return O?new Am(W):W[0]}function f(){const A=p(!0);if(!(A instanceof pa||A instanceof Am))throw new SyntaxError(`Expected identifier/tuple for the loop variable, got ${A.type} instead`);a(C.In,"Expected `in` keyword following loop variable");const U=h();a(C.CloseStatement,"Expected closing statement token");const W=[];for(;s(C.OpenStatement,C.EndFor);)W.push(n());return new JS(A,U,W)}function h(){return v()}function v(){const A=y();if(o(C.If)){++r;const U=y();a(C.Else,"Expected else token");const W=y();return new Fm(U,[A],[W])}return A}function y(){let A=m();for(;o(C.Or);){const U=t[r];++r;const W=m();A=new hs(U,A,W)}return A}function m(){let A=g();for(;o(C.And);){const U=t[r];++r;const W=g();A=new hs(U,A,W)}return A}function g(){let A;for(;o(C.Not);){const U=t[r];++r;const W=g();A=new lE(U,W)}return A??_()}function _(){let A=S();for(;o(C.ComparisonBinaryOperator)||o(C.In)||o(C.NotIn);){const U=t[r];++r;const W=S();A=new hs(U,A,W)}return A}function S(){let A=G();for(;o(C.AdditiveBinaryOperator);){const U=t[r];++r;const W=G();A=new hs(U,A,W)}return A}function x(){const A=z();return o(C.OpenParen)?F(A):A}function F(A){let U=new rE(A,M());return o(C.OpenParen)&&(U=F(U)),U}function M(){a(C.OpenParen,"Expected opening parenthesis for arguments list");const A=P();return a(C.CloseParen,"Expected closing parenthesis for arguments list"),A}function P(){const A=[];for(;!o(C.CloseParen);){let U=h();if(o(C.Equals)){if(++r,!(U instanceof pa))throw new SyntaxError("Expected identifier for keyword argument");const W=h();U=new cE(U,W)}A.push(U),o(C.Comma)&&++r}return A}function L(){const A=[];let U=!1;for(;!o(C.CloseSquareBracket);)o(C.Colon)?(A.push(void 0),++r,U=!0):(A.push(h()),o(C.Colon)&&(++r,U=!0));if(A.length===0)throw new SyntaxError("Expected at least one argument for member/slice expression");if(U){if(A.length>3)throw new SyntaxError("Expected 0-3 arguments for slice expression");return new uE(...A)}return A[0]}function z(){let A=D();for(;o(C.Dot)||o(C.OpenSquareBracket);){const U=t[r];++r;let W;const O=U.type!==C.Dot;if(O)W=L(),a(C.CloseSquareBracket,"Expected closing square bracket");else if(W=D(),W.type!=="Identifier")throw new SyntaxError("Expected identifier following dot operator");A=new tE(A,W,O)}return A}function G(){let A=Q();for(;o(C.MultiplicativeBinaryOperator);){const U=t[r];++r;const W=Q();A=new hs(U,A,W)}return A}function Q(){let A=j();for(;o(C.Is);){++r;const U=o(C.Not);U&&++r;let W=D();if(W instanceof Mm&&(W=new pa(W.value.toString())),!(W instanceof pa))throw new SyntaxError("Expected identifier for the test");A=new iE(A,U,W)}return A}function j(){let A=x();for(;o(C.Pipe);){++r;let U=D();if(!(U instanceof pa))throw new SyntaxError("Expected identifier for the filter");o(C.OpenParen)&&(U=F(U)),A=new oE(A,U)}return A}function D(){const A=t[r];switch(A.type){case C.NumericLiteral:return++r,new nE(Number(A.value));case C.StringLiteral:return++r,new Pm(A.value);case C.BooleanLiteral:return++r,new Mm(A.value==="true");case C.Identifier:return++r,new pa(A.value);case C.OpenParen:{++r;const U=p();if(t[r].type!==C.CloseParen)throw new SyntaxError(`Expected closing parenthesis, got ${t[r].type} instead`);return++r,U}case C.OpenSquareBracket:{++r;const U=[];for(;!o(C.CloseSquareBracket);)U.push(h()),o(C.Comma)&&++r;return++r,new aE(U)}case C.OpenCurlyBracket:{++r;const U=new Map;for(;!o(C.CloseCurlyBracket);){const W=h();a(C.Colon,"Expected colon between key and value in object literal");const O=h();U.set(W,O),o(C.Comma)&&++r}return++r,new sE(U)}default:throw new SyntaxError(`Unexpected token: ${A.type}`)}}for(;r<t.length;)e.body.push(n());return e}function fE(t,e,r=1){e===void 0&&(e=t,t=0);const a=[];for(let n=t;n<e;n+=r)a.push(n);return a}function Tm(t,e,r,a=1){const n=Math.sign(a);n>=0?(e=(e??(e=0))<0?Math.max(t.length+e,0):Math.min(e,t.length),r=(r??(r=t.length))<0?Math.max(t.length+r,0):Math.min(r,t.length)):(e=(e??(e=t.length-1))<0?Math.max(t.length+e,-1):Math.min(e,t.length-1),r=(r??(r=-1))<-1?Math.max(t.length+r,-1):Math.min(r,t.length-1));const s=[];for(let o=e;n*o<n*r;o+=a)s.push(t[o]);return s}function Xg(t){return t.replace(/\b\w/g,e=>e.toUpperCase())}var Zr=class{constructor(t=void 0){oe(this,"type","RuntimeValue");oe(this,"value");oe(this,"builtins",new Map);this.value=t}__bool__(){return new Ye(!!this.value)}},Ne=class extends Zr{constructor(){super(...arguments);oe(this,"type","NumericValue")}},we=class extends Zr{constructor(){super(...arguments);oe(this,"type","StringValue");oe(this,"builtins",new Map([["upper",new Dr(()=>new we(this.value.toUpperCase()))],["lower",new Dr(()=>new we(this.value.toLowerCase()))],["strip",new Dr(()=>new we(this.value.trim()))],["title",new Dr(()=>new we(Xg(this.value)))],["length",new Ne(this.value.length)]]))}},Ye=class extends Zr{constructor(){super(...arguments);oe(this,"type","BooleanValue")}},or=class extends Zr{constructor(){super(...arguments);oe(this,"type","ObjectValue");oe(this,"builtins",new Map([["get",new Dr(([e,r])=>{if(!(e instanceof we))throw new Error(`Object key must be a string: got ${e.type}`);return this.value.get(e.value)??r??new Cs})],["items",new Dr(()=>new Be(Array.from(this.value.entries()).map(([e,r])=>new Be([new we(e),r]))))]]))}__bool__(){return new Ye(this.value.size>0)}},Be=class extends Zr{constructor(){super(...arguments);oe(this,"type","ArrayValue");oe(this,"builtins",new Map([["length",new Ne(this.value.length)]]))}__bool__(){return new Ye(this.value.length>0)}},pE=class extends Be{constructor(){super(...arguments);oe(this,"type","TupleValue")}},Dr=class extends Zr{constructor(){super(...arguments);oe(this,"type","FunctionValue")}},Cs=class extends Zr{constructor(){super(...arguments);oe(this,"type","NullValue")}},ar=class extends Zr{constructor(){super(...arguments);oe(this,"type","UndefinedValue")}},wc=class{constructor(t){oe(this,"variables",new Map([["namespace",new Dr(t=>{if(t.length===0)return new or(new Map);if(t.length!==1||!(t[0]instanceof or))throw new Error("`namespace` expects either zero arguments or a single object argument");return t[0]})]]));oe(this,"tests",new Map([["boolean",t=>t.type==="BooleanValue"],["callable",t=>t instanceof Dr],["odd",t=>{if(t.type!=="NumericValue")throw new Error(`Cannot apply test "odd" to type: ${t.type}`);return t.value%2!==0}],["even",t=>{if(t.type!=="NumericValue")throw new Error(`Cannot apply test "even" to type: ${t.type}`);return t.value%2===0}],["false",t=>t.type==="BooleanValue"&&!t.value],["true",t=>t.type==="BooleanValue"&&t.value],["number",t=>t.type==="NumericValue"],["integer",t=>t.type==="NumericValue"&&Number.isInteger(t.value)],["iterable",t=>t instanceof Be||t instanceof we],["lower",t=>{const e=t.value;return t.type==="StringValue"&&e===e.toLowerCase()}],["upper",t=>{const e=t.value;return t.type==="StringValue"&&e===e.toUpperCase()}],["none",t=>t.type==="NullValue"],["defined",t=>t.type!=="UndefinedValue"],["undefined",t=>t.type==="UndefinedValue"],["equalto",(t,e)=>t.value===e.value]]));this.parent=t}set(t,e){return this.declareVariable(t,ri(e))}declareVariable(t,e){if(this.variables.has(t))throw new SyntaxError(`Variable already declared: ${t}`);return this.variables.set(t,e),e}setVariable(t,e){return this.variables.set(t,e),e}resolve(t){if(this.variables.has(t))return this;if(this.parent)return this.parent.resolve(t);throw new Error(`Unknown variable: ${t}`)}lookupVariable(t){try{return this.resolve(t).variables.get(t)??new ar}catch{return new ar}}},mE=class{constructor(t){oe(this,"global");this.global=t??new wc}run(t){return this.evaluate(t,this.global)}evaluateBinaryExpression(t,e){const r=this.evaluate(t.left,e);switch(t.operator.value){case"and":return r.__bool__().value?this.evaluate(t.right,e):r;case"or":return r.__bool__().value?r:this.evaluate(t.right,e)}const a=this.evaluate(t.right,e);switch(t.operator.value){case"==":return new Ye(r.value==a.value);case"!=":return new Ye(r.value!=a.value)}if(r instanceof ar||a instanceof ar)throw new Error("Cannot perform operation on undefined values");if(r instanceof Cs||a instanceof Cs)throw new Error("Cannot perform operation on null values");if(r instanceof Ne&&a instanceof Ne)switch(t.operator.value){case"+":return new Ne(r.value+a.value);case"-":return new Ne(r.value-a.value);case"*":return new Ne(r.value*a.value);case"/":return new Ne(r.value/a.value);case"%":return new Ne(r.value%a.value);case"<":return new Ye(r.value<a.value);case">":return new Ye(r.value>a.value);case">=":return new Ye(r.value>=a.value);case"<=":return new Ye(r.value<=a.value)}else if(r instanceof Be&&a instanceof Be)switch(t.operator.value){case"+":return new Be(r.value.concat(a.value))}else if(a instanceof Be){const n=a.value.find(s=>s.value===r.value)!==void 0;switch(t.operator.value){case"in":return new Ye(n);case"not in":return new Ye(!n)}}if(r instanceof we||a instanceof we)switch(t.operator.value){case"+":return new we(r.value.toString()+a.value.toString())}if(r instanceof we&&a instanceof we)switch(t.operator.value){case"in":return new Ye(a.value.includes(r.value));case"not in":return new Ye(!a.value.includes(r.value))}if(r instanceof we&&a instanceof or)switch(t.operator.value){case"in":return new Ye(a.value.has(r.value));case"not in":return new Ye(!a.value.has(r.value))}throw new SyntaxError(`Unknown operator "${t.operator.value}" between ${r.type} and ${a.type}`)}evaluateFilterExpression(t,e){const r=this.evaluate(t.operand,e);if(t.filter.type==="Identifier"){const a=t.filter;if(r instanceof Be)switch(a.value){case"list":return r;case"first":return r.value[0];case"last":return r.value[r.value.length-1];case"length":return new Ne(r.value.length);case"reverse":return new Be(r.value.reverse());case"sort":return new Be(r.value.sort((n,s)=>{if(n.type!==s.type)throw new Error(`Cannot compare different types: ${n.type} and ${s.type}`);switch(n.type){case"NumericValue":return n.value-s.value;case"StringValue":return n.value.localeCompare(s.value);default:throw new Error(`Cannot compare type: ${n.type}`)}}));default:throw new Error(`Unknown ArrayValue filter: ${a.value}`)}else if(r instanceof we)switch(a.value){case"length":return new Ne(r.value.length);case"upper":return new we(r.value.toUpperCase());case"lower":return new we(r.value.toLowerCase());case"title":return new we(Xg(r.value));case"capitalize":return new we(r.value.charAt(0).toUpperCase()+r.value.slice(1));case"trim":return new we(r.value.trim());default:throw new Error(`Unknown StringValue filter: ${a.value}`)}else if(r instanceof Ne)switch(a.value){case"abs":return new Ne(Math.abs(r.value));default:throw new Error(`Unknown NumericValue filter: ${a.value}`)}else if(r instanceof or)switch(a.value){case"items":return new Be(Array.from(r.value.entries()).map(([n,s])=>new Be([new we(n),s])));case"length":return new Ne(r.value.size);default:throw new Error(`Unknown ObjectValue filter: ${a.value}`)}throw new Error(`Cannot apply filter "${a.value}" to type: ${r.type}`)}else if(t.filter.type==="CallExpression"){const a=t.filter;if(a.callee.type!=="Identifier")throw new Error(`Unknown filter: ${a.callee.type}`);const n=a.callee.value;if(r instanceof Be){switch(n){case"selectattr":{if(r.value.some(c=>!(c instanceof or)))throw new Error("`selectattr` can only be applied to array of objects");if(a.args.some(c=>c.type!=="StringLiteral"))throw new Error("arguments of `selectattr` must be strings");const[s,o,i]=a.args.map(c=>this.evaluate(c,e));let l;if(o){const c=e.tests.get(o.value);if(!c)throw new Error(`Unknown test: ${o.value}`);l=c}else l=(...c)=>c[0].__bool__().value;const u=r.value.filter(c=>{const d=c.value.get(s.value);return d?l(d,i):!1});return new Be(u)}}throw new Error(`Unknown ArrayValue filter: ${n}`)}else throw new Error(`Cannot apply filter "${n}" to type: ${r.type}`)}throw new Error(`Unknown filter: ${t.filter.type}`)}evaluateTestExpression(t,e){const r=this.evaluate(t.operand,e),a=e.tests.get(t.test.value);if(!a)throw new Error(`Unknown test: ${t.test.value}`);const n=a(r);return new Ye(t.negate?!n:n)}evaluateUnaryExpression(t,e){const r=this.evaluate(t.argument,e);switch(t.operator.value){case"not":return new Ye(!r.value);default:throw new SyntaxError(`Unknown operator: ${t.operator.value}`)}}evalProgram(t,e){return this.evaluateBlock(t.body,e)}evaluateBlock(t,e){let r="";for(const a of t){const n=this.evaluate(a,e);n.type!=="NullValue"&&n.type!=="UndefinedValue"&&(r+=n.value)}return new we(r)}evaluateIdentifier(t,e){return e.lookupVariable(t.value)}evaluateCallExpression(t,e){const r=[],a=new Map;for(const s of t.args)if(s.type==="KeywordArgumentExpression"){const o=s;a.set(o.key.value,this.evaluate(o.value,e))}else r.push(this.evaluate(s,e));a.size>0&&r.push(new or(a));const n=this.evaluate(t.callee,e);if(n.type!=="FunctionValue")throw new Error(`Cannot call something that is not a function: got ${n.type}`);return n.value(r,e)}evaluateSliceExpression(t,e,r){if(!(t instanceof Be||t instanceof we))throw new Error("Slice object must be an array or string");const a=this.evaluate(e.start,r),n=this.evaluate(e.stop,r),s=this.evaluate(e.step,r);if(!(a instanceof Ne||a instanceof ar))throw new Error("Slice start must be numeric or undefined");if(!(n instanceof Ne||n instanceof ar))throw new Error("Slice stop must be numeric or undefined");if(!(s instanceof Ne||s instanceof ar))throw new Error("Slice step must be numeric or undefined");return t instanceof Be?new Be(Tm(t.value,a.value,n.value,s.value)):new we(Tm(Array.from(t.value),a.value,n.value,s.value).join(""))}evaluateMemberExpression(t,e){const r=this.evaluate(t.object,e);let a;if(t.computed){if(t.property.type==="SliceExpression")return this.evaluateSliceExpression(r,t.property,e);a=this.evaluate(t.property,e)}else a=new we(t.property.value);let n;if(r instanceof or){if(!(a instanceof we))throw new Error(`Cannot access property with non-string: got ${a.type}`);n=r.value.get(a.value)??r.builtins.get(a.value)}else if(r instanceof Be||r instanceof we)if(a instanceof Ne)n=r.value.at(a.value),r instanceof we&&(n=new we(r.value.at(a.value)));else if(a instanceof we)n=r.builtins.get(a.value);else throw new Error(`Cannot access property with non-string/non-number: got ${a.type}`);else{if(!(a instanceof we))throw new Error(`Cannot access property with non-string: got ${a.type}`);n=r.builtins.get(a.value)}return n instanceof Zr?n:new ar}evaluateSet(t,e){const r=this.evaluate(t.value,e);if(t.assignee.type==="Identifier"){const a=t.assignee.value;e.setVariable(a,r)}else if(t.assignee.type==="MemberExpression"){const a=t.assignee,n=this.evaluate(a.object,e);if(!(n instanceof or))throw new Error("Cannot assign to member of non-object");if(a.property.type!=="Identifier")throw new Error("Cannot assign to member with non-identifier property");n.value.set(a.property.value,r)}else throw new Error(`Invalid LHS inside assignment expression: ${JSON.stringify(t.assignee)}`);return new Cs}evaluateIf(t,e){const r=this.evaluate(t.test,e);return this.evaluateBlock(r.__bool__().value?t.body:t.alternate,e)}evaluateFor(t,e){const r=new wc(e),a=this.evaluate(t.iterable,r);if(!(a instanceof Be))throw new Error(`Expected iterable type in for loop: got ${a.type}`);let n="";for(let s=0;s<a.value.length;++s){const o=new Map([["index",new Ne(s+1)],["index0",new Ne(s)],["revindex",new Ne(a.value.length-s)],["revindex0",new Ne(a.value.length-s-1)],["first",new Ye(s===0)],["last",new Ye(s===a.value.length-1)],["length",new Ne(a.value.length)],["previtem",s>0?a.value[s-1]:new ar],["nextitem",s<a.value.length-1?a.value[s+1]:new ar]]);r.setVariable("loop",new or(o));const i=a.value[s];if(t.loopvar.type==="Identifier")r.setVariable(t.loopvar.value,i);else if(t.loopvar.type==="TupleLiteral"){const u=t.loopvar;if(i.type!=="ArrayValue")throw new Error(`Cannot unpack non-iterable type: ${i.type}`);const c=i;if(u.value.length!==c.value.length)throw new Error(`Too ${u.value.length>c.value.length?"few":"many"} items to unpack`);for(let d=0;d<u.value.length;++d){if(u.value[d].type!=="Identifier")throw new Error(`Cannot unpack non-identifier type: ${u.value[d].type}`);r.setVariable(u.value[d].value,c.value[d])}}const l=this.evaluateBlock(t.body,r);n+=l.value}return new we(n)}evaluate(t,e){if(t===void 0)return new ar;switch(t.type){case"Program":return this.evalProgram(t,e);case"Set":return this.evaluateSet(t,e);case"If":return this.evaluateIf(t,e);case"For":return this.evaluateFor(t,e);case"NumericLiteral":return new Ne(Number(t.value));case"StringLiteral":return new we(t.value);case"BooleanLiteral":return new Ye(t.value);case"ArrayLiteral":return new Be(t.value.map(r=>this.evaluate(r,e)));case"TupleLiteral":return new pE(t.value.map(r=>this.evaluate(r,e)));case"ObjectLiteral":{const r=new Map;for(const[a,n]of t.value){const s=this.evaluate(a,e);if(!(s instanceof we))throw new Error(`Object keys must be strings: got ${s.type}`);r.set(s.value,this.evaluate(n,e))}return new or(r)}case"Identifier":return this.evaluateIdentifier(t,e);case"CallExpression":return this.evaluateCallExpression(t,e);case"MemberExpression":return this.evaluateMemberExpression(t,e);case"UnaryExpression":return this.evaluateUnaryExpression(t,e);case"BinaryExpression":return this.evaluateBinaryExpression(t,e);case"FilterExpression":return this.evaluateFilterExpression(t,e);case"TestExpression":return this.evaluateTestExpression(t,e);default:throw new SyntaxError(`Unknown node type: ${t.type}`)}}};function ri(t){switch(typeof t){case"number":return new Ne(t);case"string":return new we(t);case"boolean":return new Ye(t);case"object":return t===null?new Cs:Array.isArray(t)?new Be(t.map(ri)):new or(new Map(Object.entries(t).map(([e,r])=>[e,ri(r)])));case"function":return new Dr((e,r)=>{const a=t(...e.map(n=>n.value))??null;return ri(a)});default:throw new Error(`Cannot convert to runtime value: ${t}`)}}var hE=class{constructor(t){oe(this,"parsed");const e=ZS(t,{lstrip_blocks:!0,trim_blocks:!0});this.parsed=dE(e)}render(t){const e=new wc;e.set("false",!1),e.set("true",!0),e.set("raise_exception",n=>{throw new Error(n)}),e.set("range",fE);for(const[n,s]of Object.entries(t))e.set(n,s);return new mE(e).run(this.parsed).value}},je=(t=>(t[t.GUIDE=0]="GUIDE",t[t.CHAT=1]="CHAT",t[t.MODEL=2]="MODEL",t[t.LOG=3]="LOG",t))(je||{}),nt=(t=>(t[t.NOT_DOWNLOADED=0]="NOT_DOWNLOADED",t[t.DOWNLOADING=1]="DOWNLOADING",t[t.READY=2]="READY",t[t.LOADING=3]="LOADING",t[t.LOADED=4]="LOADED",t))(nt||{});const vE=""+new URL("wllama-BxyqAJW7.wasm",import.meta.url).href,gE=""+new URL("wllama-Dmz9Efzw.wasm",import.meta.url).href,_E="2.3.5",yE={version:_E},wE="https://mcp.finmap.org/",SE=yE.version,vf={"single-thread/wllama.wasm":vE,"multi-thread/wllama.wasm":gE},Jg=2*1024*1024*1024,EE=[{url:"https://huggingface.co/LiquidAI/LFM2-350M-GGUF/resolve/main/LFM2-350M-Q4_K_M.gguf",size:229309376},{url:"https://huggingface.co/LiquidAI/LFM2-700M-GGUF/resolve/main/LFM2-700M-Q4_K_M.gguf",size:468624320},{url:"https://huggingface.co/LiquidAI/LFM2-1.2B-GGUF/resolve/main/LFM2-1.2B-Q4_K_M.gguf",size:730893248},{url:"https://huggingface.co/unsloth/Qwen3-0.6B-GGUF/resolve/main/Qwen3-0.6B-Q8_0.gguf",size:639447744},{url:"https://huggingface.co/unsloth/Qwen3-1.7B-GGUF/resolve/main/Qwen3-1.7B-Q4_K_M.gguf",size:1107409472},{url:"https://huggingface.co/ggml-org/SmolLM3-3B-GGUF/resolve/main/SmolLM3-Q4_K_M.gguf",size:1915305312},{url:"https://huggingface.co/ngxson/SmolLM2-360M-Instruct-Q8_0-GGUF/resolve/main/smollm2-360m-instruct-q8_0.gguf",size:386404992},{url:"https://huggingface.co/Qwen/Qwen2.5-0.5B-Instruct-GGUF/resolve/main/qwen2.5-0.5b-instruct-q8_0.gguf",size:675710816},{url:"https://huggingface.co/hugging-quants/Llama-3.2-1B-Instruct-Q4_K_M-GGUF/resolve/main/llama-3.2-1b-instruct-q4_k_m.gguf",size:807690656},{url:"https://huggingface.co/bartowski/DeepSeek-R1-Distill-Qwen-1.5B-GGUF/resolve/main/DeepSeek-R1-Distill-Qwen-1.5B-Q3_K_M.gguf",size:924456032},{url:"https://huggingface.co/ngxson/wllama-split-models/resolve/main/qwen2-1_5b-instruct-q4_k_m-00001-of-00004.gguf",size:986046272},{url:"https://huggingface.co/ngxson/SmolLM2-1.7B-Instruct-Q4_K_M-GGUF/resolve/main/smollm2-1.7b-instruct-q4_k_m.gguf",size:1055609536},{url:"https://huggingface.co/ngxson/wllama-split-models/resolve/main/gemma-2-2b-it-abliterated-Q4_K_M-00001-of-00004.gguf",size:1708583264},{url:"https://huggingface.co/ngxson/wllama-split-models/resolve/main/neuralreyna-mini-1.8b-v0.3.q4_k_m-00001-of-00005.gguf",size:1217753472},{url:"https://huggingface.co/ngxson/wllama-split-models/resolve/main/Phi-3.1-mini-128k-instruct-Q3_K_M-00001-of-00008.gguf",size:1955478176},{url:"https://huggingface.co/ngxson/wllama-split-models/resolve/main/meta-llama-3.1-8b-instruct-abliterated.Q2_K-00001-of-00014.gguf",size:3179133600},{url:"https://huggingface.co/ngxson/wllama-split-models/resolve/main/Meta-Llama-3.1-8B-Instruct-Q2_K-00001-of-00014.gguf",size:3179138048}],e_={nThreads:-1,nContext:4096,nPredict:4096,nBatch:128,temperature:.2},bE=`
{%- for message in messages %}
  {{ '<|im_start|>' + message['role'] + '
' + message['content'] + '<|im_end|>
' }}
{%- endfor %}
{%- if add_generation_prompt %}
  {{ '<|im_start|>system
' }}
  You are a tool-calling assistant.

  You have exactly one tool available:

  <tools>
  {
    "name": "list_exchanges",
    "description": "Returns supported exchanges with IDs, names, country, currency, earliest available date, and update frequency.",
    "inputSchema": {
      "type": "object",
      "properties": {},
      "additionalProperties": false
    }
  }
  </tools>

  RULES:
  - You MUST call this tool every time.
  - You MUST output ONLY a <tool_call> block. Nothing else.
  - Do NOT explain. Do NOT describe. Do NOT invent shell commands.
  - The format MUST be:

  <tool_call>
  {"name": "list_exchanges", "arguments": {}}
  </tool_call>

  {{ '<|im_end|>
' }}
  {{ '<|im_start|>assistant
' }}
{%- endif %}
`,kE=t=>new Promise(e=>setTimeout(e,t)),xE=t=>ce.useEffect(()=>{t()},[]),Ur={save(t,e){localStorage.setItem(t,JSON.stringify(e))},load(t,e){return localStorage[t]?JSON.parse(localStorage[t]):e}},FE=()=>Ur.load("welcome",!0)?je.GUIDE:je.MODEL,PE=async(t,e)=>{const r=bE;if(r.match(/<\/think>/)){let i="";for(const l of e)l.role==="system"?i+=`${l.content}

`:l.role==="user"?i+=`<｜User｜>${l.content}`:i+=`<｜Assistant｜>${l.content.replace(/<think>[\s\S]*?<\/think>/g,"").trim()}<｜end▁of▁sentence｜>`;return i+"<｜Assistant｜>"}const n=new hE(r),s=await t.detokenize([t.getBOS()],!0),o=await t.detokenize([t.getEOS()],!0);return n.render({messages:e,bos_token:s,eos_token:o,add_generation_prompt:!0})},ME=t=>{const e=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];let r=t,a=0;for(;r>=1024&&a<e.length-1;)r/=1024,a++;return`${r.toFixed(1)} ${e[a]}`},Gt={content:[],debug(...t){console.debug("🔧",...t),Gt.content.push(`🔧 ${Gt.argsToStr(t)}`)},log(...t){console.log("ℹ️",...t),Gt.content.push(`ℹ️ ${Gt.argsToStr(t)}`)},warn(...t){console.warn("⚠️",...t),Gt.content.push(`⚠️ ${Gt.argsToStr(t)}`)},error(...t){console.error("☠️",...t),Gt.content.push(`☠️ ${Gt.argsToStr(t)}`)},argsToStr(t){return t.map(e=>{if(e.startsWith)return e;try{return JSON.stringify(e,null,2)}catch{return""}}).join(" ")}};function AE(t,e,r){const a=ce.useCallback(t,e);ce.useEffect(()=>{const n=setTimeout(a,r);return()=>clearTimeout(n)},[a,r])}const t_=ce.createContext({}),TE=({children:t})=>{const[e,r]=ce.useState(Ur.load("conversations",{})),a=ce.useMemo(()=>Object.values(e).sort((c,d)=>{const p=c.messages[c.messages.length-1];return d.messages[d.messages.length-1].id-p.id}),[e]),n=c=>{r(d=>{const p=c(d);return Ur.save("conversations",p),p})},s=c=>{const d={id:Date.now(),messages:[c]};return n(p=>({...p,[d.id]:d})),d},o=c=>{n(d=>{const p={...d};return delete p[c],p})},i=(c,d)=>{n(p=>{if(p[c]){const f={...p},h=f[c];return f[c].messages=[...h.messages,d],f}else return p})},l=(c,d,p)=>{n(f=>{if(f[c]){const h={...f},y=h[c].messages.map(m=>m.id===d?{...m,content:p}:m);return h[c].messages=y,h}else return f})},u=c=>e[c];return b.jsx(t_.Provider,{value:{conversations:a,newConversation:s,deleteConversation:o,addMessageToConversation:i,getConversationById:u,editMessageInConversation:l},children:t})},r_=()=>ce.useContext(t_);var Se;(function(t){t.assertEqual=n=>{};function e(n){}t.assertIs=e;function r(n){throw new Error}t.assertNever=r,t.arrayToEnum=n=>{const s={};for(const o of n)s[o]=o;return s},t.getValidEnumValues=n=>{const s=t.objectKeys(n).filter(i=>typeof n[n[i]]!="number"),o={};for(const i of s)o[i]=n[i];return t.objectValues(o)},t.objectValues=n=>t.objectKeys(n).map(function(s){return n[s]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const s=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&s.push(o);return s},t.find=(n,s)=>{for(const o of n)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function a(n,s=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=a,t.jsonStringifyReplacer=(n,s)=>typeof s=="bigint"?s.toString():s})(Se||(Se={}));var Nm;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Nm||(Nm={}));const J=Se.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),on=t=>{switch(typeof t){case"undefined":return J.undefined;case"string":return J.string;case"number":return Number.isNaN(t)?J.nan:J.number;case"boolean":return J.boolean;case"function":return J.function;case"bigint":return J.bigint;case"symbol":return J.symbol;case"object":return Array.isArray(t)?J.array:t===null?J.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?J.promise:typeof Map<"u"&&t instanceof Map?J.map:typeof Set<"u"&&t instanceof Set?J.set:typeof Date<"u"&&t instanceof Date?J.date:J.object;default:return J.unknown}},V=Se.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class qr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(s){return s.message},a={_errors:[]},n=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)a._errors.push(r(o));else{let i=a,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(i[u]=i[u]||{_errors:[]},i[u]._errors.push(r(o))):i[u]=i[u]||{_errors:[]},i=i[u],l++}}};return n(this),a}static assert(e){if(!(e instanceof qr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Se.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},a=[];for(const n of this.issues)if(n.path.length>0){const s=n.path[0];r[s]=r[s]||[],r[s].push(e(n))}else a.push(e(n));return{formErrors:a,fieldErrors:r}}get formErrors(){return this.flatten()}}qr.create=t=>new qr(t);const Sc=(t,e)=>{let r;switch(t.code){case V.invalid_type:t.received===J.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case V.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Se.jsonStringifyReplacer)}`;break;case V.unrecognized_keys:r=`Unrecognized key(s) in object: ${Se.joinValues(t.keys,", ")}`;break;case V.invalid_union:r="Invalid input";break;case V.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Se.joinValues(t.options)}`;break;case V.invalid_enum_value:r=`Invalid enum value. Expected ${Se.joinValues(t.options)}, received '${t.received}'`;break;case V.invalid_arguments:r="Invalid function arguments";break;case V.invalid_return_type:r="Invalid function return type";break;case V.invalid_date:r="Invalid date";break;case V.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Se.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case V.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case V.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case V.custom:r="Invalid input";break;case V.invalid_intersection_types:r="Intersection results could not be merged";break;case V.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case V.not_finite:r="Number must be finite";break;default:r=e.defaultError,Se.assertNever(t)}return{message:r}};let NE=Sc;function RE(){return NE}const CE=t=>{const{data:e,path:r,errorMaps:a,issueData:n}=t,s=[...r,...n.path||[]],o={...n,path:s};if(n.message!==void 0)return{...n,path:s,message:n.message};let i="";const l=a.filter(u=>!!u).slice().reverse();for(const u of l)i=u(o,{data:e,defaultError:i}).message;return{...n,path:s,message:i}};function Z(t,e){const r=RE(),a=CE({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Sc?void 0:Sc].filter(n=>!!n)});t.common.issues.push(a)}class Ft{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const a=[];for(const n of r){if(n.status==="aborted")return ie;n.status==="dirty"&&e.dirty(),a.push(n.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,r){const a=[];for(const n of r){const s=await n.key,o=await n.value;a.push({key:s,value:o})}return Ft.mergeObjectSync(e,a)}static mergeObjectSync(e,r){const a={};for(const n of r){const{key:s,value:o}=n;if(s.status==="aborted"||o.status==="aborted")return ie;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(a[s.value]=o.value)}return{status:e.value,value:a}}}const ie=Object.freeze({status:"aborted"}),Ss=t=>({status:"dirty",value:t}),er=t=>({status:"valid",value:t}),Rm=t=>t.status==="aborted",Cm=t=>t.status==="dirty",Va=t=>t.status==="valid",Ti=t=>typeof Promise<"u"&&t instanceof Promise;var te;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(te||(te={}));class Fr{constructor(e,r,a,n){this._cachedPath=[],this.parent=e,this.data=r,this._path=a,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Im=(t,e)=>{if(Va(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new qr(t.common.issues);return this._error=r,this._error}}};function pe(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:a,description:n}=t;if(e&&(r||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,i)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??i.defaultError}:typeof i.data>"u"?{message:l??a??i.defaultError}:o.code!=="invalid_type"?{message:i.defaultError}:{message:l??r??i.defaultError}},description:n}}class ge{get description(){return this._def.description}_getType(e){return on(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:on(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ft,ctx:{common:e.parent.common,data:e.data,parsedType:on(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Ti(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const a=this.safeParse(e,r);if(a.success)return a.data;throw a.error}safeParse(e,r){const a={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:on(e)},n=this._parseSync({data:e,path:a.path,parent:a});return Im(a,n)}"~validate"(e){var a,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:on(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:r});return Va(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(n=(a=s==null?void 0:s.message)==null?void 0:a.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(s=>Va(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(e,r){const a=await this.safeParseAsync(e,r);if(a.success)return a.data;throw a.error}async safeParseAsync(e,r){const a={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:on(e)},n=this._parse({data:e,path:a.path,parent:a}),s=await(Ti(n)?n:Promise.resolve(n));return Im(a,s)}refine(e,r){const a=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,s)=>{const o=e(n),i=()=>s.addIssue({code:V.custom,...a(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(i(),!1)):o?!0:(i(),!1)})}refinement(e,r){return this._refinement((a,n)=>e(a)?!0:(n.addIssue(typeof r=="function"?r(a,n):r),!1))}_refinement(e){return new na({schema:this,typeName:le.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return $r.create(this,this._def)}nullable(){return aa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xr.create(this)}promise(){return Li.create(this,this._def)}or(e){return Ri.create([this,e],this._def)}and(e){return Ci.create(this,e,this._def)}transform(e){return new na({...pe(this._def),schema:this,typeName:le.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Di({...pe(this._def),innerType:this,defaultValue:r,typeName:le.ZodDefault})}brand(){return new o_({typeName:le.ZodBranded,type:this,...pe(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new zi({...pe(this._def),innerType:this,catchValue:r,typeName:le.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return _f.create(this,e)}readonly(){return ji.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const IE=/^c[^\s-]{8,}$/i,OE=/^[0-9a-z]+$/,LE=/^[0-9A-HJKMNP-TV-Z]{26}$/i,DE=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,zE=/^[a-z0-9_-]{21}$/i,jE=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,UE=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$E=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,HE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let uu;const BE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,WE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,VE=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,qE=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,GE=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,QE=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,n_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",YE=new RegExp(`^${n_}$`);function a_(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function KE(t){return new RegExp(`^${a_(t)}$`)}function ZE(t){let e=`${n_}T${a_(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function XE(t,e){return!!((e==="v4"||!e)&&BE.test(t)||(e==="v6"||!e)&&VE.test(t))}function JE(t,e){if(!jE.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const a=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(a));return!(typeof n!="object"||n===null||"typ"in n&&(n==null?void 0:n.typ)!=="JWT"||!n.alg||e&&n.alg!==e)}catch{return!1}}function e1(t,e){return!!((e==="v4"||!e)&&WE.test(t)||(e==="v6"||!e)&&qE.test(t))}class zr extends ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==J.string){const s=this._getOrReturnCtx(e);return Z(s,{code:V.invalid_type,expected:J.string,received:s.parsedType}),ie}const a=new Ft;let n;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(n=this._getOrReturnCtx(e,n),Z(n,{code:V.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),a.dirty());else if(s.kind==="max")e.data.length>s.value&&(n=this._getOrReturnCtx(e,n),Z(n,{code:V.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),a.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,i=e.data.length<s.value;(o||i)&&(n=this._getOrReturnCtx(e,n),o?Z(n,{code:V.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):i&&Z(n,{code:V.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),a.dirty())}else if(s.kind==="email")$E.test(e.data)||(n=this._getOrReturnCtx(e,n),Z(n,{validation:"email",code:V.invalid_string,message:s.message}),a.dirty());else if(s.kind==="emoji")uu||(uu=new RegExp(HE,"u")),uu.test(e.data)||(n=this._getOrReturnCtx(e,n),Z(n,{validation:"emoji",code:V.invalid_string,message:s.message}),a.dirty());else if(s.kind==="uuid")DE.test(e.data)||(n=this._getOrReturnCtx(e,n),Z(n,{validation:"uuid",code:V.invalid_string,message:s.message}),a.dirty());else if(s.kind==="nanoid")zE.test(e.data)||(n=this._getOrReturnCtx(e,n),Z(n,{validation:"nanoid",code:V.invalid_string,message:s.message}),a.dirty());else if(s.kind==="cuid")IE.test(e.data)||(n=this._getOrReturnCtx(e,n),Z(n,{validation:"cuid",code:V.invalid_string,message:s.message}),a.dirty());else if(s.kind==="cuid2")OE.test(e.data)||(n=this._getOrReturnCtx(e,n),Z(n,{validation:"cuid2",code:V.invalid_string,message:s.message}),a.dirty());else if(s.kind==="ulid")LE.test(e.data)||(n=this._getOrReturnCtx(e,n),Z(n,{validation:"ulid",code:V.invalid_string,message:s.message}),a.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),Z(n,{validation:"url",code:V.invalid_string,message:s.message}),a.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Z(n,{validation:"regex",code:V.invalid_string,message:s.message}),a.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(e,n),Z(n,{code:V.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),a.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(n=this._getOrReturnCtx(e,n),Z(n,{code:V.invalid_string,validation:{startsWith:s.value},message:s.message}),a.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(n=this._getOrReturnCtx(e,n),Z(n,{code:V.invalid_string,validation:{endsWith:s.value},message:s.message}),a.dirty()):s.kind==="datetime"?ZE(s).test(e.data)||(n=this._getOrReturnCtx(e,n),Z(n,{code:V.invalid_string,validation:"datetime",message:s.message}),a.dirty()):s.kind==="date"?YE.test(e.data)||(n=this._getOrReturnCtx(e,n),Z(n,{code:V.invalid_string,validation:"date",message:s.message}),a.dirty()):s.kind==="time"?KE(s).test(e.data)||(n=this._getOrReturnCtx(e,n),Z(n,{code:V.invalid_string,validation:"time",message:s.message}),a.dirty()):s.kind==="duration"?UE.test(e.data)||(n=this._getOrReturnCtx(e,n),Z(n,{validation:"duration",code:V.invalid_string,message:s.message}),a.dirty()):s.kind==="ip"?XE(e.data,s.version)||(n=this._getOrReturnCtx(e,n),Z(n,{validation:"ip",code:V.invalid_string,message:s.message}),a.dirty()):s.kind==="jwt"?JE(e.data,s.alg)||(n=this._getOrReturnCtx(e,n),Z(n,{validation:"jwt",code:V.invalid_string,message:s.message}),a.dirty()):s.kind==="cidr"?e1(e.data,s.version)||(n=this._getOrReturnCtx(e,n),Z(n,{validation:"cidr",code:V.invalid_string,message:s.message}),a.dirty()):s.kind==="base64"?GE.test(e.data)||(n=this._getOrReturnCtx(e,n),Z(n,{validation:"base64",code:V.invalid_string,message:s.message}),a.dirty()):s.kind==="base64url"?QE.test(e.data)||(n=this._getOrReturnCtx(e,n),Z(n,{validation:"base64url",code:V.invalid_string,message:s.message}),a.dirty()):Se.assertNever(s);return{status:a.value,value:e.data}}_regex(e,r,a){return this.refinement(n=>e.test(n),{validation:r,code:V.invalid_string,...te.errToObj(a)})}_addCheck(e){return new zr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...te.errToObj(e)})}url(e){return this._addCheck({kind:"url",...te.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...te.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...te.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...te.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...te.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...te.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...te.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...te.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...te.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...te.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...te.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...te.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...te.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...te.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...te.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...te.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...te.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...te.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...te.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...te.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...te.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...te.errToObj(r)})}nonempty(e){return this.min(1,te.errToObj(e))}trim(){return new zr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new zr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new zr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}zr.create=t=>new zr({checks:[],typeName:le.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...pe(t)});function t1(t,e){const r=(t.toString().split(".")[1]||"").length,a=(e.toString().split(".")[1]||"").length,n=r>a?r:a,s=Number.parseInt(t.toFixed(n).replace(".","")),o=Number.parseInt(e.toFixed(n).replace(".",""));return s%o/10**n}class qa extends ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==J.number){const s=this._getOrReturnCtx(e);return Z(s,{code:V.invalid_type,expected:J.number,received:s.parsedType}),ie}let a;const n=new Ft;for(const s of this._def.checks)s.kind==="int"?Se.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),Z(a,{code:V.invalid_type,expected:"integer",received:"float",message:s.message}),n.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(a=this._getOrReturnCtx(e,a),Z(a,{code:V.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(a=this._getOrReturnCtx(e,a),Z(a,{code:V.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="multipleOf"?t1(e.data,s.value)!==0&&(a=this._getOrReturnCtx(e,a),Z(a,{code:V.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),Z(a,{code:V.not_finite,message:s.message}),n.dirty()):Se.assertNever(s);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,te.toString(r))}gt(e,r){return this.setLimit("min",e,!1,te.toString(r))}lte(e,r){return this.setLimit("max",e,!0,te.toString(r))}lt(e,r){return this.setLimit("max",e,!1,te.toString(r))}setLimit(e,r,a,n){return new qa({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:a,message:te.toString(n)}]})}_addCheck(e){return new qa({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:te.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:te.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:te.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:te.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:te.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:te.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Se.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(r===null||a.value>r)&&(r=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(r)&&Number.isFinite(e)}}qa.create=t=>new qa({checks:[],typeName:le.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...pe(t)});class Js extends ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==J.bigint)return this._getInvalidInput(e);let a;const n=new Ft;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(a=this._getOrReturnCtx(e,a),Z(a,{code:V.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(a=this._getOrReturnCtx(e,a),Z(a,{code:V.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),Z(a,{code:V.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):Se.assertNever(s);return{status:n.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Z(r,{code:V.invalid_type,expected:J.bigint,received:r.parsedType}),ie}gte(e,r){return this.setLimit("min",e,!0,te.toString(r))}gt(e,r){return this.setLimit("min",e,!1,te.toString(r))}lte(e,r){return this.setLimit("max",e,!0,te.toString(r))}lt(e,r){return this.setLimit("max",e,!1,te.toString(r))}setLimit(e,r,a,n){return new Js({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:a,message:te.toString(n)}]})}_addCheck(e){return new Js({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:te.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:te.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Js.create=t=>new Js({checks:[],typeName:le.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...pe(t)});class Ec extends ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==J.boolean){const a=this._getOrReturnCtx(e);return Z(a,{code:V.invalid_type,expected:J.boolean,received:a.parsedType}),ie}return er(e.data)}}Ec.create=t=>new Ec({typeName:le.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...pe(t)});class Ni extends ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==J.date){const s=this._getOrReturnCtx(e);return Z(s,{code:V.invalid_type,expected:J.date,received:s.parsedType}),ie}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Z(s,{code:V.invalid_date}),ie}const a=new Ft;let n;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(n=this._getOrReturnCtx(e,n),Z(n,{code:V.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),a.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(n=this._getOrReturnCtx(e,n),Z(n,{code:V.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),a.dirty()):Se.assertNever(s);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ni({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:te.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:te.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Ni.create=t=>new Ni({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:le.ZodDate,...pe(t)});class Om extends ge{_parse(e){if(this._getType(e)!==J.symbol){const a=this._getOrReturnCtx(e);return Z(a,{code:V.invalid_type,expected:J.symbol,received:a.parsedType}),ie}return er(e.data)}}Om.create=t=>new Om({typeName:le.ZodSymbol,...pe(t)});class bc extends ge{_parse(e){if(this._getType(e)!==J.undefined){const a=this._getOrReturnCtx(e);return Z(a,{code:V.invalid_type,expected:J.undefined,received:a.parsedType}),ie}return er(e.data)}}bc.create=t=>new bc({typeName:le.ZodUndefined,...pe(t)});class kc extends ge{_parse(e){if(this._getType(e)!==J.null){const a=this._getOrReturnCtx(e);return Z(a,{code:V.invalid_type,expected:J.null,received:a.parsedType}),ie}return er(e.data)}}kc.create=t=>new kc({typeName:le.ZodNull,...pe(t)});class xc extends ge{constructor(){super(...arguments),this._any=!0}_parse(e){return er(e.data)}}xc.create=t=>new xc({typeName:le.ZodAny,...pe(t)});class Fc extends ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return er(e.data)}}Fc.create=t=>new Fc({typeName:le.ZodUnknown,...pe(t)});class Fn extends ge{_parse(e){const r=this._getOrReturnCtx(e);return Z(r,{code:V.invalid_type,expected:J.never,received:r.parsedType}),ie}}Fn.create=t=>new Fn({typeName:le.ZodNever,...pe(t)});class Lm extends ge{_parse(e){if(this._getType(e)!==J.undefined){const a=this._getOrReturnCtx(e);return Z(a,{code:V.invalid_type,expected:J.void,received:a.parsedType}),ie}return er(e.data)}}Lm.create=t=>new Lm({typeName:le.ZodVoid,...pe(t)});class xr extends ge{_parse(e){const{ctx:r,status:a}=this._processInputParams(e),n=this._def;if(r.parsedType!==J.array)return Z(r,{code:V.invalid_type,expected:J.array,received:r.parsedType}),ie;if(n.exactLength!==null){const o=r.data.length>n.exactLength.value,i=r.data.length<n.exactLength.value;(o||i)&&(Z(r,{code:o?V.too_big:V.too_small,minimum:i?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),a.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(Z(r,{code:V.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),a.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(Z(r,{code:V.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),a.dirty()),r.common.async)return Promise.all([...r.data].map((o,i)=>n.type._parseAsync(new Fr(r,o,r.path,i)))).then(o=>Ft.mergeArray(a,o));const s=[...r.data].map((o,i)=>n.type._parseSync(new Fr(r,o,r.path,i)));return Ft.mergeArray(a,s)}get element(){return this._def.type}min(e,r){return new xr({...this._def,minLength:{value:e,message:te.toString(r)}})}max(e,r){return new xr({...this._def,maxLength:{value:e,message:te.toString(r)}})}length(e,r){return new xr({...this._def,exactLength:{value:e,message:te.toString(r)}})}nonempty(e){return this.min(1,e)}}xr.create=(t,e)=>new xr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:le.ZodArray,...pe(e)});function ha(t){if(t instanceof Je){const e={};for(const r in t.shape){const a=t.shape[r];e[r]=$r.create(ha(a))}return new Je({...t._def,shape:()=>e})}else return t instanceof xr?new xr({...t._def,type:ha(t.element)}):t instanceof $r?$r.create(ha(t.unwrap())):t instanceof aa?aa.create(ha(t.unwrap())):t instanceof ta?ta.create(t.items.map(e=>ha(e))):t}class Je extends ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Se.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==J.object){const u=this._getOrReturnCtx(e);return Z(u,{code:V.invalid_type,expected:J.object,received:u.parsedType}),ie}const{status:a,ctx:n}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),i=[];if(!(this._def.catchall instanceof Fn&&this._def.unknownKeys==="strip"))for(const u in n.data)o.includes(u)||i.push(u);const l=[];for(const u of o){const c=s[u],d=n.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Fr(n,d,n.path,u)),alwaysSet:u in n.data})}if(this._def.catchall instanceof Fn){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of i)l.push({key:{status:"valid",value:c},value:{status:"valid",value:n.data[c]}});else if(u==="strict")i.length>0&&(Z(n,{code:V.unrecognized_keys,keys:i}),a.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of i){const d=n.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Fr(n,d,n.path,c)),alwaysSet:c in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key,p=await c.value;u.push({key:d,value:p,alwaysSet:c.alwaysSet})}return u}).then(u=>Ft.mergeObjectSync(a,u)):Ft.mergeObjectSync(a,l)}get shape(){return this._def.shape()}strict(e){return te.errToObj,new Je({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,a)=>{var s,o;const n=((o=(s=this._def).errorMap)==null?void 0:o.call(s,r,a).message)??a.defaultError;return r.code==="unrecognized_keys"?{message:te.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new Je({...this._def,unknownKeys:"strip"})}passthrough(){return new Je({...this._def,unknownKeys:"passthrough"})}extend(e){return new Je({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Je({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:le.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Je({...this._def,catchall:e})}pick(e){const r={};for(const a of Se.objectKeys(e))e[a]&&this.shape[a]&&(r[a]=this.shape[a]);return new Je({...this._def,shape:()=>r})}omit(e){const r={};for(const a of Se.objectKeys(this.shape))e[a]||(r[a]=this.shape[a]);return new Je({...this._def,shape:()=>r})}deepPartial(){return ha(this)}partial(e){const r={};for(const a of Se.objectKeys(this.shape)){const n=this.shape[a];e&&!e[a]?r[a]=n:r[a]=n.optional()}return new Je({...this._def,shape:()=>r})}required(e){const r={};for(const a of Se.objectKeys(this.shape))if(e&&!e[a])r[a]=this.shape[a];else{let s=this.shape[a];for(;s instanceof $r;)s=s._def.innerType;r[a]=s}return new Je({...this._def,shape:()=>r})}keyof(){return s_(Se.objectKeys(this.shape))}}Je.create=(t,e)=>new Je({shape:()=>t,unknownKeys:"strip",catchall:Fn.create(),typeName:le.ZodObject,...pe(e)});Je.strictCreate=(t,e)=>new Je({shape:()=>t,unknownKeys:"strict",catchall:Fn.create(),typeName:le.ZodObject,...pe(e)});Je.lazycreate=(t,e)=>new Je({shape:t,unknownKeys:"strip",catchall:Fn.create(),typeName:le.ZodObject,...pe(e)});class Ri extends ge{_parse(e){const{ctx:r}=this._processInputParams(e),a=this._def.options;function n(s){for(const i of s)if(i.result.status==="valid")return i.result;for(const i of s)if(i.result.status==="dirty")return r.common.issues.push(...i.ctx.common.issues),i.result;const o=s.map(i=>new qr(i.ctx.common.issues));return Z(r,{code:V.invalid_union,unionErrors:o}),ie}if(r.common.async)return Promise.all(a.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(n);{let s;const o=[];for(const l of a){const u={...r,common:{...r.common,issues:[]},parent:null},c=l._parseSync({data:r.data,path:r.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!s&&(s={result:c,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const i=o.map(l=>new qr(l));return Z(r,{code:V.invalid_union,unionErrors:i}),ie}}get options(){return this._def.options}}Ri.create=(t,e)=>new Ri({options:t,typeName:le.ZodUnion,...pe(e)});const Rr=t=>t instanceof Mc?Rr(t.schema):t instanceof na?Rr(t.innerType()):t instanceof Oi?[t.value]:t instanceof ra?t.options:t instanceof Ac?Se.objectValues(t.enum):t instanceof Di?Rr(t._def.innerType):t instanceof bc?[void 0]:t instanceof kc?[null]:t instanceof $r?[void 0,...Rr(t.unwrap())]:t instanceof aa?[null,...Rr(t.unwrap())]:t instanceof o_||t instanceof ji?Rr(t.unwrap()):t instanceof zi?Rr(t._def.innerType):[];class gf extends ge{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==J.object)return Z(r,{code:V.invalid_type,expected:J.object,received:r.parsedType}),ie;const a=this.discriminator,n=r.data[a],s=this.optionsMap.get(n);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(Z(r,{code:V.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),ie)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,a){const n=new Map;for(const s of r){const o=Rr(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const i of o){if(n.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,s)}}return new gf({typeName:le.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:n,...pe(a)})}}function Pc(t,e){const r=on(t),a=on(e);if(t===e)return{valid:!0,data:t};if(r===J.object&&a===J.object){const n=Se.objectKeys(e),s=Se.objectKeys(t).filter(i=>n.indexOf(i)!==-1),o={...t,...e};for(const i of s){const l=Pc(t[i],e[i]);if(!l.valid)return{valid:!1};o[i]=l.data}return{valid:!0,data:o}}else if(r===J.array&&a===J.array){if(t.length!==e.length)return{valid:!1};const n=[];for(let s=0;s<t.length;s++){const o=t[s],i=e[s],l=Pc(o,i);if(!l.valid)return{valid:!1};n.push(l.data)}return{valid:!0,data:n}}else return r===J.date&&a===J.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ci extends ge{_parse(e){const{status:r,ctx:a}=this._processInputParams(e),n=(s,o)=>{if(Rm(s)||Rm(o))return ie;const i=Pc(s.value,o.value);return i.valid?((Cm(s)||Cm(o))&&r.dirty(),{status:r.value,value:i.data}):(Z(a,{code:V.invalid_intersection_types}),ie)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([s,o])=>n(s,o)):n(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}Ci.create=(t,e,r)=>new Ci({left:t,right:e,typeName:le.ZodIntersection,...pe(r)});class ta extends ge{_parse(e){const{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==J.array)return Z(a,{code:V.invalid_type,expected:J.array,received:a.parsedType}),ie;if(a.data.length<this._def.items.length)return Z(a,{code:V.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ie;!this._def.rest&&a.data.length>this._def.items.length&&(Z(a,{code:V.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...a.data].map((o,i)=>{const l=this._def.items[i]||this._def.rest;return l?l._parse(new Fr(a,o,a.path,i)):null}).filter(o=>!!o);return a.common.async?Promise.all(s).then(o=>Ft.mergeArray(r,o)):Ft.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new ta({...this._def,rest:e})}}ta.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ta({items:t,typeName:le.ZodTuple,rest:null,...pe(e)})};class Ii extends ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==J.object)return Z(a,{code:V.invalid_type,expected:J.object,received:a.parsedType}),ie;const n=[],s=this._def.keyType,o=this._def.valueType;for(const i in a.data)n.push({key:s._parse(new Fr(a,i,a.path,i)),value:o._parse(new Fr(a,a.data[i],a.path,i)),alwaysSet:i in a.data});return a.common.async?Ft.mergeObjectAsync(r,n):Ft.mergeObjectSync(r,n)}get element(){return this._def.valueType}static create(e,r,a){return r instanceof ge?new Ii({keyType:e,valueType:r,typeName:le.ZodRecord,...pe(a)}):new Ii({keyType:zr.create(),valueType:e,typeName:le.ZodRecord,...pe(r)})}}class Dm extends ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==J.map)return Z(a,{code:V.invalid_type,expected:J.map,received:a.parsedType}),ie;const n=this._def.keyType,s=this._def.valueType,o=[...a.data.entries()].map(([i,l],u)=>({key:n._parse(new Fr(a,i,a.path,[u,"key"])),value:s._parse(new Fr(a,l,a.path,[u,"value"]))}));if(a.common.async){const i=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return ie;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),i.set(u.value,c.value)}return{status:r.value,value:i}})}else{const i=new Map;for(const l of o){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return ie;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),i.set(u.value,c.value)}return{status:r.value,value:i}}}}Dm.create=(t,e,r)=>new Dm({valueType:e,keyType:t,typeName:le.ZodMap,...pe(r)});class eo extends ge{_parse(e){const{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==J.set)return Z(a,{code:V.invalid_type,expected:J.set,received:a.parsedType}),ie;const n=this._def;n.minSize!==null&&a.data.size<n.minSize.value&&(Z(a,{code:V.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&a.data.size>n.maxSize.value&&(Z(a,{code:V.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());const s=this._def.valueType;function o(l){const u=new Set;for(const c of l){if(c.status==="aborted")return ie;c.status==="dirty"&&r.dirty(),u.add(c.value)}return{status:r.value,value:u}}const i=[...a.data.values()].map((l,u)=>s._parse(new Fr(a,l,a.path,u)));return a.common.async?Promise.all(i).then(l=>o(l)):o(i)}min(e,r){return new eo({...this._def,minSize:{value:e,message:te.toString(r)}})}max(e,r){return new eo({...this._def,maxSize:{value:e,message:te.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}eo.create=(t,e)=>new eo({valueType:t,minSize:null,maxSize:null,typeName:le.ZodSet,...pe(e)});class Mc extends ge{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Mc.create=(t,e)=>new Mc({getter:t,typeName:le.ZodLazy,...pe(e)});class Oi extends ge{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Z(r,{received:r.data,code:V.invalid_literal,expected:this._def.value}),ie}return{status:"valid",value:e.data}}get value(){return this._def.value}}Oi.create=(t,e)=>new Oi({value:t,typeName:le.ZodLiteral,...pe(e)});function s_(t,e){return new ra({values:t,typeName:le.ZodEnum,...pe(e)})}class ra extends ge{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),a=this._def.values;return Z(r,{expected:Se.joinValues(a),received:r.parsedType,code:V.invalid_type}),ie}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),a=this._def.values;return Z(r,{received:r.data,code:V.invalid_enum_value,options:a}),ie}return er(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return ra.create(e,{...this._def,...r})}exclude(e,r=this._def){return ra.create(this.options.filter(a=>!e.includes(a)),{...this._def,...r})}}ra.create=s_;class Ac extends ge{_parse(e){const r=Se.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==J.string&&a.parsedType!==J.number){const n=Se.objectValues(r);return Z(a,{expected:Se.joinValues(n),received:a.parsedType,code:V.invalid_type}),ie}if(this._cache||(this._cache=new Set(Se.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const n=Se.objectValues(r);return Z(a,{received:a.data,code:V.invalid_enum_value,options:n}),ie}return er(e.data)}get enum(){return this._def.values}}Ac.create=(t,e)=>new Ac({values:t,typeName:le.ZodNativeEnum,...pe(e)});class Li extends ge{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==J.promise&&r.common.async===!1)return Z(r,{code:V.invalid_type,expected:J.promise,received:r.parsedType}),ie;const a=r.parsedType===J.promise?r.data:Promise.resolve(r.data);return er(a.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Li.create=(t,e)=>new Li({type:t,typeName:le.ZodPromise,...pe(e)});class na extends ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:a}=this._processInputParams(e),n=this._def.effect||null,s={addIssue:o=>{Z(a,o),o.fatal?r.abort():r.dirty()},get path(){return a.path}};if(s.addIssue=s.addIssue.bind(s),n.type==="preprocess"){const o=n.transform(a.data,s);if(a.common.async)return Promise.resolve(o).then(async i=>{if(r.value==="aborted")return ie;const l=await this._def.schema._parseAsync({data:i,path:a.path,parent:a});return l.status==="aborted"?ie:l.status==="dirty"||r.value==="dirty"?Ss(l.value):l});{if(r.value==="aborted")return ie;const i=this._def.schema._parseSync({data:o,path:a.path,parent:a});return i.status==="aborted"?ie:i.status==="dirty"||r.value==="dirty"?Ss(i.value):i}}if(n.type==="refinement"){const o=i=>{const l=n.refinement(i,s);if(a.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return i};if(a.common.async===!1){const i=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?ie:(i.status==="dirty"&&r.dirty(),o(i.value),{status:r.value,value:i.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(i=>i.status==="aborted"?ie:(i.status==="dirty"&&r.dirty(),o(i.value).then(()=>({status:r.value,value:i.value}))))}if(n.type==="transform")if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Va(o))return ie;const i=n.transform(o.value,s);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:i}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>Va(o)?Promise.resolve(n.transform(o.value,s)).then(i=>({status:r.value,value:i})):ie);Se.assertNever(n)}}na.create=(t,e,r)=>new na({schema:t,typeName:le.ZodEffects,effect:e,...pe(r)});na.createWithPreprocess=(t,e,r)=>new na({schema:e,effect:{type:"preprocess",transform:t},typeName:le.ZodEffects,...pe(r)});class $r extends ge{_parse(e){return this._getType(e)===J.undefined?er(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$r.create=(t,e)=>new $r({innerType:t,typeName:le.ZodOptional,...pe(e)});class aa extends ge{_parse(e){return this._getType(e)===J.null?er(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}aa.create=(t,e)=>new aa({innerType:t,typeName:le.ZodNullable,...pe(e)});class Di extends ge{_parse(e){const{ctx:r}=this._processInputParams(e);let a=r.data;return r.parsedType===J.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Di.create=(t,e)=>new Di({innerType:t,typeName:le.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...pe(e)});class zi extends ge{_parse(e){const{ctx:r}=this._processInputParams(e),a={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return Ti(n)?n.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new qr(a.common.issues)},input:a.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new qr(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}zi.create=(t,e)=>new zi({innerType:t,typeName:le.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...pe(e)});class zm extends ge{_parse(e){if(this._getType(e)!==J.nan){const a=this._getOrReturnCtx(e);return Z(a,{code:V.invalid_type,expected:J.nan,received:a.parsedType}),ie}return{status:"valid",value:e.data}}}zm.create=t=>new zm({typeName:le.ZodNaN,...pe(t)});class o_ extends ge{_parse(e){const{ctx:r}=this._processInputParams(e),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}}class _f extends ge{_parse(e){const{status:r,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?ie:s.status==="dirty"?(r.dirty(),Ss(s.value)):this._def.out._parseAsync({data:s.value,path:a.path,parent:a})})();{const n=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return n.status==="aborted"?ie:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:a.path,parent:a})}}static create(e,r){return new _f({in:e,out:r,typeName:le.ZodPipeline})}}class ji extends ge{_parse(e){const r=this._def.innerType._parse(e),a=n=>(Va(n)&&(n.value=Object.freeze(n.value)),n);return Ti(r)?r.then(n=>a(n)):a(r)}unwrap(){return this._def.innerType}}ji.create=(t,e)=>new ji({innerType:t,typeName:le.ZodReadonly,...pe(e)});var le;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(le||(le={}));const T=zr.create,dt=qa.create,ot=Ec.create,r1=xc.create,uo=Fc.create;Fn.create;const ee=xr.create,K=Je.create,At=Ri.create,n1=gf.create;Ci.create;ta.create;const co=Ii.create,fe=Oi.create,Gr=ra.create;Li.create;const $=$r.create;aa.create;const a1=ie,vl="2025-06-18",s1=[vl,"2025-03-26","2024-11-05","2024-10-07"],gl="2.0",i_=At([T(),dt().int()]),l_=T(),o1=K({progressToken:$(i_)}).passthrough(),tr=K({_meta:$(o1)}).passthrough(),Lt=K({method:T(),params:$(tr)}),fo=K({_meta:$(K({}).passthrough())}).passthrough(),Mr=K({method:T(),params:$(fo)}),rr=K({_meta:$(K({}).passthrough())}).passthrough(),_l=At([T(),dt().int()]),u_=K({jsonrpc:fe(gl),id:_l}).merge(Lt).strict(),c_=t=>u_.safeParse(t).success,d_=K({jsonrpc:fe(gl)}).merge(Mr).strict(),i1=t=>d_.safeParse(t).success,f_=K({jsonrpc:fe(gl),id:_l,result:rr}).strict(),Tc=t=>f_.safeParse(t).success;var wr;(function(t){t[t.ConnectionClosed=-32e3]="ConnectionClosed",t[t.RequestTimeout=-32001]="RequestTimeout",t[t.ParseError=-32700]="ParseError",t[t.InvalidRequest=-32600]="InvalidRequest",t[t.MethodNotFound=-32601]="MethodNotFound",t[t.InvalidParams=-32602]="InvalidParams",t[t.InternalError=-32603]="InternalError"})(wr||(wr={}));const p_=K({jsonrpc:fe(gl),id:_l,error:K({code:dt().int(),message:T(),data:$(uo())})}).strict(),l1=t=>p_.safeParse(t).success,cu=At([u_,d_,f_,p_]),Ma=rr.strict(),yf=Mr.extend({method:fe("notifications/cancelled"),params:fo.extend({requestId:_l,reason:T().optional()})}),po=K({name:T(),title:$(T())}).passthrough(),m_=po.extend({version:T()}),u1=K({experimental:$(K({}).passthrough()),sampling:$(K({}).passthrough()),elicitation:$(K({}).passthrough()),roots:$(K({listChanged:$(ot())}).passthrough())}).passthrough(),c1=Lt.extend({method:fe("initialize"),params:tr.extend({protocolVersion:T(),capabilities:u1,clientInfo:m_})}),d1=K({experimental:$(K({}).passthrough()),logging:$(K({}).passthrough()),completions:$(K({}).passthrough()),prompts:$(K({listChanged:$(ot())}).passthrough()),resources:$(K({subscribe:$(ot()),listChanged:$(ot())}).passthrough()),tools:$(K({listChanged:$(ot())}).passthrough())}).passthrough(),h_=rr.extend({protocolVersion:T(),capabilities:d1,serverInfo:m_,instructions:$(T())}),v_=Mr.extend({method:fe("notifications/initialized")}),f1=t=>v_.safeParse(t).success,wf=Lt.extend({method:fe("ping")}),p1=K({progress:dt(),total:$(dt()),message:$(T())}).passthrough(),Sf=Mr.extend({method:fe("notifications/progress"),params:fo.merge(p1).extend({progressToken:i_})}),yl=Lt.extend({params:tr.extend({cursor:$(l_)}).optional()}),wl=rr.extend({nextCursor:$(l_)}),g_=K({uri:T(),mimeType:$(T()),_meta:$(K({}).passthrough())}).passthrough(),__=g_.extend({text:T()}),Ef=T().refine(t=>{try{return atob(t),!0}catch{return!1}},{message:"Invalid Base64 string"}),y_=g_.extend({blob:Ef}),w_=po.extend({uri:T(),description:$(T()),mimeType:$(T()),_meta:$(K({}).passthrough())}),m1=po.extend({uriTemplate:T(),description:$(T()),mimeType:$(T()),_meta:$(K({}).passthrough())}),h1=yl.extend({method:fe("resources/list")}),Ui=wl.extend({resources:ee(w_)}),v1=yl.extend({method:fe("resources/templates/list")}),S_=wl.extend({resourceTemplates:ee(m1)}),g1=Lt.extend({method:fe("resources/read"),params:tr.extend({uri:T()})}),bf=rr.extend({contents:ee(At([__,y_]))}),E_=Mr.extend({method:fe("notifications/resources/list_changed")}),_1=Lt.extend({method:fe("resources/subscribe"),params:tr.extend({uri:T()})}),y1=Lt.extend({method:fe("resources/unsubscribe"),params:tr.extend({uri:T()})}),w1=Mr.extend({method:fe("notifications/resources/updated"),params:fo.extend({uri:T()})}),S1=K({name:T(),description:$(T()),required:$(ot())}).passthrough(),E1=po.extend({description:$(T()),arguments:$(ee(S1)),_meta:$(K({}).passthrough())}),b1=yl.extend({method:fe("prompts/list")}),kf=wl.extend({prompts:ee(E1)}),k1=Lt.extend({method:fe("prompts/get"),params:tr.extend({name:T(),arguments:$(co(T()))})}),xf=K({type:fe("text"),text:T(),_meta:$(K({}).passthrough())}).passthrough(),Ff=K({type:fe("image"),data:Ef,mimeType:T(),_meta:$(K({}).passthrough())}).passthrough(),Pf=K({type:fe("audio"),data:Ef,mimeType:T(),_meta:$(K({}).passthrough())}).passthrough(),x1=K({type:fe("resource"),resource:At([__,y_]),_meta:$(K({}).passthrough())}).passthrough(),F1=w_.extend({type:fe("resource_link")}),b_=At([xf,Ff,Pf,F1,x1]),P1=K({role:Gr(["user","assistant"]),content:b_}).passthrough(),Mf=rr.extend({description:$(T()),messages:ee(P1)}),M1=Mr.extend({method:fe("notifications/prompts/list_changed")}),A1=K({title:$(T()),readOnlyHint:$(ot()),destructiveHint:$(ot()),idempotentHint:$(ot()),openWorldHint:$(ot())}).passthrough(),T1=po.extend({description:$(T()),inputSchema:K({type:fe("object"),properties:$(K({}).passthrough()),required:$(ee(T()))}).passthrough(),outputSchema:$(K({type:fe("object"),properties:$(K({}).passthrough()),required:$(ee(T()))}).passthrough()),annotations:$(A1),_meta:$(K({}).passthrough())}),N1=yl.extend({method:fe("tools/list")}),Af=wl.extend({tools:ee(T1)}),Sl=rr.extend({content:ee(b_).default([]),structuredContent:K({}).passthrough().optional(),isError:$(ot())});Sl.or(rr.extend({toolResult:uo()}));const R1=Lt.extend({method:fe("tools/call"),params:tr.extend({name:T(),arguments:$(co(uo()))})}),C1=Mr.extend({method:fe("notifications/tools/list_changed")}),k_=Gr(["debug","info","notice","warning","error","critical","alert","emergency"]),I1=Lt.extend({method:fe("logging/setLevel"),params:tr.extend({level:k_})}),x_=Mr.extend({method:fe("notifications/message"),params:fo.extend({level:k_,logger:$(T()),data:uo()})}),O1=K({name:T().optional()}).passthrough(),L1=K({hints:$(ee(O1)),costPriority:$(dt().min(0).max(1)),speedPriority:$(dt().min(0).max(1)),intelligencePriority:$(dt().min(0).max(1))}).passthrough(),D1=K({role:Gr(["user","assistant"]),content:At([xf,Ff,Pf])}).passthrough(),z1=Lt.extend({method:fe("sampling/createMessage"),params:tr.extend({messages:ee(D1),systemPrompt:$(T()),includeContext:$(Gr(["none","thisServer","allServers"])),temperature:$(dt()),maxTokens:dt().int(),stopSequences:$(ee(T())),metadata:$(K({}).passthrough()),modelPreferences:$(L1)})}),j1=rr.extend({model:T(),stopReason:$(Gr(["endTurn","stopSequence","maxTokens"]).or(T())),role:Gr(["user","assistant"]),content:n1("type",[xf,Ff,Pf])}),U1=K({type:fe("boolean"),title:$(T()),description:$(T()),default:$(ot())}).passthrough(),$1=K({type:fe("string"),title:$(T()),description:$(T()),minLength:$(dt()),maxLength:$(dt()),format:$(Gr(["email","uri","date","date-time"]))}).passthrough(),H1=K({type:Gr(["number","integer"]),title:$(T()),description:$(T()),minimum:$(dt()),maximum:$(dt())}).passthrough(),B1=K({type:fe("string"),title:$(T()),description:$(T()),enum:ee(T()),enumNames:$(ee(T()))}).passthrough(),W1=At([U1,$1,H1,B1]),F_=Lt.extend({method:fe("elicitation/create"),params:tr.extend({message:T(),requestedSchema:K({type:fe("object"),properties:co(T(),W1),required:$(ee(T()))}).passthrough()})}),V1=rr.extend({action:Gr(["accept","decline","cancel"]),content:$(co(T(),uo()))}),q1=K({type:fe("ref/resource"),uri:T()}).passthrough(),G1=K({type:fe("ref/prompt"),name:T()}).passthrough(),Q1=Lt.extend({method:fe("completion/complete"),params:tr.extend({ref:At([G1,q1]),argument:K({name:T(),value:T()}).passthrough(),context:$(K({arguments:$(co(T(),T()))}))})}),P_=rr.extend({completion:K({values:ee(T()).max(100),total:$(dt().int()),hasMore:$(ot())}).passthrough()}),Y1=K({uri:T().startsWith("file://"),name:$(T()),_meta:$(K({}).passthrough())}).passthrough(),K1=Lt.extend({method:fe("roots/list")}),Z1=rr.extend({roots:ee(Y1)}),X1=Mr.extend({method:fe("notifications/roots/list_changed")});At([wf,c1,Q1,I1,k1,b1,h1,v1,g1,_1,y1,R1,N1]);At([yf,Sf,v_,X1]);At([Ma,j1,V1,Z1]);At([wf,z1,F_,K1]);At([yf,Sf,x_,w1,E_,C1,M1]);At([Ma,h_,P_,Mf,kf,Ui,S_,bf,Sl,Af]);class pn extends Error{constructor(e,r,a){super(`MCP error ${e}: ${r}`),this.code=e,this.data=a,this.name="McpError"}}const J1=6e4;class eb{constructor(e){this._options=e,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this.setNotificationHandler(yf,r=>{const a=this._requestHandlerAbortControllers.get(r.params.requestId);a==null||a.abort(r.params.reason)}),this.setNotificationHandler(Sf,r=>{this._onprogress(r)}),this.setRequestHandler(wf,r=>({}))}_setupTimeout(e,r,a,n,s=!1){this._timeoutInfo.set(e,{timeoutId:setTimeout(n,r),startTime:Date.now(),timeout:r,maxTotalTimeout:a,resetTimeoutOnProgress:s,onTimeout:n})}_resetTimeout(e){const r=this._timeoutInfo.get(e);if(!r)return!1;const a=Date.now()-r.startTime;if(r.maxTotalTimeout&&a>=r.maxTotalTimeout)throw this._timeoutInfo.delete(e),new pn(wr.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:r.maxTotalTimeout,totalElapsed:a});return clearTimeout(r.timeoutId),r.timeoutId=setTimeout(r.onTimeout,r.timeout),!0}_cleanupTimeout(e){const r=this._timeoutInfo.get(e);r&&(clearTimeout(r.timeoutId),this._timeoutInfo.delete(e))}async connect(e){var r,a,n;this._transport=e;const s=(r=this.transport)===null||r===void 0?void 0:r.onclose;this._transport.onclose=()=>{s==null||s(),this._onclose()};const o=(a=this.transport)===null||a===void 0?void 0:a.onerror;this._transport.onerror=l=>{o==null||o(l),this._onerror(l)};const i=(n=this._transport)===null||n===void 0?void 0:n.onmessage;this._transport.onmessage=(l,u)=>{i==null||i(l,u),Tc(l)||l1(l)?this._onresponse(l):c_(l)?this._onrequest(l,u):i1(l)?this._onnotification(l):this._onerror(new Error(`Unknown message type: ${JSON.stringify(l)}`))},await this._transport.start()}_onclose(){var e;const r=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._pendingDebouncedNotifications.clear(),this._transport=void 0,(e=this.onclose)===null||e===void 0||e.call(this);const a=new pn(wr.ConnectionClosed,"Connection closed");for(const n of r.values())n(a)}_onerror(e){var r;(r=this.onerror)===null||r===void 0||r.call(this,e)}_onnotification(e){var r;const a=(r=this._notificationHandlers.get(e.method))!==null&&r!==void 0?r:this.fallbackNotificationHandler;a!==void 0&&Promise.resolve().then(()=>a(e)).catch(n=>this._onerror(new Error(`Uncaught error in notification handler: ${n}`)))}_onrequest(e,r){var a,n;const s=(a=this._requestHandlers.get(e.method))!==null&&a!==void 0?a:this.fallbackRequestHandler,o=this._transport;if(s===void 0){o==null||o.send({jsonrpc:"2.0",id:e.id,error:{code:wr.MethodNotFound,message:"Method not found"}}).catch(u=>this._onerror(new Error(`Failed to send an error response: ${u}`)));return}const i=new AbortController;this._requestHandlerAbortControllers.set(e.id,i);const l={signal:i.signal,sessionId:o==null?void 0:o.sessionId,_meta:(n=e.params)===null||n===void 0?void 0:n._meta,sendNotification:u=>this.notification(u,{relatedRequestId:e.id}),sendRequest:(u,c,d)=>this.request(u,c,{...d,relatedRequestId:e.id}),authInfo:r==null?void 0:r.authInfo,requestId:e.id,requestInfo:r==null?void 0:r.requestInfo};Promise.resolve().then(()=>s(e,l)).then(u=>{if(!i.signal.aborted)return o==null?void 0:o.send({result:u,jsonrpc:"2.0",id:e.id})},u=>{var c;if(!i.signal.aborted)return o==null?void 0:o.send({jsonrpc:"2.0",id:e.id,error:{code:Number.isSafeInteger(u.code)?u.code:wr.InternalError,message:(c=u.message)!==null&&c!==void 0?c:"Internal error"}})}).catch(u=>this._onerror(new Error(`Failed to send response: ${u}`))).finally(()=>{this._requestHandlerAbortControllers.delete(e.id)})}_onprogress(e){const{progressToken:r,...a}=e.params,n=Number(r),s=this._progressHandlers.get(n);if(!s){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(e)}`));return}const o=this._responseHandlers.get(n),i=this._timeoutInfo.get(n);if(i&&o&&i.resetTimeoutOnProgress)try{this._resetTimeout(n)}catch(l){o(l);return}s(a)}_onresponse(e){const r=Number(e.id),a=this._responseHandlers.get(r);if(a===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(e)}`));return}if(this._responseHandlers.delete(r),this._progressHandlers.delete(r),this._cleanupTimeout(r),Tc(e))a(e);else{const n=new pn(e.error.code,e.error.message,e.error.data);a(n)}}get transport(){return this._transport}async close(){var e;await((e=this._transport)===null||e===void 0?void 0:e.close())}request(e,r,a){const{relatedRequestId:n,resumptionToken:s,onresumptiontoken:o}=a??{};return new Promise((i,l)=>{var u,c,d,p,f,h;if(!this._transport){l(new Error("Not connected"));return}((u=this._options)===null||u===void 0?void 0:u.enforceStrictCapabilities)===!0&&this.assertCapabilityForMethod(e.method),(c=a==null?void 0:a.signal)===null||c===void 0||c.throwIfAborted();const v=this._requestMessageId++,y={...e,jsonrpc:"2.0",id:v};a!=null&&a.onprogress&&(this._progressHandlers.set(v,a.onprogress),y.params={...e.params,_meta:{...((d=e.params)===null||d===void 0?void 0:d._meta)||{},progressToken:v}});const m=S=>{var x;this._responseHandlers.delete(v),this._progressHandlers.delete(v),this._cleanupTimeout(v),(x=this._transport)===null||x===void 0||x.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:v,reason:String(S)}},{relatedRequestId:n,resumptionToken:s,onresumptiontoken:o}).catch(F=>this._onerror(new Error(`Failed to send cancellation: ${F}`))),l(S)};this._responseHandlers.set(v,S=>{var x;if(!(!((x=a==null?void 0:a.signal)===null||x===void 0)&&x.aborted)){if(S instanceof Error)return l(S);try{const F=r.parse(S.result);i(F)}catch(F){l(F)}}}),(p=a==null?void 0:a.signal)===null||p===void 0||p.addEventListener("abort",()=>{var S;m((S=a==null?void 0:a.signal)===null||S===void 0?void 0:S.reason)});const g=(f=a==null?void 0:a.timeout)!==null&&f!==void 0?f:J1,_=()=>m(new pn(wr.RequestTimeout,"Request timed out",{timeout:g}));this._setupTimeout(v,g,a==null?void 0:a.maxTotalTimeout,_,(h=a==null?void 0:a.resetTimeoutOnProgress)!==null&&h!==void 0?h:!1),this._transport.send(y,{relatedRequestId:n,resumptionToken:s,onresumptiontoken:o}).catch(S=>{this._cleanupTimeout(v),l(S)})})}async notification(e,r){var a,n;if(!this._transport)throw new Error("Not connected");if(this.assertNotificationCapability(e.method),((n=(a=this._options)===null||a===void 0?void 0:a.debouncedNotificationMethods)!==null&&n!==void 0?n:[]).includes(e.method)&&!e.params&&!(r!=null&&r.relatedRequestId)){if(this._pendingDebouncedNotifications.has(e.method))return;this._pendingDebouncedNotifications.add(e.method),Promise.resolve().then(()=>{var l;if(this._pendingDebouncedNotifications.delete(e.method),!this._transport)return;const u={...e,jsonrpc:"2.0"};(l=this._transport)===null||l===void 0||l.send(u,r).catch(c=>this._onerror(c))});return}const i={...e,jsonrpc:"2.0"};await this._transport.send(i,r)}setRequestHandler(e,r){const a=e.shape.method.value;this.assertRequestHandlerCapability(a),this._requestHandlers.set(a,(n,s)=>Promise.resolve(r(e.parse(n),s)))}removeRequestHandler(e){this._requestHandlers.delete(e)}assertCanSetRequestHandler(e){if(this._requestHandlers.has(e))throw new Error(`A request handler for ${e} already exists, which would be overridden`)}setNotificationHandler(e,r){this._notificationHandlers.set(e.shape.method.value,a=>Promise.resolve(r(e.parse(a))))}removeNotificationHandler(e){this._notificationHandlers.delete(e)}}function tb(t,e){return Object.entries(e).reduce((r,[a,n])=>(n&&typeof n=="object"?r[a]=r[a]?{...r[a],...n}:n:r[a]=n,r),{...t})}var Nc={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function(r,a){a(e)})(Sw,function(r){function a(){for(var E=arguments.length,w=Array(E),k=0;k<E;k++)w[k]=arguments[k];if(w.length>1){w[0]=w[0].slice(0,-1);for(var R=w.length-1,N=1;N<R;++N)w[N]=w[N].slice(1,-1);return w[R]=w[R].slice(1),w.join("")}else return w[0]}function n(E){return"(?:"+E+")"}function s(E){return E===void 0?"undefined":E===null?"null":Object.prototype.toString.call(E).split(" ").pop().split("]").shift().toLowerCase()}function o(E){return E.toUpperCase()}function i(E){return E!=null?E instanceof Array?E:typeof E.length!="number"||E.split||E.setInterval||E.call?[E]:Array.prototype.slice.call(E):[]}function l(E,w){var k=E;if(w)for(var R in w)k[R]=w[R];return k}function u(E){var w="[A-Za-z]",k="[0-9]",R=a(k,"[A-Fa-f]"),N=n(n("%[EFef]"+R+"%"+R+R+"%"+R+R)+"|"+n("%[89A-Fa-f]"+R+"%"+R+R)+"|"+n("%"+R+R)),ne="[\\:\\/\\?\\#\\[\\]\\@]",ae="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ye=a(ne,ae),Ae=E?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ge=E?"[\\uE000-\\uF8FF]":"[]",ve=a(w,k,"[\\-\\.\\_\\~]",Ae);n(w+a(w,k,"[\\+\\-\\.]")+"*"),n(n(N+"|"+a(ve,ae,"[\\:]"))+"*");var Pe=n(n("25[0-5]")+"|"+n("2[0-4]"+k)+"|"+n("1"+k+k)+"|"+n("0?[1-9]"+k)+"|0?0?"+k),Qe=n(Pe+"\\."+Pe+"\\."+Pe+"\\."+Pe),de=n(R+"{1,4}"),Ie=n(n(de+"\\:"+de)+"|"+Qe),Xe=n(n(de+"\\:")+"{6}"+Ie),Oe=n("\\:\\:"+n(de+"\\:")+"{5}"+Ie),tn=n(n(de)+"?\\:\\:"+n(de+"\\:")+"{4}"+Ie),pr=n(n(n(de+"\\:")+"{0,1}"+de)+"?\\:\\:"+n(de+"\\:")+"{3}"+Ie),mr=n(n(n(de+"\\:")+"{0,2}"+de)+"?\\:\\:"+n(de+"\\:")+"{2}"+Ie),da=n(n(n(de+"\\:")+"{0,3}"+de)+"?\\:\\:"+de+"\\:"+Ie),Ln=n(n(n(de+"\\:")+"{0,4}"+de)+"?\\:\\:"+Ie),qt=n(n(n(de+"\\:")+"{0,5}"+de)+"?\\:\\:"+de),hr=n(n(n(de+"\\:")+"{0,6}"+de)+"?\\:\\:"),Dn=n([Xe,Oe,tn,pr,mr,da,Ln,qt,hr].join("|")),Nr=n(n(ve+"|"+N)+"+");n("[vV]"+R+"+\\."+a(ve,ae,"[\\:]")+"+"),n(n(N+"|"+a(ve,ae))+"*");var ss=n(N+"|"+a(ve,ae,"[\\:\\@]"));return n(n(N+"|"+a(ve,ae,"[\\@]"))+"+"),n(n(ss+"|"+a("[\\/\\?]",Ge))+"*"),{NOT_SCHEME:new RegExp(a("[^]",w,k,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(a("[^\\%\\:]",ve,ae),"g"),NOT_HOST:new RegExp(a("[^\\%\\[\\]\\:]",ve,ae),"g"),NOT_PATH:new RegExp(a("[^\\%\\/\\:\\@]",ve,ae),"g"),NOT_PATH_NOSCHEME:new RegExp(a("[^\\%\\/\\@]",ve,ae),"g"),NOT_QUERY:new RegExp(a("[^\\%]",ve,ae,"[\\:\\@\\/\\?]",Ge),"g"),NOT_FRAGMENT:new RegExp(a("[^\\%]",ve,ae,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(a("[^]",ve,ae),"g"),UNRESERVED:new RegExp(ve,"g"),OTHER_CHARS:new RegExp(a("[^\\%]",ve,ye),"g"),PCT_ENCODED:new RegExp(N,"g"),IPV4ADDRESS:new RegExp("^("+Qe+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Dn+")"+n(n("\\%25|\\%(?!"+R+"{2})")+"("+Nr+")")+"?\\]?$")}}var c=u(!1),d=u(!0),p=function(){function E(w,k){var R=[],N=!0,ne=!1,ae=void 0;try{for(var ye=w[Symbol.iterator](),Ae;!(N=(Ae=ye.next()).done)&&(R.push(Ae.value),!(k&&R.length===k));N=!0);}catch(Ge){ne=!0,ae=Ge}finally{try{!N&&ye.return&&ye.return()}finally{if(ne)throw ae}}return R}return function(w,k){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return E(w,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(E){if(Array.isArray(E)){for(var w=0,k=Array(E.length);w<E.length;w++)k[w]=E[w];return k}else return Array.from(E)},h=2147483647,v=36,y=1,m=26,g=38,_=700,S=72,x=128,F="-",M=/^xn--/,P=/[^\0-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,z={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},G=v-y,Q=Math.floor,j=String.fromCharCode;function D(E){throw new RangeError(z[E])}function A(E,w){for(var k=[],R=E.length;R--;)k[R]=w(E[R]);return k}function U(E,w){var k=E.split("@"),R="";k.length>1&&(R=k[0]+"@",E=k[1]),E=E.replace(L,".");var N=E.split("."),ne=A(N,w).join(".");return R+ne}function W(E){for(var w=[],k=0,R=E.length;k<R;){var N=E.charCodeAt(k++);if(N>=55296&&N<=56319&&k<R){var ne=E.charCodeAt(k++);(ne&64512)==56320?w.push(((N&1023)<<10)+(ne&1023)+65536):(w.push(N),k--)}else w.push(N)}return w}var O=function(w){return String.fromCodePoint.apply(String,f(w))},q=function(w){return w-48<10?w-22:w-65<26?w-65:w-97<26?w-97:v},I=function(w,k){return w+22+75*(w<26)-((k!=0)<<5)},Y=function(w,k,R){var N=0;for(w=R?Q(w/_):w>>1,w+=Q(w/k);w>G*m>>1;N+=v)w=Q(w/G);return Q(N+(G+1)*w/(w+g))},se=function(w){var k=[],R=w.length,N=0,ne=x,ae=S,ye=w.lastIndexOf(F);ye<0&&(ye=0);for(var Ae=0;Ae<ye;++Ae)w.charCodeAt(Ae)>=128&&D("not-basic"),k.push(w.charCodeAt(Ae));for(var Ge=ye>0?ye+1:0;Ge<R;){for(var ve=N,Pe=1,Qe=v;;Qe+=v){Ge>=R&&D("invalid-input");var de=q(w.charCodeAt(Ge++));(de>=v||de>Q((h-N)/Pe))&&D("overflow"),N+=de*Pe;var Ie=Qe<=ae?y:Qe>=ae+m?m:Qe-ae;if(de<Ie)break;var Xe=v-Ie;Pe>Q(h/Xe)&&D("overflow"),Pe*=Xe}var Oe=k.length+1;ae=Y(N-ve,Oe,ve==0),Q(N/Oe)>h-ne&&D("overflow"),ne+=Q(N/Oe),N%=Oe,k.splice(N++,0,ne)}return String.fromCodePoint.apply(String,k)},_e=function(w){var k=[];w=W(w);var R=w.length,N=x,ne=0,ae=S,ye=!0,Ae=!1,Ge=void 0;try{for(var ve=w[Symbol.iterator](),Pe;!(ye=(Pe=ve.next()).done);ye=!0){var Qe=Pe.value;Qe<128&&k.push(j(Qe))}}catch(os){Ae=!0,Ge=os}finally{try{!ye&&ve.return&&ve.return()}finally{if(Ae)throw Ge}}var de=k.length,Ie=de;for(de&&k.push(F);Ie<R;){var Xe=h,Oe=!0,tn=!1,pr=void 0;try{for(var mr=w[Symbol.iterator](),da;!(Oe=(da=mr.next()).done);Oe=!0){var Ln=da.value;Ln>=N&&Ln<Xe&&(Xe=Ln)}}catch(os){tn=!0,pr=os}finally{try{!Oe&&mr.return&&mr.return()}finally{if(tn)throw pr}}var qt=Ie+1;Xe-N>Q((h-ne)/qt)&&D("overflow"),ne+=(Xe-N)*qt,N=Xe;var hr=!0,Dn=!1,Nr=void 0;try{for(var ss=w[Symbol.iterator](),dp;!(hr=(dp=ss.next()).done);hr=!0){var fp=dp.value;if(fp<N&&++ne>h&&D("overflow"),fp==N){for(var _o=ne,yo=v;;yo+=v){var wo=yo<=ae?y:yo>=ae+m?m:yo-ae;if(_o<wo)break;var pp=_o-wo,mp=v-wo;k.push(j(I(wo+pp%mp,0))),_o=Q(pp/mp)}k.push(j(I(_o,0))),ae=Y(ne,qt,Ie==de),ne=0,++Ie}}}catch(os){Dn=!0,Nr=os}finally{try{!hr&&ss.return&&ss.return()}finally{if(Dn)throw Nr}}++ne,++N}return k.join("")},ue=function(w){return U(w,function(k){return M.test(k)?se(k.slice(4).toLowerCase()):k})},qe=function(w){return U(w,function(k){return P.test(k)?"xn--"+_e(k):k})},Fe={version:"2.1.0",ucs2:{decode:W,encode:O},decode:se,encode:_e,toASCII:qe,toUnicode:ue},xe={};function bt(E){var w=E.charCodeAt(0),k=void 0;return w<16?k="%0"+w.toString(16).toUpperCase():w<128?k="%"+w.toString(16).toUpperCase():w<2048?k="%"+(w>>6|192).toString(16).toUpperCase()+"%"+(w&63|128).toString(16).toUpperCase():k="%"+(w>>12|224).toString(16).toUpperCase()+"%"+(w>>6&63|128).toString(16).toUpperCase()+"%"+(w&63|128).toString(16).toUpperCase(),k}function Vt(E){for(var w="",k=0,R=E.length;k<R;){var N=parseInt(E.substr(k+1,2),16);if(N<128)w+=String.fromCharCode(N),k+=3;else if(N>=194&&N<224){if(R-k>=6){var ne=parseInt(E.substr(k+4,2),16);w+=String.fromCharCode((N&31)<<6|ne&63)}else w+=E.substr(k,6);k+=6}else if(N>=224){if(R-k>=9){var ae=parseInt(E.substr(k+4,2),16),ye=parseInt(E.substr(k+7,2),16);w+=String.fromCharCode((N&15)<<12|(ae&63)<<6|ye&63)}else w+=E.substr(k,9);k+=9}else w+=E.substr(k,3),k+=3}return w}function Ze(E,w){function k(R){var N=Vt(R);return N.match(w.UNRESERVED)?N:R}return E.scheme&&(E.scheme=String(E.scheme).replace(w.PCT_ENCODED,k).toLowerCase().replace(w.NOT_SCHEME,"")),E.userinfo!==void 0&&(E.userinfo=String(E.userinfo).replace(w.PCT_ENCODED,k).replace(w.NOT_USERINFO,bt).replace(w.PCT_ENCODED,o)),E.host!==void 0&&(E.host=String(E.host).replace(w.PCT_ENCODED,k).toLowerCase().replace(w.NOT_HOST,bt).replace(w.PCT_ENCODED,o)),E.path!==void 0&&(E.path=String(E.path).replace(w.PCT_ENCODED,k).replace(E.scheme?w.NOT_PATH:w.NOT_PATH_NOSCHEME,bt).replace(w.PCT_ENCODED,o)),E.query!==void 0&&(E.query=String(E.query).replace(w.PCT_ENCODED,k).replace(w.NOT_QUERY,bt).replace(w.PCT_ENCODED,o)),E.fragment!==void 0&&(E.fragment=String(E.fragment).replace(w.PCT_ENCODED,k).replace(w.NOT_FRAGMENT,bt).replace(w.PCT_ENCODED,o)),E}function De(E){return E.replace(/^0*(.*)/,"$1")||"0"}function Ar(E,w){var k=E.match(w.IPV4ADDRESS)||[],R=p(k,2),N=R[1];return N?N.split(".").map(De).join("."):E}function ft(E,w){var k=E.match(w.IPV6ADDRESS)||[],R=p(k,3),N=R[1],ne=R[2];if(N){for(var ae=N.toLowerCase().split("::").reverse(),ye=p(ae,2),Ae=ye[0],Ge=ye[1],ve=Ge?Ge.split(":").map(De):[],Pe=Ae.split(":").map(De),Qe=w.IPV4ADDRESS.test(Pe[Pe.length-1]),de=Qe?7:8,Ie=Pe.length-de,Xe=Array(de),Oe=0;Oe<de;++Oe)Xe[Oe]=ve[Oe]||Pe[Ie+Oe]||"";Qe&&(Xe[de-1]=Ar(Xe[de-1],w));var tn=Xe.reduce(function(qt,hr,Dn){if(!hr||hr==="0"){var Nr=qt[qt.length-1];Nr&&Nr.index+Nr.length===Dn?Nr.length++:qt.push({index:Dn,length:1})}return qt},[]),pr=tn.sort(function(qt,hr){return hr.length-qt.length})[0],mr=void 0;if(pr&&pr.length>1){var da=Xe.slice(0,pr.index),Ln=Xe.slice(pr.index+pr.length);mr=da.join(":")+"::"+Ln.join(":")}else mr=Xe.join(":");return ne&&(mr+="%"+ne),mr}else return E}var ze=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Jr="".match(/(){0}/)[1]===void 0;function gt(E){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k={},R=w.iri!==!1?d:c;w.reference==="suffix"&&(E=(w.scheme?w.scheme+":":"")+"//"+E);var N=E.match(ze);if(N){Jr?(k.scheme=N[1],k.userinfo=N[3],k.host=N[4],k.port=parseInt(N[5],10),k.path=N[6]||"",k.query=N[7],k.fragment=N[8],isNaN(k.port)&&(k.port=N[5])):(k.scheme=N[1]||void 0,k.userinfo=E.indexOf("@")!==-1?N[3]:void 0,k.host=E.indexOf("//")!==-1?N[4]:void 0,k.port=parseInt(N[5],10),k.path=N[6]||"",k.query=E.indexOf("?")!==-1?N[7]:void 0,k.fragment=E.indexOf("#")!==-1?N[8]:void 0,isNaN(k.port)&&(k.port=E.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?N[4]:void 0)),k.host&&(k.host=ft(Ar(k.host,R),R)),k.scheme===void 0&&k.userinfo===void 0&&k.host===void 0&&k.port===void 0&&!k.path&&k.query===void 0?k.reference="same-document":k.scheme===void 0?k.reference="relative":k.fragment===void 0?k.reference="absolute":k.reference="uri",w.reference&&w.reference!=="suffix"&&w.reference!==k.reference&&(k.error=k.error||"URI is not a "+w.reference+" reference.");var ne=xe[(w.scheme||k.scheme||"").toLowerCase()];if(!w.unicodeSupport&&(!ne||!ne.unicodeSupport)){if(k.host&&(w.domainHost||ne&&ne.domainHost))try{k.host=Fe.toASCII(k.host.replace(R.PCT_ENCODED,Vt).toLowerCase())}catch(ae){k.error=k.error||"Host's domain name can not be converted to ASCII via punycode: "+ae}Ze(k,c)}else Ze(k,R);ne&&ne.parse&&ne.parse(k,w)}else k.error=k.error||"URI can not be parsed.";return k}function ua(E,w){var k=w.iri!==!1?d:c,R=[];return E.userinfo!==void 0&&(R.push(E.userinfo),R.push("@")),E.host!==void 0&&R.push(ft(Ar(String(E.host),k),k).replace(k.IPV6ADDRESS,function(N,ne,ae){return"["+ne+(ae?"%25"+ae:"")+"]"})),(typeof E.port=="number"||typeof E.port=="string")&&(R.push(":"),R.push(String(E.port))),R.length?R.join(""):void 0}var On=/^\.\.?\//,it=/^\/\.(\/|$)/,en=/^\/\.\.(\/|$)/,rs=/^\/?(?:.|\n)*?(?=\/|$)/;function tt(E){for(var w=[];E.length;)if(E.match(On))E=E.replace(On,"");else if(E.match(it))E=E.replace(it,"/");else if(E.match(en))E=E.replace(en,"/"),w.pop();else if(E==="."||E==="..")E="";else{var k=E.match(rs);if(k){var R=k[0];E=E.slice(R.length),w.push(R)}else throw new Error("Unexpected dot segment condition")}return w.join("")}function rt(E){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=w.iri?d:c,R=[],N=xe[(w.scheme||E.scheme||"").toLowerCase()];if(N&&N.serialize&&N.serialize(E,w),E.host&&!k.IPV6ADDRESS.test(E.host)){if(w.domainHost||N&&N.domainHost)try{E.host=w.iri?Fe.toUnicode(E.host):Fe.toASCII(E.host.replace(k.PCT_ENCODED,Vt).toLowerCase())}catch(ye){E.error=E.error||"Host's domain name can not be converted to "+(w.iri?"Unicode":"ASCII")+" via punycode: "+ye}}Ze(E,k),w.reference!=="suffix"&&E.scheme&&(R.push(E.scheme),R.push(":"));var ne=ua(E,w);if(ne!==void 0&&(w.reference!=="suffix"&&R.push("//"),R.push(ne),E.path&&E.path.charAt(0)!=="/"&&R.push("/")),E.path!==void 0){var ae=E.path;!w.absolutePath&&(!N||!N.absolutePath)&&(ae=tt(ae)),ne===void 0&&(ae=ae.replace(/^\/\//,"/%2F")),R.push(ae)}return E.query!==void 0&&(R.push("?"),R.push(E.query)),E.fragment!==void 0&&(R.push("#"),R.push(E.fragment)),R.join("")}function Tt(E,w){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=arguments[3],N={};return R||(E=gt(rt(E,k),k),w=gt(rt(w,k),k)),k=k||{},!k.tolerant&&w.scheme?(N.scheme=w.scheme,N.userinfo=w.userinfo,N.host=w.host,N.port=w.port,N.path=tt(w.path||""),N.query=w.query):(w.userinfo!==void 0||w.host!==void 0||w.port!==void 0?(N.userinfo=w.userinfo,N.host=w.host,N.port=w.port,N.path=tt(w.path||""),N.query=w.query):(w.path?(w.path.charAt(0)==="/"?N.path=tt(w.path):((E.userinfo!==void 0||E.host!==void 0||E.port!==void 0)&&!E.path?N.path="/"+w.path:E.path?N.path=E.path.slice(0,E.path.lastIndexOf("/")+1)+w.path:N.path=w.path,N.path=tt(N.path)),N.query=w.query):(N.path=E.path,w.query!==void 0?N.query=w.query:N.query=E.query),N.userinfo=E.userinfo,N.host=E.host,N.port=E.port),N.scheme=E.scheme),N.fragment=w.fragment,N}function go(E,w,k){var R=l({scheme:"null"},k);return rt(Tt(gt(E,R),gt(w,R),R,!0),R)}function Cl(E,w){return typeof E=="string"?E=rt(gt(E,w),w):s(E)==="object"&&(E=gt(rt(E,w),w)),E}function Il(E,w,k){return typeof E=="string"?E=rt(gt(E,k),k):s(E)==="object"&&(E=rt(E,k)),typeof w=="string"?w=rt(gt(w,k),k):s(w)==="object"&&(w=rt(w,k)),E===w}function iw(E,w){return E&&E.toString().replace(!w||!w.iri?c.ESCAPE:d.ESCAPE,bt)}function Tr(E,w){return E&&E.toString().replace(!w||!w.iri?c.PCT_ENCODED:d.PCT_ENCODED,Vt)}var ns={scheme:"http",domainHost:!0,parse:function(w,k){return w.host||(w.error=w.error||"HTTP URIs must have a host."),w},serialize:function(w,k){var R=String(w.scheme).toLowerCase()==="https";return(w.port===(R?443:80)||w.port==="")&&(w.port=void 0),w.path||(w.path="/"),w}},np={scheme:"https",domainHost:ns.domainHost,parse:ns.parse,serialize:ns.serialize};function ap(E){return typeof E.secure=="boolean"?E.secure:String(E.scheme).toLowerCase()==="wss"}var as={scheme:"ws",domainHost:!0,parse:function(w,k){var R=w;return R.secure=ap(R),R.resourceName=(R.path||"/")+(R.query?"?"+R.query:""),R.path=void 0,R.query=void 0,R},serialize:function(w,k){if((w.port===(ap(w)?443:80)||w.port==="")&&(w.port=void 0),typeof w.secure=="boolean"&&(w.scheme=w.secure?"wss":"ws",w.secure=void 0),w.resourceName){var R=w.resourceName.split("?"),N=p(R,2),ne=N[0],ae=N[1];w.path=ne&&ne!=="/"?ne:void 0,w.query=ae,w.resourceName=void 0}return w.fragment=void 0,w}},sp={scheme:"wss",domainHost:as.domainHost,parse:as.parse,serialize:as.serialize},lw={},op="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",fr="[0-9A-Fa-f]",uw=n(n("%[EFef]"+fr+"%"+fr+fr+"%"+fr+fr)+"|"+n("%[89A-Fa-f]"+fr+"%"+fr+fr)+"|"+n("%"+fr+fr)),cw="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",dw="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",fw=a(dw,'[\\"\\\\]'),pw="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",mw=new RegExp(op,"g"),ca=new RegExp(uw,"g"),hw=new RegExp(a("[^]",cw,"[\\.]",'[\\"]',fw),"g"),ip=new RegExp(a("[^]",op,pw),"g"),vw=ip;function Ol(E){var w=Vt(E);return w.match(mw)?w:E}var lp={scheme:"mailto",parse:function(w,k){var R=w,N=R.to=R.path?R.path.split(","):[];if(R.path=void 0,R.query){for(var ne=!1,ae={},ye=R.query.split("&"),Ae=0,Ge=ye.length;Ae<Ge;++Ae){var ve=ye[Ae].split("=");switch(ve[0]){case"to":for(var Pe=ve[1].split(","),Qe=0,de=Pe.length;Qe<de;++Qe)N.push(Pe[Qe]);break;case"subject":R.subject=Tr(ve[1],k);break;case"body":R.body=Tr(ve[1],k);break;default:ne=!0,ae[Tr(ve[0],k)]=Tr(ve[1],k);break}}ne&&(R.headers=ae)}R.query=void 0;for(var Ie=0,Xe=N.length;Ie<Xe;++Ie){var Oe=N[Ie].split("@");if(Oe[0]=Tr(Oe[0]),k.unicodeSupport)Oe[1]=Tr(Oe[1],k).toLowerCase();else try{Oe[1]=Fe.toASCII(Tr(Oe[1],k).toLowerCase())}catch(tn){R.error=R.error||"Email address's domain name can not be converted to ASCII via punycode: "+tn}N[Ie]=Oe.join("@")}return R},serialize:function(w,k){var R=w,N=i(w.to);if(N){for(var ne=0,ae=N.length;ne<ae;++ne){var ye=String(N[ne]),Ae=ye.lastIndexOf("@"),Ge=ye.slice(0,Ae).replace(ca,Ol).replace(ca,o).replace(hw,bt),ve=ye.slice(Ae+1);try{ve=k.iri?Fe.toUnicode(ve):Fe.toASCII(Tr(ve,k).toLowerCase())}catch(Ie){R.error=R.error||"Email address's domain name can not be converted to "+(k.iri?"Unicode":"ASCII")+" via punycode: "+Ie}N[ne]=Ge+"@"+ve}R.path=N.join(",")}var Pe=w.headers=w.headers||{};w.subject&&(Pe.subject=w.subject),w.body&&(Pe.body=w.body);var Qe=[];for(var de in Pe)Pe[de]!==lw[de]&&Qe.push(de.replace(ca,Ol).replace(ca,o).replace(ip,bt)+"="+Pe[de].replace(ca,Ol).replace(ca,o).replace(vw,bt));return Qe.length&&(R.query=Qe.join("&")),R}},gw=/^([^\:]+)\:(.*)/,up={scheme:"urn",parse:function(w,k){var R=w.path&&w.path.match(gw),N=w;if(R){var ne=k.scheme||N.scheme||"urn",ae=R[1].toLowerCase(),ye=R[2],Ae=ne+":"+(k.nid||ae),Ge=xe[Ae];N.nid=ae,N.nss=ye,N.path=void 0,Ge&&(N=Ge.parse(N,k))}else N.error=N.error||"URN can not be parsed.";return N},serialize:function(w,k){var R=k.scheme||w.scheme||"urn",N=w.nid,ne=R+":"+(k.nid||N),ae=xe[ne];ae&&(w=ae.serialize(w,k));var ye=w,Ae=w.nss;return ye.path=(N||k.nid)+":"+Ae,ye}},_w=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,cp={scheme:"urn:uuid",parse:function(w,k){var R=w;return R.uuid=R.nss,R.nss=void 0,!k.tolerant&&(!R.uuid||!R.uuid.match(_w))&&(R.error=R.error||"UUID is not valid."),R},serialize:function(w,k){var R=w;return R.nss=(w.uuid||"").toLowerCase(),R}};xe[ns.scheme]=ns,xe[np.scheme]=np,xe[as.scheme]=as,xe[sp.scheme]=sp,xe[lp.scheme]=lp,xe[up.scheme]=up,xe[cp.scheme]=cp,r.SCHEMES=xe,r.pctEncChar=bt,r.pctDecChars=Vt,r.parse=gt,r.removeDotSegments=tt,r.serialize=rt,r.resolveComponents=Tt,r.resolve=go,r.normalize=Cl,r.equal=Il,r.escapeComponent=iw,r.unescapeComponent=Tr,Object.defineProperty(r,"__esModule",{value:!0})})})(Nc,Nc.exports);var rb=Nc.exports,Tf=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var a,n,s;if(Array.isArray(e)){if(a=e.length,a!=r.length)return!1;for(n=a;n--!==0;)if(!t(e[n],r[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),a=s.length,a!==Object.keys(r).length)return!1;for(n=a;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[n]))return!1;for(n=a;n--!==0;){var o=s[n];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r},nb=function(e){for(var r=0,a=e.length,n=0,s;n<a;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<a&&(s=e.charCodeAt(n),(s&64512)==56320&&n++);return r},Ja={copy:ab,checkDataType:Rc,checkDataTypes:sb,coerceToTypes:ob,toHash:Nf,getProperty:Rf,escapeQuotes:Cf,equal:Tf,ucs2length:nb,varOccurences:ub,varReplace:cb,schemaHasRules:db,schemaHasRulesExcept:fb,schemaUnknownRules:pb,toQuotedString:Cc,getPathExpr:mb,getPath:hb,getData:_b,unescapeFragment:yb,unescapeJsonPointer:Of,escapeFragment:wb,escapeJsonPointer:If};function ab(t,e){e=e||{};for(var r in t)e[r]=t[r];return e}function Rc(t,e,r,a){var n=a?" !== ":" === ",s=a?" || ":" && ",o=a?"!":"",i=a?"":"!";switch(t){case"null":return e+n+"null";case"array":return o+"Array.isArray("+e+")";case"object":return"("+o+e+s+"typeof "+e+n+'"object"'+s+i+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+n+'"number"'+s+i+"("+e+" % 1)"+s+e+n+e+(r?s+o+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+n+'"'+t+'"'+(r?s+o+"isFinite("+e+")":"")+")";default:return"typeof "+e+n+'"'+t+'"'}}function sb(t,e,r){switch(t.length){case 1:return Rc(t[0],e,r,!0);default:var a="",n=Nf(t);n.array&&n.object&&(a=n.null?"(":"(!"+e+" || ",a+="typeof "+e+' !== "object")',delete n.null,delete n.array,delete n.object),n.number&&delete n.integer;for(var s in n)a+=(a?" && ":"")+Rc(s,e,r,!0);return a}}var jm=Nf(["string","number","integer","boolean","null"]);function ob(t,e){if(Array.isArray(e)){for(var r=[],a=0;a<e.length;a++){var n=e[a];(jm[n]||t==="array"&&n==="array")&&(r[r.length]=n)}if(r.length)return r}else{if(jm[e])return[e];if(t==="array"&&e==="array")return["array"]}}function Nf(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=!0;return e}var ib=/^[a-z$_][a-z$_0-9]*$/i,lb=/'|\\/g;function Rf(t){return typeof t=="number"?"["+t+"]":ib.test(t)?"."+t:"['"+Cf(t)+"']"}function Cf(t){return t.replace(lb,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function ub(t,e){e+="[^0-9]";var r=t.match(new RegExp(e,"g"));return r?r.length:0}function cb(t,e,r){return e+="([^0-9])",r=r.replace(/\$/g,"$$$$"),t.replace(new RegExp(e,"g"),r+"$1")}function db(t,e){if(typeof t=="boolean")return!t;for(var r in t)if(e[r])return!0}function fb(t,e,r){if(typeof t=="boolean")return!t&&r!="not";for(var a in t)if(a!=r&&e[a])return!0}function pb(t,e){if(typeof t!="boolean"){for(var r in t)if(!e[r])return r}}function Cc(t){return"'"+Cf(t)+"'"}function mb(t,e,r,a){var n=r?"'/' + "+e+(a?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):a?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return M_(t,n)}function hb(t,e,r){var a=Cc(r?"/"+If(e):Rf(e));return M_(t,a)}var vb=/^\/(?:[^~]|~0|~1)*$/,gb=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function _b(t,e,r){var a,n,s,o;if(t==="")return"rootData";if(t[0]=="/"){if(!vb.test(t))throw new Error("Invalid JSON-pointer: "+t);n=t,s="rootData"}else{if(o=t.match(gb),!o)throw new Error("Invalid JSON-pointer: "+t);if(a=+o[1],n=o[2],n=="#"){if(a>=e)throw new Error("Cannot access property/index "+a+" levels up, current level is "+e);return r[e-a]}if(a>e)throw new Error("Cannot access data "+a+" levels up, current level is "+e);if(s="data"+(e-a||""),!n)return s}for(var i=s,l=n.split("/"),u=0;u<l.length;u++){var c=l[u];c&&(s+=Rf(Of(c)),i+=" && "+s)}return i}function M_(t,e){return t=='""'?e:(t+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function yb(t){return Of(decodeURIComponent(t))}function wb(t){return encodeURIComponent(If(t))}function If(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}function Of(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}var Sb=Ja,A_=Eb;function Eb(t){Sb.copy(t,this)}var T_={exports:{}},mn=T_.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var a=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};ni(e,a,n,t,"",t)};mn.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};mn.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};mn.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};mn.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ni(t,e,r,a,n,s,o,i,l,u){if(a&&typeof a=="object"&&!Array.isArray(a)){e(a,n,s,o,i,l,u);for(var c in a){var d=a[c];if(Array.isArray(d)){if(c in mn.arrayKeywords)for(var p=0;p<d.length;p++)ni(t,e,r,d[p],n+"/"+c+"/"+p,s,n,c,a,p)}else if(c in mn.propsKeywords){if(d&&typeof d=="object")for(var f in d)ni(t,e,r,d[f],n+"/"+c+"/"+bb(f),s,n,c,a,f)}else(c in mn.keywords||t.allKeys&&!(c in mn.skipKeywords))&&ni(t,e,r,d,n+"/"+c,s,n,c,a)}r(a,n,s,o,i,l,u)}}function bb(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var kb=T_.exports,mo=rb,Um=Tf,El=Ja,$i=A_,xb=kb,Lf=Cn;Cn.normalizeId=bn;Cn.fullPath=Hi;Cn.url=Bi;Cn.ids=Tb;Cn.inlineRef=Ic;Cn.schema=bl;function Cn(t,e,r){var a=this._refs[r];if(typeof a=="string")if(this._refs[a])a=this._refs[a];else return Cn.call(this,t,e,a);if(a=a||this._schemas[r],a instanceof $i)return Ic(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var n=bl.call(this,e,r),s,o,i;return n&&(s=n.schema,e=n.root,i=n.baseId),s instanceof $i?o=s.validate||t.call(this,s.schema,e,void 0,i):s!==void 0&&(o=Ic(s,this._opts.inlineRefs)?s:t.call(this,s,e,void 0,i)),o}function bl(t,e){var r=mo.parse(e),a=R_(r),n=Hi(this._getId(t.schema));if(Object.keys(t.schema).length===0||a!==n){var s=bn(a),o=this._refs[s];if(typeof o=="string")return Fb.call(this,t,o,r);if(o instanceof $i)o.validate||this._compile(o),t=o;else if(o=this._schemas[s],o instanceof $i){if(o.validate||this._compile(o),s==bn(e))return{schema:o,root:t,baseId:n};t=o}else return;if(!t.schema)return;n=Hi(this._getId(t.schema))}return N_.call(this,r,n,t.schema,t)}function Fb(t,e,r){var a=bl.call(this,t,e);if(a){var n=a.schema,s=a.baseId;t=a.root;var o=this._getId(n);return o&&(s=Bi(s,o)),N_.call(this,r,s,n,t)}}var Pb=El.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function N_(t,e,r,a){if(t.fragment=t.fragment||"",t.fragment.slice(0,1)=="/"){for(var n=t.fragment.split("/"),s=1;s<n.length;s++){var o=n[s];if(o){if(o=El.unescapeFragment(o),r=r[o],r===void 0)break;var i;if(!Pb[o]&&(i=this._getId(r),i&&(e=Bi(e,i)),r.$ref)){var l=Bi(e,r.$ref),u=bl.call(this,a,l);u&&(r=u.schema,a=u.root,e=u.baseId)}}}if(r!==void 0&&r!==a.schema)return{schema:r,root:a,baseId:e}}}var Mb=El.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Ic(t,e){if(e===!1)return!1;if(e===void 0||e===!0)return Oc(t);if(e)return Lc(t)<=e}function Oc(t){var e;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if(e=t[r],typeof e=="object"&&!Oc(e))return!1}else for(var a in t)if(a=="$ref"||(e=t[a],typeof e=="object"&&!Oc(e)))return!1;return!0}function Lc(t){var e=0,r;if(Array.isArray(t)){for(var a=0;a<t.length;a++)if(r=t[a],typeof r=="object"&&(e+=Lc(r)),e==1/0)return 1/0}else for(var n in t){if(n=="$ref")return 1/0;if(Mb[n])e++;else if(r=t[n],typeof r=="object"&&(e+=Lc(r)+1),e==1/0)return 1/0}return e}function Hi(t,e){e!==!1&&(t=bn(t));var r=mo.parse(t);return R_(r)}function R_(t){return mo.serialize(t).split("#")[0]+"#"}var Ab=/#\/?$/;function bn(t){return t?t.replace(Ab,""):""}function Bi(t,e){return e=bn(e),mo.resolve(t,e)}function Tb(t){var e=bn(this._getId(t)),r={"":e},a={"":Hi(e,!1)},n={},s=this;return xb(t,{allKeys:!0},function(o,i,l,u,c,d,p){if(i!==""){var f=s._getId(o),h=r[u],v=a[u]+"/"+c;if(p!==void 0&&(v+="/"+(typeof p=="number"?p:El.escapeFragment(p))),typeof f=="string"){f=h=bn(h?mo.resolve(h,f):f);var y=s._refs[f];if(typeof y=="string"&&(y=s._refs[y]),y&&y.schema){if(!Um(o,y.schema))throw new Error('id "'+f+'" resolves to more than one schema')}else if(f!=bn(v))if(f[0]=="#"){if(n[f]&&!Um(o,n[f]))throw new Error('id "'+f+'" resolves to more than one schema');n[f]=o}else s._refs[f]=v}r[i]=h,a[i]=v}}),n}var du=Lf,Df={Validation:$m(Nb),MissingRef:$m(zf)};function Nb(t){this.message="validation failed",this.errors=t,this.ajv=this.validation=!0}zf.message=function(t,e){return"can't resolve reference "+e+" from id "+t};function zf(t,e,r){this.message=r||zf.message(t,e),this.missingRef=du.url(t,e),this.missingSchema=du.normalizeId(du.fullPath(this.missingRef))}function $m(t){return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var C_=function(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var r=typeof e.cycles=="boolean"?e.cycles:!1,a=e.cmp&&function(s){return function(o){return function(i,l){var u={key:i,value:o[i]},c={key:l,value:o[l]};return s(u,c)}}}(e.cmp),n=[];return function s(o){if(o&&o.toJSON&&typeof o.toJSON=="function"&&(o=o.toJSON()),o!==void 0){if(typeof o=="number")return isFinite(o)?""+o:"null";if(typeof o!="object")return JSON.stringify(o);var i,l;if(Array.isArray(o)){for(l="[",i=0;i<o.length;i++)i&&(l+=","),l+=s(o[i])||"null";return l+"]"}if(o===null)return"null";if(n.indexOf(o)!==-1){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=n.push(o)-1,c=Object.keys(o).sort(a&&a(o));for(l="",i=0;i<c.length;i++){var d=c[i],p=s(o[d]);p&&(l&&(l+=","),l+=JSON.stringify(d)+":"+p)}return n.splice(u,1),"{"+l+"}"}}(t)},I_=function(e,r,a){var n="",s=e.schema.$async===!0,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),i=e.self._getId(e.schema);if(e.opts.strictKeywords){var l=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(l){var u="unknown keyword: "+l;if(e.opts.strictKeywords==="log")e.logger.warn(u);else throw new Error(u)}}if(e.isTop&&(n+=" var validate = ",s&&(e.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",i&&(e.opts.sourceCode||e.opts.processCode)&&(n+=" "+("/*# sourceURL="+i+" */")+" ")),typeof e.schema=="boolean"||!(o||e.schema.$ref)){var r="false schema",c=e.level,d=e.dataLevel,p=e.schema[r],f=e.schemaPath+e.util.getProperty(r),h=e.errSchemaPath+"/"+r,x=!e.opts.allErrors,P,v="data"+(d||""),S="valid"+c;if(e.schema===!1){e.isTop?x=!0:n+=" var "+S+" = false; ";var y=y||[];y.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(P||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: 'boolean schema is false' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),n+=" } "):n+=" {} ";var m=n;n=y.pop(),!e.compositeRule&&x?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?s?n+=" return data; ":n+=" validate.errors = null; return true; ":n+=" var "+S+" = true; ";return e.isTop&&(n+=" }; return validate; "),n}if(e.isTop){var g=e.isTop,c=e.level=0,d=e.dataLevel=0,v="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var _="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(_);else throw new Error(_)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{var c=e.level,d=e.dataLevel,v="data"+(d||"");if(i&&(e.baseId=e.resolve.url(e.baseId,i)),s&&!e.async)throw new Error("async schema in sync schema");n+=" var errs_"+c+" = errors;"}var S="valid"+c,x=!e.opts.allErrors,F="",M="",P,L=e.schema.type,z=Array.isArray(L);if(L&&e.opts.nullable&&e.schema.nullable===!0&&(z?L.indexOf("null")==-1&&(L=L.concat("null")):L!="null"&&(L=[L,"null"],z=!0)),z&&L.length==1&&(L=L[0],z=!1),e.schema.$ref&&o){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(n+=" "+e.RULES.all.$comment.code(e,"$comment")),L){if(e.opts.coerceTypes)var G=e.util.coerceToTypes(e.opts.coerceTypes,L);var Q=e.RULES.types[L];if(G||z||Q===!0||Q&&!it(Q)){var f=e.schemaPath+".type",h=e.errSchemaPath+"/type",f=e.schemaPath+".type",h=e.errSchemaPath+"/type",j=z?"checkDataTypes":"checkDataType";if(n+=" if ("+e.util[j](L,v,e.opts.strictNumbers,!0)+") { ",G){var D="dataType"+c,A="coerced"+c;n+=" var "+D+" = typeof "+v+"; var "+A+" = undefined; ",e.opts.coerceTypes=="array"&&(n+=" if ("+D+" == 'object' && Array.isArray("+v+") && "+v+".length == 1) { "+v+" = "+v+"[0]; "+D+" = typeof "+v+"; if ("+e.util.checkDataType(e.schema.type,v,e.opts.strictNumbers)+") "+A+" = "+v+"; } "),n+=" if ("+A+" !== undefined) ; ";var U=G;if(U)for(var W,O=-1,q=U.length-1;O<q;)W=U[O+=1],W=="string"?n+=" else if ("+D+" == 'number' || "+D+" == 'boolean') "+A+" = '' + "+v+"; else if ("+v+" === null) "+A+" = ''; ":W=="number"||W=="integer"?(n+=" else if ("+D+" == 'boolean' || "+v+" === null || ("+D+" == 'string' && "+v+" && "+v+" == +"+v+" ",W=="integer"&&(n+=" && !("+v+" % 1)"),n+=")) "+A+" = +"+v+"; "):W=="boolean"?n+=" else if ("+v+" === 'false' || "+v+" === 0 || "+v+" === null) "+A+" = false; else if ("+v+" === 'true' || "+v+" === 1) "+A+" = true; ":W=="null"?n+=" else if ("+v+" === '' || "+v+" === 0 || "+v+" === false) "+A+" = null; ":e.opts.coerceTypes=="array"&&W=="array"&&(n+=" else if ("+D+" == 'string' || "+D+" == 'number' || "+D+" == 'boolean' || "+v+" == null) "+A+" = ["+v+"]; ");n+=" else {   ";var y=y||[];y.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(P||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: '",z?n+=""+L.join(","):n+=""+L,n+="' } ",e.opts.messages!==!1&&(n+=" , message: 'should be ",z?n+=""+L.join(","):n+=""+L,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),n+=" } "):n+=" {} ";var m=n;n=y.pop(),!e.compositeRule&&x?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } if ("+A+" !== undefined) {  ";var I=d?"data"+(d-1||""):"parentData",Y=d?e.dataPathArr[d]:"parentDataProperty";n+=" "+v+" = "+A+"; ",d||(n+="if ("+I+" !== undefined)"),n+=" "+I+"["+Y+"] = "+A+"; } "}else{var y=y||[];y.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(P||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: '",z?n+=""+L.join(","):n+=""+L,n+="' } ",e.opts.messages!==!1&&(n+=" , message: 'should be ",z?n+=""+L.join(","):n+=""+L,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),n+=" } "):n+=" {} ";var m=n;n=y.pop(),!e.compositeRule&&x?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" } "}}if(e.schema.$ref&&!o)n+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",x&&(n+=" } if (errors === ",g?n+="0":n+="errs_"+c,n+=") { ",M+="}");else{var se=e.RULES;if(se){for(var Q,_e=-1,ue=se.length-1;_e<ue;)if(Q=se[_e+=1],it(Q)){if(Q.type&&(n+=" if ("+e.util.checkDataType(Q.type,v,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(Q.type=="object"&&e.schema.properties){var p=e.schema.properties,qe=Object.keys(p),Fe=qe;if(Fe)for(var xe,bt=-1,Vt=Fe.length-1;bt<Vt;){xe=Fe[bt+=1];var Ze=p[xe];if(Ze.default!==void 0){var De=v+e.util.getProperty(xe);if(e.compositeRule){if(e.opts.strictDefaults){var _="default is ignored for: "+De;if(e.opts.strictDefaults==="log")e.logger.warn(_);else throw new Error(_)}}else n+=" if ("+De+" === undefined ",e.opts.useDefaults=="empty"&&(n+=" || "+De+" === null || "+De+" === '' "),n+=" ) "+De+" = ",e.opts.useDefaults=="shared"?n+=" "+e.useDefault(Ze.default)+" ":n+=" "+JSON.stringify(Ze.default)+" ",n+="; "}}}else if(Q.type=="array"&&Array.isArray(e.schema.items)){var Ar=e.schema.items;if(Ar){for(var Ze,O=-1,ft=Ar.length-1;O<ft;)if(Ze=Ar[O+=1],Ze.default!==void 0){var De=v+"["+O+"]";if(e.compositeRule){if(e.opts.strictDefaults){var _="default is ignored for: "+De;if(e.opts.strictDefaults==="log")e.logger.warn(_);else throw new Error(_)}}else n+=" if ("+De+" === undefined ",e.opts.useDefaults=="empty"&&(n+=" || "+De+" === null || "+De+" === '' "),n+=" ) "+De+" = ",e.opts.useDefaults=="shared"?n+=" "+e.useDefault(Ze.default)+" ":n+=" "+JSON.stringify(Ze.default)+" ",n+="; "}}}}var ze=Q.rules;if(ze){for(var Jr,gt=-1,ua=ze.length-1;gt<ua;)if(Jr=ze[gt+=1],en(Jr)){var On=Jr.code(e,Jr.keyword,Q.type);On&&(n+=" "+On+" ",x&&(F+="}"))}}if(x&&(n+=" "+F+" ",F=""),Q.type&&(n+=" } ",L&&L===Q.type&&!G)){n+=" else { ";var f=e.schemaPath+".type",h=e.errSchemaPath+"/type",y=y||[];y.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(P||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: '",z?n+=""+L.join(","):n+=""+L,n+="' } ",e.opts.messages!==!1&&(n+=" , message: 'should be ",z?n+=""+L.join(","):n+=""+L,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),n+=" } "):n+=" {} ";var m=n;n=y.pop(),!e.compositeRule&&x?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } "}x&&(n+=" if (errors === ",g?n+="0":n+="errs_"+c,n+=") { ",M+="}")}}}x&&(n+=" "+M+" "),g?(s?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+S+" = errors === errs_"+c+";";function it(tt){for(var rt=tt.rules,Tt=0;Tt<rt.length;Tt++)if(en(rt[Tt]))return!0}function en(tt){return e.schema[tt.keyword]!==void 0||tt.implements&&rs(tt)}function rs(tt){for(var rt=tt.implements,Tt=0;Tt<rt.length;Tt++)if(e.schema[rt[Tt]]!==void 0)return!0}return n},zo=Lf,Wi=Ja,O_=Df,Rb=C_,Hm=I_,Cb=Wi.ucs2length,Ib=Tf,Ob=O_.Validation,Lb=Dc;function Dc(t,e,r,a){var n=this,s=this._opts,o=[void 0],i={},l=[],u={},c=[],d={},p=[];e=e||{schema:t,refVal:o,refs:i};var f=Db.call(this,t,e,a),h=this._compilations[f.index];if(f.compiling)return h.callValidate=_;var v=this._formats,y=this.RULES;try{var m=S(t,e,r,a);h.validate=m;var g=h.callValidate;return g&&(g.schema=m.schema,g.errors=null,g.refs=m.refs,g.refVal=m.refVal,g.root=m.root,g.$async=m.$async,s.sourceCode&&(g.source=m.source)),m}finally{zb.call(this,t,e,a)}function _(){var j=h.validate,D=j.apply(this,arguments);return _.errors=j.errors,D}function S(j,D,A,U){var W=!D||D&&D.schema==j;if(D.schema!=e.schema)return Dc.call(n,j,D,A,U);var O=j.$async===!0,q=Hm({isTop:!0,schema:j,isRoot:W,baseId:U,root:D,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:O_.MissingRef,RULES:y,validate:Hm,util:Wi,resolve:zo,resolveRef:x,usePattern:z,useDefault:G,useCustomRule:Q,opts:s,formats:v,logger:n.logger,self:n});q=jo(o,$b)+jo(l,jb)+jo(c,Ub)+jo(p,Hb)+q,s.processCode&&(q=s.processCode(q,j));var I;try{var Y=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",q);I=Y(n,y,v,e,o,c,p,Ib,Cb,Ob),o[0]=I}catch(se){throw n.logger.error("Error compiling schema, function code:",q),se}return I.schema=j,I.errors=null,I.refs=i,I.refVal=o,I.root=W?I:D,O&&(I.$async=!0),s.sourceCode===!0&&(I.source={code:q,patterns:l,defaults:c}),I}function x(j,D,A){D=zo.url(j,D);var U=i[D],W,O;if(U!==void 0)return W=o[U],O="refVal["+U+"]",L(W,O);if(!A&&e.refs){var q=e.refs[D];if(q!==void 0)return W=e.refVal[q],O=F(D,W),L(W,O)}O=F(D);var I=zo.call(n,S,e,D);if(I===void 0){var Y=r&&r[D];Y&&(I=zo.inlineRef(Y,s.inlineRefs)?Y:Dc.call(n,Y,e,r,j))}if(I===void 0)M(D);else return P(D,I),L(I,O)}function F(j,D){var A=o.length;return o[A]=D,i[j]=A,"refVal"+A}function M(j){delete i[j]}function P(j,D){var A=i[j];o[A]=D}function L(j,D){return typeof j=="object"||typeof j=="boolean"?{code:D,schema:j,inline:!0}:{code:D,$async:j&&!!j.$async}}function z(j){var D=u[j];return D===void 0&&(D=u[j]=l.length,l[D]=j),"pattern"+D}function G(j){switch(typeof j){case"boolean":case"number":return""+j;case"string":return Wi.toQuotedString(j);case"object":if(j===null)return"null";var D=Rb(j),A=d[D];return A===void 0&&(A=d[D]=c.length,c[A]=j),"default"+A}}function Q(j,D,A,U){if(n._opts.validateSchema!==!1){var W=j.definition.dependencies;if(W&&!W.every(function(Fe){return Object.prototype.hasOwnProperty.call(A,Fe)}))throw new Error("parent schema must have all required keywords: "+W.join(","));var O=j.definition.validateSchema;if(O){var q=O(D);if(!q){var I="keyword schema is invalid: "+n.errorsText(O.errors);if(n._opts.validateSchema=="log")n.logger.error(I);else throw new Error(I)}}}var Y=j.definition.compile,se=j.definition.inline,_e=j.definition.macro,ue;if(Y)ue=Y.call(n,D,A,U);else if(_e)ue=_e.call(n,D,A,U),s.validateSchema!==!1&&n.validateSchema(ue,!0);else if(se)ue=se.call(n,U,j.keyword,D,A);else if(ue=j.definition.validate,!ue)return;if(ue===void 0)throw new Error('custom keyword "'+j.keyword+'"failed to compile');var qe=p.length;return p[qe]=ue,{code:"customRule"+qe,validate:ue}}}function Db(t,e,r){var a=L_.call(this,t,e,r);return a>=0?{index:a,compiling:!0}:(a=this._compilations.length,this._compilations[a]={schema:t,root:e,baseId:r},{index:a,compiling:!1})}function zb(t,e,r){var a=L_.call(this,t,e,r);a>=0&&this._compilations.splice(a,1)}function L_(t,e,r){for(var a=0;a<this._compilations.length;a++){var n=this._compilations[a];if(n.schema==t&&n.root==e&&n.baseId==r)return a}return-1}function jb(t,e){return"var pattern"+t+" = new RegExp("+Wi.toQuotedString(e[t])+");"}function Ub(t){return"var default"+t+" = defaults["+t+"];"}function $b(t,e){return e[t]===void 0?"":"var refVal"+t+" = refVal["+t+"];"}function Hb(t){return"var customRule"+t+" = customRules["+t+"];"}function jo(t,e){if(!t.length)return"";for(var r="",a=0;a<t.length;a++)r+=e(a,t);return r}var D_={exports:{}},kl=D_.exports=function(){this._cache={}};kl.prototype.put=function(e,r){this._cache[e]=r};kl.prototype.get=function(e){return this._cache[e]};kl.prototype.del=function(e){delete this._cache[e]};kl.prototype.clear=function(){this._cache={}};var Bb=D_.exports,Wb=Ja,Vb=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,qb=[0,31,28,31,30,31,30,31,31,30,31,30,31],Gb=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,z_=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,Qb=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Yb=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,j_=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,U_=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,$_=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,H_=/^(?:\/(?:[^~/]|~0|~1)*)*$/,B_=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,W_=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,Kb=xl;function xl(t){return t=t=="full"?"full":"fast",Wb.copy(xl[t])}xl.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":j_,url:U_,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:z_,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:G_,uuid:$_,"json-pointer":H_,"json-pointer-uri-fragment":B_,"relative-json-pointer":W_};xl.full={date:V_,time:q_,"date-time":Jb,uri:tk,"uri-reference":Yb,"uri-template":j_,url:U_,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:z_,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:G_,uuid:$_,"json-pointer":H_,"json-pointer-uri-fragment":B_,"relative-json-pointer":W_};function Zb(t){return t%4===0&&(t%100!==0||t%400===0)}function V_(t){var e=t.match(Vb);if(!e)return!1;var r=+e[1],a=+e[2],n=+e[3];return a>=1&&a<=12&&n>=1&&n<=(a==2&&Zb(r)?29:qb[a])}function q_(t,e){var r=t.match(Gb);if(!r)return!1;var a=r[1],n=r[2],s=r[3],o=r[5];return(a<=23&&n<=59&&s<=59||a==23&&n==59&&s==60)&&(!e||o)}var Xb=/t|\s/i;function Jb(t){var e=t.split(Xb);return e.length==2&&V_(e[0])&&q_(e[1],!0)}var ek=/\/|:/;function tk(t){return ek.test(t)&&Qb.test(t)}var rk=/[^\\]\\Z/;function G_(t){if(rk.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}var nk=function(e,r,a){var n=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,c="data"+(o||""),d="valid"+s,p,f;if(i=="#"||i=="#/")e.isRoot?(p=e.async,f="validate"):(p=e.root.schema.$async===!0,f="root.refVal[0]");else{var h=e.resolveRef(e.baseId,i,e.isRoot);if(h===void 0){var v=e.MissingRefError.message(e.baseId,i);if(e.opts.missingRefs=="fail"){e.logger.error(v);var y=y||[];y.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { ref: '"+e.util.escapeQuotes(i)+"' } ",e.opts.messages!==!1&&(n+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(i)+"' "),e.opts.verbose&&(n+=" , schema: "+e.util.toQuotedString(i)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var m=n;n=y.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(n+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(v),u&&(n+=" if (true) { ");else throw new e.MissingRefError(e.baseId,i,v)}else if(h.inline){var g=e.util.copy(e);g.level++;var _="valid"+g.level;g.schema=h.schema,g.schemaPath="",g.errSchemaPath=i;var S=e.validate(g).replace(/validate\.schema/g,h.code);n+=" "+S+" ",u&&(n+=" if ("+_+") { ")}else p=h.$async===!0||e.async&&h.$async!==!1,f=h.code}if(f){var y=y||[];y.push(n),n="",e.opts.passContext?n+=" "+f+".call(this, ":n+=" "+f+"( ",n+=" "+c+", (dataPath || '')",e.errorPath!='""'&&(n+=" + "+e.errorPath);var x=o?"data"+(o-1||""):"parentData",F=o?e.dataPathArr[o]:"parentDataProperty";n+=" , "+x+" , "+F+", rootData)  ";var M=n;if(n=y.pop(),p){if(!e.async)throw new Error("async schema referenced by sync schema");u&&(n+=" var "+d+"; "),n+=" try { await "+M+"; ",u&&(n+=" "+d+" = true; "),n+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",u&&(n+=" "+d+" = false; "),n+=" } ",u&&(n+=" if ("+d+") { ")}else n+=" if (!"+M+") { if (vErrors === null) vErrors = "+f+".errors; else vErrors = vErrors.concat("+f+".errors); errors = vErrors.length; } ",u&&(n+=" else { ")}return n},ak=function(e,r,a){var n=" ",s=e.schema[r],o=e.schemaPath+e.util.getProperty(r),i=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,u=e.util.copy(e),c="";u.level++;var d="valid"+u.level,p=u.baseId,f=!0,h=s;if(h)for(var v,y=-1,m=h.length-1;y<m;)v=h[y+=1],(e.opts.strictKeywords?typeof v=="object"&&Object.keys(v).length>0||v===!1:e.util.schemaHasRules(v,e.RULES.all))&&(f=!1,u.schema=v,u.schemaPath=o+"["+y+"]",u.errSchemaPath=i+"/"+y,n+="  "+e.validate(u)+" ",u.baseId=p,l&&(n+=" if ("+d+") { ",c+="}"));return l&&(f?n+=" if (true) { ":n+=" "+c.slice(0,-1)+" "),n},sk=function(e,r,a){var n=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(o||""),p="valid"+s,f="errs__"+s,h=e.util.copy(e),v="";h.level++;var y="valid"+h.level,m=i.every(function(P){return e.opts.strictKeywords?typeof P=="object"&&Object.keys(P).length>0||P===!1:e.util.schemaHasRules(P,e.RULES.all)});if(m){var g=h.baseId;n+=" var "+f+" = errors; var "+p+" = false;  ";var _=e.compositeRule;e.compositeRule=h.compositeRule=!0;var S=i;if(S)for(var x,F=-1,M=S.length-1;F<M;)x=S[F+=1],h.schema=x,h.schemaPath=l+"["+F+"]",h.errSchemaPath=u+"/"+F,n+="  "+e.validate(h)+" ",h.baseId=g,n+=" "+p+" = "+p+" || "+y+"; if (!"+p+") { ",v+="}";e.compositeRule=h.compositeRule=_,n+=" "+v+" if (!"+p+") {   var err =   ",e.createErrors!==!1?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else c&&(n+=" if (true) { ");return n},ok=function(e,r,a){var n=" ",s=e.schema[r],o=e.errSchemaPath+"/"+r;e.opts.allErrors;var i=e.util.toQuotedString(s);return e.opts.$comment===!0?n+=" console.log("+i+");":typeof e.opts.$comment=="function"&&(n+=" self._opts.$comment("+i+", "+e.util.toQuotedString(o)+", validate.root.schema);"),n},ik=function(e,r,a){var n=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(o||""),p="valid"+s,f=e.opts.$data&&i&&i.$data;f&&(n+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; "),f||(n+=" var schema"+s+" = validate.schema"+l+";"),n+="var "+p+" = equal("+d+", schema"+s+"); if (!"+p+") {   ";var h=h||[];h.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValue: schema"+s+" } ",e.opts.messages!==!1&&(n+=" , message: 'should be equal to constant' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var v=n;return n=h.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",c&&(n+=" else { "),n},lk=function(e,r,a){var n=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(o||""),p="valid"+s,f="errs__"+s,h=e.util.copy(e),v="";h.level++;var y="valid"+h.level,m="i"+s,g=h.dataLevel=e.dataLevel+1,_="data"+g,S=e.baseId,x=e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all);if(n+="var "+f+" = errors;var "+p+";",x){var F=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=i,h.schemaPath=l,h.errSchemaPath=u,n+=" var "+y+" = false; for (var "+m+" = 0; "+m+" < "+d+".length; "+m+"++) { ",h.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var M=d+"["+m+"]";h.dataPathArr[g]=m;var P=e.validate(h);h.baseId=S,e.util.varOccurences(P,_)<2?n+=" "+e.util.varReplace(P,_,M)+" ":n+=" var "+_+" = "+M+"; "+P+" ",n+=" if ("+y+") break; }  ",e.compositeRule=h.compositeRule=F,n+=" "+v+" if (!"+y+") {"}else n+=" if ("+d+".length == 0) {";var L=L||[];L.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: 'should contain a valid item' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var z=n;return n=L.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+z+"]); ":n+=" validate.errors = ["+z+"]; return false; ":n+=" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",x&&(n+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),e.opts.allErrors&&(n+=" } "),n},uk=function(e,r,a){var n=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(o||""),p="errs__"+s,f=e.util.copy(e),h="";f.level++;var v="valid"+f.level,y={},m={},g=e.opts.ownProperties;for(F in i)if(F!="__proto__"){var _=i[F],S=Array.isArray(_)?m:y;S[F]=_}n+="var "+p+" = errors;";var x=e.errorPath;n+="var missing"+s+";";for(var F in m)if(S=m[F],S.length){if(n+=" if ( "+d+e.util.getProperty(F)+" !== undefined ",g&&(n+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(F)+"') "),c){n+=" && ( ";var M=S;if(M)for(var P,L=-1,z=M.length-1;L<z;){P=M[L+=1],L&&(n+=" || ");var G=e.util.getProperty(P),Q=d+G;n+=" ( ( "+Q+" === undefined ",g&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(P)+"') "),n+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?P:G)+") ) "}n+=")) {  ";var j="missing"+s,D="' + "+j+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(x,j,!0):x+" + "+j);var A=A||[];A.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(F)+"', missingProperty: '"+D+"', depsCount: "+S.length+", deps: '"+e.util.escapeQuotes(S.length==1?S[0]:S.join(", "))+"' } ",e.opts.messages!==!1&&(n+=" , message: 'should have ",S.length==1?n+="property "+e.util.escapeQuotes(S[0]):n+="properties "+e.util.escapeQuotes(S.join(", ")),n+=" when property "+e.util.escapeQuotes(F)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var U=n;n=A.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+U+"]); ":n+=" validate.errors = ["+U+"]; return false; ":n+=" var err = "+U+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var W=S;if(W)for(var P,O=-1,q=W.length-1;O<q;){P=W[O+=1];var G=e.util.getProperty(P),D=e.util.escapeQuotes(P),Q=d+G;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(x,P,e.opts.jsonPointers)),n+=" if ( "+Q+" === undefined ",g&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(P)+"') "),n+=") {  var err =   ",e.createErrors!==!1?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(F)+"', missingProperty: '"+D+"', depsCount: "+S.length+", deps: '"+e.util.escapeQuotes(S.length==1?S[0]:S.join(", "))+"' } ",e.opts.messages!==!1&&(n+=" , message: 'should have ",S.length==1?n+="property "+e.util.escapeQuotes(S[0]):n+="properties "+e.util.escapeQuotes(S.join(", ")),n+=" when property "+e.util.escapeQuotes(F)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",c&&(h+="}",n+=" else { ")}e.errorPath=x;var I=f.baseId;for(var F in y){var _=y[F];(e.opts.strictKeywords?typeof _=="object"&&Object.keys(_).length>0||_===!1:e.util.schemaHasRules(_,e.RULES.all))&&(n+=" "+v+" = true; if ( "+d+e.util.getProperty(F)+" !== undefined ",g&&(n+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(F)+"') "),n+=") { ",f.schema=_,f.schemaPath=l+e.util.getProperty(F),f.errSchemaPath=u+"/"+e.util.escapeFragment(F),n+="  "+e.validate(f)+" ",f.baseId=I,n+=" }  ",c&&(n+=" if ("+v+") { ",h+="}"))}return c&&(n+="   "+h+" if ("+p+" == errors) {"),n},ck=function(e,r,a){var n=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(o||""),p="valid"+s,f=e.opts.$data&&i&&i.$data;f&&(n+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ");var h="i"+s,v="schema"+s;f||(n+=" var "+v+" = validate.schema"+l+";"),n+="var "+p+";",f&&(n+=" if (schema"+s+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+s+")) "+p+" = false; else {"),n+=""+p+" = false;for (var "+h+"=0; "+h+"<"+v+".length; "+h+"++) if (equal("+d+", "+v+"["+h+"])) { "+p+" = true; break; }",f&&(n+="  }  "),n+=" if (!"+p+") {   ";var y=y||[];y.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValues: schema"+s+" } ",e.opts.messages!==!1&&(n+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var m=n;return n=y.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",c&&(n+=" else { "),n},dk=function(e,r,a){var n=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(o||"");if(e.opts.format===!1)return c&&(n+=" if (true) { "),n;var p=e.opts.$data&&i&&i.$data,f;p?(n+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",f="schema"+s):f=i;var h=e.opts.unknownFormats,v=Array.isArray(h);if(p){var y="format"+s,m="isObject"+s,g="formatType"+s;n+=" var "+y+" = formats["+f+"]; var "+m+" = typeof "+y+" == 'object' && !("+y+" instanceof RegExp) && "+y+".validate; var "+g+" = "+m+" && "+y+".type || 'string'; if ("+m+") { ",e.async&&(n+=" var async"+s+" = "+y+".async; "),n+=" "+y+" = "+y+".validate; } if (  ",p&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),n+=" (",h!="ignore"&&(n+=" ("+f+" && !"+y+" ",v&&(n+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),n+=") || "),n+=" ("+y+" && "+g+" == '"+a+"' && !(typeof "+y+" == 'function' ? ",e.async?n+=" (async"+s+" ? await "+y+"("+d+") : "+y+"("+d+")) ":n+=" "+y+"("+d+") ",n+=" : "+y+".test("+d+"))))) {"}else{var y=e.formats[i];if(!y){if(h=="ignore")return e.logger.warn('unknown format "'+i+'" ignored in schema at path "'+e.errSchemaPath+'"'),c&&(n+=" if (true) { "),n;if(v&&h.indexOf(i)>=0)return c&&(n+=" if (true) { "),n;throw new Error('unknown format "'+i+'" is used in schema at path "'+e.errSchemaPath+'"')}var m=typeof y=="object"&&!(y instanceof RegExp)&&y.validate,g=m&&y.type||"string";if(m){var _=y.async===!0;y=y.validate}if(g!=a)return c&&(n+=" if (true) { "),n;if(_){if(!e.async)throw new Error("async format in sync schema");var S="formats"+e.util.getProperty(i)+".validate";n+=" if (!(await "+S+"("+d+"))) { "}else{n+=" if (! ";var S="formats"+e.util.getProperty(i);m&&(S+=".validate"),typeof y=="function"?n+=" "+S+"("+d+") ":n+=" "+S+".test("+d+") ",n+=") { "}}var x=x||[];x.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { format:  ",p?n+=""+f:n+=""+e.util.toQuotedString(i),n+="  } ",e.opts.messages!==!1&&(n+=` , message: 'should match format "`,p?n+="' + "+f+" + '":n+=""+e.util.escapeQuotes(i),n+=`"' `),e.opts.verbose&&(n+=" , schema:  ",p?n+="validate.schema"+l:n+=""+e.util.toQuotedString(i),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var F=n;return n=x.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+F+"]); ":n+=" validate.errors = ["+F+"]; return false; ":n+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c&&(n+=" else { "),n},fk=function(e,r,a){var n=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(o||""),p="valid"+s,f="errs__"+s,h=e.util.copy(e);h.level++;var v="valid"+h.level,y=e.schema.then,m=e.schema.else,g=y!==void 0&&(e.opts.strictKeywords?typeof y=="object"&&Object.keys(y).length>0||y===!1:e.util.schemaHasRules(y,e.RULES.all)),_=m!==void 0&&(e.opts.strictKeywords?typeof m=="object"&&Object.keys(m).length>0||m===!1:e.util.schemaHasRules(m,e.RULES.all)),S=h.baseId;if(g||_){var x;h.createErrors=!1,h.schema=i,h.schemaPath=l,h.errSchemaPath=u,n+=" var "+f+" = errors; var "+p+" = true;  ";var F=e.compositeRule;e.compositeRule=h.compositeRule=!0,n+="  "+e.validate(h)+" ",h.baseId=S,h.createErrors=!0,n+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",e.compositeRule=h.compositeRule=F,g?(n+=" if ("+v+") {  ",h.schema=e.schema.then,h.schemaPath=e.schemaPath+".then",h.errSchemaPath=e.errSchemaPath+"/then",n+="  "+e.validate(h)+" ",h.baseId=S,n+=" "+p+" = "+v+"; ",g&&_?(x="ifClause"+s,n+=" var "+x+" = 'then'; "):x="'then'",n+=" } ",_&&(n+=" else { ")):n+=" if (!"+v+") { ",_&&(h.schema=e.schema.else,h.schemaPath=e.schemaPath+".else",h.errSchemaPath=e.errSchemaPath+"/else",n+="  "+e.validate(h)+" ",h.baseId=S,n+=" "+p+" = "+v+"; ",g&&_?(x="ifClause"+s,n+=" var "+x+" = 'else'; "):x="'else'",n+=" } "),n+=" if (!"+p+") {   var err =   ",e.createErrors!==!1?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { failingKeyword: "+x+" } ",e.opts.messages!==!1&&(n+=` , message: 'should match "' + `+x+` + '" schema' `),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",c&&(n+=" else { ")}else c&&(n+=" if (true) { ");return n},pk=function(e,r,a){var n=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(o||""),p="valid"+s,f="errs__"+s,h=e.util.copy(e),v="";h.level++;var y="valid"+h.level,m="i"+s,g=h.dataLevel=e.dataLevel+1,_="data"+g,S=e.baseId;if(n+="var "+f+" = errors;var "+p+";",Array.isArray(i)){var x=e.schema.additionalItems;if(x===!1){n+=" "+p+" = "+d+".length <= "+i.length+"; ";var F=u;u=e.errSchemaPath+"/additionalItems",n+="  if (!"+p+") {   ";var M=M||[];M.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+i.length+" } ",e.opts.messages!==!1&&(n+=" , message: 'should NOT have more than "+i.length+" items' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var P=n;n=M.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+P+"]); ":n+=" validate.errors = ["+P+"]; return false; ":n+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",u=F,c&&(v+="}",n+=" else { ")}var L=i;if(L){for(var z,G=-1,Q=L.length-1;G<Q;)if(z=L[G+=1],e.opts.strictKeywords?typeof z=="object"&&Object.keys(z).length>0||z===!1:e.util.schemaHasRules(z,e.RULES.all)){n+=" "+y+" = true; if ("+d+".length > "+G+") { ";var j=d+"["+G+"]";h.schema=z,h.schemaPath=l+"["+G+"]",h.errSchemaPath=u+"/"+G,h.errorPath=e.util.getPathExpr(e.errorPath,G,e.opts.jsonPointers,!0),h.dataPathArr[g]=G;var D=e.validate(h);h.baseId=S,e.util.varOccurences(D,_)<2?n+=" "+e.util.varReplace(D,_,j)+" ":n+=" var "+_+" = "+j+"; "+D+" ",n+=" }  ",c&&(n+=" if ("+y+") { ",v+="}")}}if(typeof x=="object"&&(e.opts.strictKeywords?typeof x=="object"&&Object.keys(x).length>0||x===!1:e.util.schemaHasRules(x,e.RULES.all))){h.schema=x,h.schemaPath=e.schemaPath+".additionalItems",h.errSchemaPath=e.errSchemaPath+"/additionalItems",n+=" "+y+" = true; if ("+d+".length > "+i.length+") {  for (var "+m+" = "+i.length+"; "+m+" < "+d+".length; "+m+"++) { ",h.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var j=d+"["+m+"]";h.dataPathArr[g]=m;var D=e.validate(h);h.baseId=S,e.util.varOccurences(D,_)<2?n+=" "+e.util.varReplace(D,_,j)+" ":n+=" var "+_+" = "+j+"; "+D+" ",c&&(n+=" if (!"+y+") break; "),n+=" } }  ",c&&(n+=" if ("+y+") { ",v+="}")}}else if(e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all)){h.schema=i,h.schemaPath=l,h.errSchemaPath=u,n+="  for (var "+m+" = 0; "+m+" < "+d+".length; "+m+"++) { ",h.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var j=d+"["+m+"]";h.dataPathArr[g]=m;var D=e.validate(h);h.baseId=S,e.util.varOccurences(D,_)<2?n+=" "+e.util.varReplace(D,_,j)+" ":n+=" var "+_+" = "+j+"; "+D+" ",c&&(n+=" if (!"+y+") break; "),n+=" }"}return c&&(n+=" "+v+" if ("+f+" == errors) {"),n},Bm=function(e,r,a){var n=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,S,d="data"+(o||""),p=e.opts.$data&&i&&i.$data,f;p?(n+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",f="schema"+s):f=i;var h=r=="maximum",v=h?"exclusiveMaximum":"exclusiveMinimum",y=e.schema[v],m=e.opts.$data&&y&&y.$data,g=h?"<":">",_=h?">":"<",S=void 0;if(!(p||typeof i=="number"||i===void 0))throw new Error(r+" must be number");if(!(m||y===void 0||typeof y=="number"||typeof y=="boolean"))throw new Error(v+" must be number or boolean");if(m){var x=e.util.getData(y.$data,o,e.dataPathArr),F="exclusive"+s,M="exclType"+s,P="exclIsNumber"+s,L="op"+s,z="' + "+L+" + '";n+=" var schemaExcl"+s+" = "+x+"; ",x="schemaExcl"+s,n+=" var "+F+"; var "+M+" = typeof "+x+"; if ("+M+" != 'boolean' && "+M+" != 'undefined' && "+M+" != 'number') { ";var S=v,G=G||[];G.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(S||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: '"+v+" should be boolean' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var Q=n;n=G.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+Q+"]); ":n+=" validate.errors = ["+Q+"]; return false; ":n+=" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else if ( ",p&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" "+M+" == 'number' ? ( ("+F+" = "+f+" === undefined || "+x+" "+g+"= "+f+") ? "+d+" "+_+"= "+x+" : "+d+" "+_+" "+f+" ) : ( ("+F+" = "+x+" === true) ? "+d+" "+_+"= "+f+" : "+d+" "+_+" "+f+" ) || "+d+" !== "+d+") { var op"+s+" = "+F+" ? '"+g+"' : '"+g+"='; ",i===void 0&&(S=v,u=e.errSchemaPath+"/"+v,f=x,p=m)}else{var P=typeof y=="number",z=g;if(P&&p){var L="'"+z+"'";n+=" if ( ",p&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" ( "+f+" === undefined || "+y+" "+g+"= "+f+" ? "+d+" "+_+"= "+y+" : "+d+" "+_+" "+f+" ) || "+d+" !== "+d+") { "}else{P&&i===void 0?(F=!0,S=v,u=e.errSchemaPath+"/"+v,f=y,_+="="):(P&&(f=Math[h?"min":"max"](y,i)),y===(P?f:!0)?(F=!0,S=v,u=e.errSchemaPath+"/"+v,_+="="):(F=!1,z+="="));var L="'"+z+"'";n+=" if ( ",p&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" "+d+" "+_+" "+f+" || "+d+" !== "+d+") { "}}S=S||r;var G=G||[];G.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(S||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+L+", limit: "+f+", exclusive: "+F+" } ",e.opts.messages!==!1&&(n+=" , message: 'should be "+z+" ",p?n+="' + "+f:n+=""+f+"'"),e.opts.verbose&&(n+=" , schema:  ",p?n+="validate.schema"+l:n+=""+i,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var Q=n;return n=G.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+Q+"]); ":n+=" validate.errors = ["+Q+"]; return false; ":n+=" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c&&(n+=" else { "),n},Wm=function(e,r,a){var n=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,v,d="data"+(o||""),p=e.opts.$data&&i&&i.$data,f;if(p?(n+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",f="schema"+s):f=i,!(p||typeof i=="number"))throw new Error(r+" must be number");var h=r=="maxItems"?">":"<";n+="if ( ",p&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" "+d+".length "+h+" "+f+") { ";var v=r,y=y||[];y.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(v||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+f+" } ",e.opts.messages!==!1&&(n+=" , message: 'should NOT have ",r=="maxItems"?n+="more":n+="fewer",n+=" than ",p?n+="' + "+f+" + '":n+=""+i,n+=" items' "),e.opts.verbose&&(n+=" , schema:  ",p?n+="validate.schema"+l:n+=""+i,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var m=n;return n=y.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},Vm=function(e,r,a){var n=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,v,d="data"+(o||""),p=e.opts.$data&&i&&i.$data,f;if(p?(n+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",f="schema"+s):f=i,!(p||typeof i=="number"))throw new Error(r+" must be number");var h=r=="maxLength"?">":"<";n+="if ( ",p&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),e.opts.unicode===!1?n+=" "+d+".length ":n+=" ucs2length("+d+") ",n+=" "+h+" "+f+") { ";var v=r,y=y||[];y.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(v||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+f+" } ",e.opts.messages!==!1&&(n+=" , message: 'should NOT be ",r=="maxLength"?n+="longer":n+="shorter",n+=" than ",p?n+="' + "+f+" + '":n+=""+i,n+=" characters' "),e.opts.verbose&&(n+=" , schema:  ",p?n+="validate.schema"+l:n+=""+i,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var m=n;return n=y.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},qm=function(e,r,a){var n=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,v,d="data"+(o||""),p=e.opts.$data&&i&&i.$data,f;if(p?(n+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",f="schema"+s):f=i,!(p||typeof i=="number"))throw new Error(r+" must be number");var h=r=="maxProperties"?">":"<";n+="if ( ",p&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" Object.keys("+d+").length "+h+" "+f+") { ";var v=r,y=y||[];y.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(v||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+f+" } ",e.opts.messages!==!1&&(n+=" , message: 'should NOT have ",r=="maxProperties"?n+="more":n+="fewer",n+=" than ",p?n+="' + "+f+" + '":n+=""+i,n+=" properties' "),e.opts.verbose&&(n+=" , schema:  ",p?n+="validate.schema"+l:n+=""+i,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var m=n;return n=y.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},mk=function(e,r,a){var n=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(o||""),p=e.opts.$data&&i&&i.$data,f;if(p?(n+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",f="schema"+s):f=i,!(p||typeof i=="number"))throw new Error(r+" must be number");n+="var division"+s+";if (",p&&(n+=" "+f+" !== undefined && ( typeof "+f+" != 'number' || "),n+=" (division"+s+" = "+d+" / "+f+", ",e.opts.multipleOfPrecision?n+=" Math.abs(Math.round(division"+s+") - division"+s+") > 1e-"+e.opts.multipleOfPrecision+" ":n+=" division"+s+" !== parseInt(division"+s+") ",n+=" ) ",p&&(n+="  )  "),n+=" ) {   ";var h=h||[];h.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+f+" } ",e.opts.messages!==!1&&(n+=" , message: 'should be multiple of ",p?n+="' + "+f:n+=""+f+"'"),e.opts.verbose&&(n+=" , schema:  ",p?n+="validate.schema"+l:n+=""+i,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var v=n;return n=h.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},hk=function(e,r,a){var n=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(o||""),p="errs__"+s,f=e.util.copy(e);f.level++;var h="valid"+f.level;if(e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all)){f.schema=i,f.schemaPath=l,f.errSchemaPath=u,n+=" var "+p+" = errors;  ";var v=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.createErrors=!1;var y;f.opts.allErrors&&(y=f.opts.allErrors,f.opts.allErrors=!1),n+=" "+e.validate(f)+" ",f.createErrors=!0,y&&(f.opts.allErrors=y),e.compositeRule=f.compositeRule=v,n+=" if ("+h+") {   ";var m=m||[];m.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var g=n;n=m.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",e.createErrors!==!1?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(n+=" if (false) { ");return n},vk=function(e,r,a){var n=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(o||""),p="valid"+s,f="errs__"+s,h=e.util.copy(e),v="";h.level++;var y="valid"+h.level,m=h.baseId,g="prevValid"+s,_="passingSchemas"+s;n+="var "+f+" = errors , "+g+" = false , "+p+" = false , "+_+" = null; ";var S=e.compositeRule;e.compositeRule=h.compositeRule=!0;var x=i;if(x)for(var F,M=-1,P=x.length-1;M<P;)F=x[M+=1],(e.opts.strictKeywords?typeof F=="object"&&Object.keys(F).length>0||F===!1:e.util.schemaHasRules(F,e.RULES.all))?(h.schema=F,h.schemaPath=l+"["+M+"]",h.errSchemaPath=u+"/"+M,n+="  "+e.validate(h)+" ",h.baseId=m):n+=" var "+y+" = true; ",M&&(n+=" if ("+y+" && "+g+") { "+p+" = false; "+_+" = ["+_+", "+M+"]; } else { ",v+="}"),n+=" if ("+y+") { "+p+" = "+g+" = true; "+_+" = "+M+"; }";return e.compositeRule=h.compositeRule=S,n+=""+v+"if (!"+p+") {   var err =   ",e.createErrors!==!1?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { passingSchemas: "+_+" } ",e.opts.messages!==!1&&(n+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",e.opts.allErrors&&(n+=" } "),n},gk=function(e,r,a){var n=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(o||""),p=e.opts.$data&&i&&i.$data,f;p?(n+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",f="schema"+s):f=i;var h=p?"(new RegExp("+f+"))":e.usePattern(i);n+="if ( ",p&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),n+=" !"+h+".test("+d+") ) {   ";var v=v||[];v.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",p?n+=""+f:n+=""+e.util.toQuotedString(i),n+="  } ",e.opts.messages!==!1&&(n+=` , message: 'should match pattern "`,p?n+="' + "+f+" + '":n+=""+e.util.escapeQuotes(i),n+=`"' `),e.opts.verbose&&(n+=" , schema:  ",p?n+="validate.schema"+l:n+=""+e.util.toQuotedString(i),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var y=n;return n=v.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},_k=function(e,r,a){var n=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(o||""),p="errs__"+s,f=e.util.copy(e),h="";f.level++;var v="valid"+f.level,y="key"+s,m="idx"+s,g=f.dataLevel=e.dataLevel+1,_="data"+g,S="dataProperties"+s,x=Object.keys(i||{}).filter(O),F=e.schema.patternProperties||{},M=Object.keys(F).filter(O),P=e.schema.additionalProperties,L=x.length||M.length,z=P===!1,G=typeof P=="object"&&Object.keys(P).length,Q=e.opts.removeAdditional,j=z||G||Q,D=e.opts.ownProperties,A=e.baseId,U=e.schema.required;if(U&&!(e.opts.$data&&U.$data)&&U.length<e.opts.loopRequired)var W=e.util.toHash(U);function O(Il){return Il!=="__proto__"}if(n+="var "+p+" = errors;var "+v+" = true;",D&&(n+=" var "+S+" = undefined;"),j){if(D?n+=" "+S+" = "+S+" || Object.keys("+d+"); for (var "+m+"=0; "+m+"<"+S+".length; "+m+"++) { var "+y+" = "+S+"["+m+"]; ":n+=" for (var "+y+" in "+d+") { ",L){if(n+=" var isAdditional"+s+" = !(false ",x.length)if(x.length>8)n+=" || validate.schema"+l+".hasOwnProperty("+y+") ";else{var q=x;if(q)for(var I,Y=-1,se=q.length-1;Y<se;)I=q[Y+=1],n+=" || "+y+" == "+e.util.toQuotedString(I)+" "}if(M.length){var _e=M;if(_e)for(var ue,qe=-1,Fe=_e.length-1;qe<Fe;)ue=_e[qe+=1],n+=" || "+e.usePattern(ue)+".test("+y+") "}n+=" ); if (isAdditional"+s+") { "}if(Q=="all")n+=" delete "+d+"["+y+"]; ";else{var xe=e.errorPath,bt="' + "+y+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers)),z)if(Q)n+=" delete "+d+"["+y+"]; ";else{n+=" "+v+" = false; ";var Vt=u;u=e.errSchemaPath+"/additionalProperties";var Ze=Ze||[];Ze.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { additionalProperty: '"+bt+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var De=n;n=Ze.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+De+"]); ":n+=" validate.errors = ["+De+"]; return false; ":n+=" var err = "+De+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=Vt,c&&(n+=" break; ")}else if(G)if(Q=="failing"){n+=" var "+p+" = errors;  ";var Ar=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=P,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers);var ft=d+"["+y+"]";f.dataPathArr[g]=y;var ze=e.validate(f);f.baseId=A,e.util.varOccurences(ze,_)<2?n+=" "+e.util.varReplace(ze,_,ft)+" ":n+=" var "+_+" = "+ft+"; "+ze+" ",n+=" if (!"+v+") { errors = "+p+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+d+"["+y+"]; }  ",e.compositeRule=f.compositeRule=Ar}else{f.schema=P,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers);var ft=d+"["+y+"]";f.dataPathArr[g]=y;var ze=e.validate(f);f.baseId=A,e.util.varOccurences(ze,_)<2?n+=" "+e.util.varReplace(ze,_,ft)+" ":n+=" var "+_+" = "+ft+"; "+ze+" ",c&&(n+=" if (!"+v+") break; ")}e.errorPath=xe}L&&(n+=" } "),n+=" }  ",c&&(n+=" if ("+v+") { ",h+="}")}var Jr=e.opts.useDefaults&&!e.compositeRule;if(x.length){var gt=x;if(gt)for(var I,ua=-1,On=gt.length-1;ua<On;){I=gt[ua+=1];var it=i[I];if(e.opts.strictKeywords?typeof it=="object"&&Object.keys(it).length>0||it===!1:e.util.schemaHasRules(it,e.RULES.all)){var en=e.util.getProperty(I),ft=d+en,rs=Jr&&it.default!==void 0;f.schema=it,f.schemaPath=l+en,f.errSchemaPath=u+"/"+e.util.escapeFragment(I),f.errorPath=e.util.getPath(e.errorPath,I,e.opts.jsonPointers),f.dataPathArr[g]=e.util.toQuotedString(I);var ze=e.validate(f);if(f.baseId=A,e.util.varOccurences(ze,_)<2){ze=e.util.varReplace(ze,_,ft);var tt=ft}else{var tt=_;n+=" var "+_+" = "+ft+"; "}if(rs)n+=" "+ze+" ";else{if(W&&W[I]){n+=" if ( "+tt+" === undefined ",D&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(I)+"') "),n+=") { "+v+" = false; ";var xe=e.errorPath,Vt=u,rt=e.util.escapeQuotes(I);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(xe,I,e.opts.jsonPointers)),u=e.errSchemaPath+"/required";var Ze=Ze||[];Ze.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+rt+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+rt+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var De=n;n=Ze.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+De+"]); ":n+=" validate.errors = ["+De+"]; return false; ":n+=" var err = "+De+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=Vt,e.errorPath=xe,n+=" } else { "}else c?(n+=" if ( "+tt+" === undefined ",D&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(I)+"') "),n+=") { "+v+" = true; } else { "):(n+=" if ("+tt+" !== undefined ",D&&(n+=" &&   Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(I)+"') "),n+=" ) { ");n+=" "+ze+" } "}}c&&(n+=" if ("+v+") { ",h+="}")}}if(M.length){var Tt=M;if(Tt)for(var ue,go=-1,Cl=Tt.length-1;go<Cl;){ue=Tt[go+=1];var it=F[ue];if(e.opts.strictKeywords?typeof it=="object"&&Object.keys(it).length>0||it===!1:e.util.schemaHasRules(it,e.RULES.all)){f.schema=it,f.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ue),f.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ue),D?n+=" "+S+" = "+S+" || Object.keys("+d+"); for (var "+m+"=0; "+m+"<"+S+".length; "+m+"++) { var "+y+" = "+S+"["+m+"]; ":n+=" for (var "+y+" in "+d+") { ",n+=" if ("+e.usePattern(ue)+".test("+y+")) { ",f.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers);var ft=d+"["+y+"]";f.dataPathArr[g]=y;var ze=e.validate(f);f.baseId=A,e.util.varOccurences(ze,_)<2?n+=" "+e.util.varReplace(ze,_,ft)+" ":n+=" var "+_+" = "+ft+"; "+ze+" ",c&&(n+=" if (!"+v+") break; "),n+=" } ",c&&(n+=" else "+v+" = true; "),n+=" }  ",c&&(n+=" if ("+v+") { ",h+="}")}}}return c&&(n+=" "+h+" if ("+p+" == errors) {"),n},yk=function(e,r,a){var n=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(o||""),p="errs__"+s,f=e.util.copy(e),h="";f.level++;var v="valid"+f.level;if(n+="var "+p+" = errors;",e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all)){f.schema=i,f.schemaPath=l,f.errSchemaPath=u;var y="key"+s,m="idx"+s,g="i"+s,_="' + "+y+" + '",S=f.dataLevel=e.dataLevel+1,x="data"+S,F="dataProperties"+s,M=e.opts.ownProperties,P=e.baseId;M&&(n+=" var "+F+" = undefined; "),M?n+=" "+F+" = "+F+" || Object.keys("+d+"); for (var "+m+"=0; "+m+"<"+F+".length; "+m+"++) { var "+y+" = "+F+"["+m+"]; ":n+=" for (var "+y+" in "+d+") { ",n+=" var startErrs"+s+" = errors; ";var L=y,z=e.compositeRule;e.compositeRule=f.compositeRule=!0;var G=e.validate(f);f.baseId=P,e.util.varOccurences(G,x)<2?n+=" "+e.util.varReplace(G,x,L)+" ":n+=" var "+x+" = "+L+"; "+G+" ",e.compositeRule=f.compositeRule=z,n+=" if (!"+v+") { for (var "+g+"=startErrs"+s+"; "+g+"<errors; "+g+"++) { vErrors["+g+"].propertyName = "+y+"; }   var err =   ",e.createErrors!==!1?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { propertyName: '"+_+"' } ",e.opts.messages!==!1&&(n+=" , message: 'property name \\'"+_+"\\' is invalid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),c&&(n+=" break; "),n+=" } }"}return c&&(n+=" "+h+" if ("+p+" == errors) {"),n},wk=function(e,r,a){var n=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(o||""),p="valid"+s,f=e.opts.$data&&i&&i.$data;f&&(n+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ");var h="schema"+s;if(!f)if(i.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var v=[],y=i;if(y)for(var m,g=-1,_=y.length-1;g<_;){m=y[g+=1];var S=e.schema.properties[m];S&&(e.opts.strictKeywords?typeof S=="object"&&Object.keys(S).length>0||S===!1:e.util.schemaHasRules(S,e.RULES.all))||(v[v.length]=m)}}else var v=i;if(f||v.length){var x=e.errorPath,F=f||v.length>=e.opts.loopRequired,M=e.opts.ownProperties;if(c)if(n+=" var missing"+s+"; ",F){f||(n+=" var "+h+" = validate.schema"+l+"; ");var P="i"+s,L="schema"+s+"["+P+"]",z="' + "+L+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(x,L,e.opts.jsonPointers)),n+=" var "+p+" = true; ",f&&(n+=" if (schema"+s+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+s+")) "+p+" = false; else {"),n+=" for (var "+P+" = 0; "+P+" < "+h+".length; "+P+"++) { "+p+" = "+d+"["+h+"["+P+"]] !== undefined ",M&&(n+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+h+"["+P+"]) "),n+="; if (!"+p+") break; } ",f&&(n+="  }  "),n+="  if (!"+p+") {   ";var G=G||[];G.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+z+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+z+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var Q=n;n=G.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+Q+"]); ":n+=" validate.errors = ["+Q+"]; return false; ":n+=" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var j=v;if(j)for(var D,P=-1,A=j.length-1;P<A;){D=j[P+=1],P&&(n+=" || ");var U=e.util.getProperty(D),W=d+U;n+=" ( ( "+W+" === undefined ",M&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(D)+"') "),n+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?D:U)+") ) "}n+=") {  ";var L="missing"+s,z="' + "+L+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(x,L,!0):x+" + "+L);var G=G||[];G.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+z+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+z+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var Q=n;n=G.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+Q+"]); ":n+=" validate.errors = ["+Q+"]; return false; ":n+=" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(F){f||(n+=" var "+h+" = validate.schema"+l+"; ");var P="i"+s,L="schema"+s+"["+P+"]",z="' + "+L+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(x,L,e.opts.jsonPointers)),f&&(n+=" if ("+h+" && !Array.isArray("+h+")) {  var err =   ",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+z+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+z+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+h+" !== undefined) { "),n+=" for (var "+P+" = 0; "+P+" < "+h+".length; "+P+"++) { if ("+d+"["+h+"["+P+"]] === undefined ",M&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+h+"["+P+"]) "),n+=") {  var err =   ",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+z+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+z+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(n+="  }  ")}else{var O=v;if(O)for(var D,q=-1,I=O.length-1;q<I;){D=O[q+=1];var U=e.util.getProperty(D),z=e.util.escapeQuotes(D),W=d+U;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(x,D,e.opts.jsonPointers)),n+=" if ( "+W+" === undefined ",M&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(D)+"') "),n+=") {  var err =   ",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+z+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+z+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=x}else c&&(n+=" if (true) {");return n},Sk=function(e,r,a){var n=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(o||""),p="valid"+s,f=e.opts.$data&&i&&i.$data,h;if(f?(n+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",h="schema"+s):h=i,(i||f)&&e.opts.uniqueItems!==!1){f&&(n+=" var "+p+"; if ("+h+" === false || "+h+" === undefined) "+p+" = true; else if (typeof "+h+" != 'boolean') "+p+" = false; else { "),n+=" var i = "+d+".length , "+p+" = true , j; if (i > 1) { ";var v=e.schema.items&&e.schema.items.type,y=Array.isArray(v);if(!v||v=="object"||v=="array"||y&&(v.indexOf("object")>=0||v.indexOf("array")>=0))n+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+p+" = false; break outer; } } } ";else{n+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var m="checkDataType"+(y?"s":"");n+=" if ("+e.util[m](v,"item",e.opts.strictNumbers,!0)+") continue; ",y&&(n+=` if (typeof item == 'string') item = '"' + item; `),n+=" if (typeof itemIndices[item] == 'number') { "+p+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}n+=" } ",f&&(n+="  }  "),n+=" if (!"+p+") {   ";var g=g||[];g.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(n+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(n+=" , schema:  ",f?n+="validate.schema"+l:n+=""+i,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var _=n;n=g.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+_+"]); ":n+=" validate.errors = ["+_+"]; return false; ":n+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c&&(n+=" else { ")}else c&&(n+=" if (true) { ");return n},Ek={$ref:nk,allOf:ak,anyOf:sk,$comment:ok,const:ik,contains:lk,dependencies:uk,enum:ck,format:dk,if:fk,items:pk,maximum:Bm,minimum:Bm,maxItems:Wm,minItems:Wm,maxLength:Vm,minLength:Vm,maxProperties:qm,minProperties:qm,multipleOf:mk,not:hk,oneOf:vk,pattern:gk,properties:_k,propertyNames:yk,required:wk,uniqueItems:Sk,validate:I_},Gm=Ek,fu=Ja.toHash,bk=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],r=["type","$comment"],a=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],n=["number","integer","string","array","object","boolean","null"];return e.all=fu(r),e.types=fu(n),e.forEach(function(s){s.rules=s.rules.map(function(o){var i;if(typeof o=="object"){var l=Object.keys(o)[0];i=o[l],o=l,i.forEach(function(c){r.push(c),e.all[c]=!0})}r.push(o);var u=e.all[o]={keyword:o,code:Gm[o],implements:i};return u}),e.all.$comment={keyword:"$comment",code:Gm.$comment},s.type&&(e.types[s.type]=s)}),e.keywords=fu(r.concat(a)),e.custom={},e},Qm=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],kk=function(t,e){for(var r=0;r<e.length;r++){t=JSON.parse(JSON.stringify(t));var a=e[r].split("/"),n=t,s;for(s=1;s<a.length;s++)n=n[a[s]];for(s=0;s<Qm.length;s++){var o=Qm[s],i=n[o];i&&(n[o]={anyOf:[i,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return t},xk=Df.MissingRef,Fk=Q_;function Q_(t,e,r){var a=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(r=e,e=void 0);var n=s(t).then(function(){var i=a._addSchema(t,void 0,e);return i.validate||o(i)});return r&&n.then(function(i){r(null,i)},r),n;function s(i){var l=i.$schema;return l&&!a.getSchema(l)?Q_.call(a,{$ref:l},!0):Promise.resolve()}function o(i){try{return a._compile(i)}catch(u){if(u instanceof xk)return l(u);throw u}function l(u){var c=u.missingSchema;if(f(c))throw new Error("Schema "+c+" is loaded but "+u.missingRef+" cannot be resolved");var d=a._loadingSchemas[c];return d||(d=a._loadingSchemas[c]=a._opts.loadSchema(c),d.then(p,p)),d.then(function(h){if(!f(c))return s(h).then(function(){f(c)||a.addSchema(h,c,void 0,e)})}).then(function(){return o(i)});function p(){delete a._loadingSchemas[c]}function f(h){return a._refs[h]||a._schemas[h]}}}}var Pk=function(e,r,a){var n=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d,p="data"+(o||""),f="valid"+s,h="errs__"+s,v=e.opts.$data&&i&&i.$data,y;v?(n+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",y="schema"+s):y=i;var m=this,g="definition"+s,_=m.definition,S="",x,F,M,P,L;if(v&&_.$data){L="keywordValidate"+s;var z=_.validateSchema;n+=" var "+g+" = RULES.custom['"+r+"'].definition; var "+L+" = "+g+".validate;"}else{if(P=e.useCustomRule(m,i,e.schema,e),!P)return;y="validate.schema"+l,L=P.code,x=_.compile,F=_.inline,M=_.macro}var G=L+".errors",Q="i"+s,j="ruleErr"+s,D=_.async;if(D&&!e.async)throw new Error("async keyword in sync schema");if(F||M||(n+=""+G+" = null;"),n+="var "+h+" = errors;var "+f+";",v&&_.$data&&(S+="}",n+=" if ("+y+" === undefined) { "+f+" = true; } else { ",z&&(S+="}",n+=" "+f+" = "+g+".validateSchema("+y+"); if ("+f+") { ")),F)_.statements?n+=" "+P.validate+" ":n+=" "+f+" = "+P.validate+"; ";else if(M){var A=e.util.copy(e),S="";A.level++;var U="valid"+A.level;A.schema=P.validate,A.schemaPath="";var W=e.compositeRule;e.compositeRule=A.compositeRule=!0;var O=e.validate(A).replace(/validate\.schema/g,L);e.compositeRule=A.compositeRule=W,n+=" "+O}else{var q=q||[];q.push(n),n="",n+="  "+L+".call( ",e.opts.passContext?n+="this":n+="self",x||_.schema===!1?n+=" , "+p+" ":n+=" , "+y+" , "+p+" , validate.schema"+e.schemaPath+" ",n+=" , (dataPath || '')",e.errorPath!='""'&&(n+=" + "+e.errorPath);var I=o?"data"+(o-1||""):"parentData",Y=o?e.dataPathArr[o]:"parentDataProperty";n+=" , "+I+" , "+Y+" , rootData )  ";var se=n;n=q.pop(),_.errors===!1?(n+=" "+f+" = ",D&&(n+="await "),n+=""+se+"; "):D?(G="customErrors"+s,n+=" var "+G+" = null; try { "+f+" = await "+se+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+G+" = e.errors; else throw e; } "):n+=" "+G+" = null; "+f+" = "+se+"; "}if(_.modifying&&(n+=" if ("+I+") "+p+" = "+I+"["+Y+"];"),n+=""+S,_.valid)c&&(n+=" if (true) { ");else{n+=" if ( ",_.valid===void 0?(n+=" !",M?n+=""+U:n+=""+f):n+=" "+!_.valid+" ",n+=") { ",d=m.keyword;var q=q||[];q.push(n),n="";var q=q||[];q.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+m.keyword+"' } ",e.opts.messages!==!1&&(n+=` , message: 'should pass "`+m.keyword+`" keyword validation' `),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var _e=n;n=q.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+_e+"]); ":n+=" validate.errors = ["+_e+"]; return false; ":n+=" var err = "+_e+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var ue=n;n=q.pop(),F?_.errors?_.errors!="full"&&(n+="  for (var "+Q+"="+h+"; "+Q+"<errors; "+Q+"++) { var "+j+" = vErrors["+Q+"]; if ("+j+".dataPath === undefined) "+j+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+j+".schemaPath === undefined) { "+j+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(n+=" "+j+".schema = "+y+"; "+j+".data = "+p+"; "),n+=" } "):_.errors===!1?n+=" "+ue+" ":(n+=" if ("+h+" == errors) { "+ue+" } else {  for (var "+Q+"="+h+"; "+Q+"<errors; "+Q+"++) { var "+j+" = vErrors["+Q+"]; if ("+j+".dataPath === undefined) "+j+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+j+".schemaPath === undefined) { "+j+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(n+=" "+j+".schema = "+y+"; "+j+".data = "+p+"; "),n+=" } } "):M?(n+="   var err =   ",e.createErrors!==!1?(n+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+m.keyword+"' } ",e.opts.messages!==!1&&(n+=` , message: 'should pass "`+m.keyword+`" keyword validation' `),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; ")):_.errors===!1?n+=" "+ue+" ":(n+=" if (Array.isArray("+G+")) { if (vErrors === null) vErrors = "+G+"; else vErrors = vErrors.concat("+G+"); errors = vErrors.length;  for (var "+Q+"="+h+"; "+Q+"<errors; "+Q+"++) { var "+j+" = vErrors["+Q+"]; if ("+j+".dataPath === undefined) "+j+".dataPath = (dataPath || '') + "+e.errorPath+";  "+j+'.schemaPath = "'+u+'";  ',e.opts.verbose&&(n+=" "+j+".schema = "+y+"; "+j+".data = "+p+"; "),n+=" } } else { "+ue+" } "),n+=" } ",c&&(n+=" else { ")}return n};const Mk="http://json-schema.org/draft-07/schema#",Ak="http://json-schema.org/draft-07/schema#",Tk="Core schema meta-schema",Nk={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Rk=["object","boolean"],Ck={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Y_={$schema:Mk,$id:Ak,title:Tk,definitions:Nk,type:Rk,properties:Ck,default:!0};var Ym=Y_,Ik={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:Ym.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:Ym.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},Ok=/^[a-z_$][a-z0-9_$-]*$/i,Lk=Pk,Dk=Ik,zk={add:jk,get:Uk,remove:$k,validate:zc};function jk(t,e){var r=this.RULES;if(r.keywords[t])throw new Error("Keyword "+t+" is already defined");if(!Ok.test(t))throw new Error("Keyword "+t+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var a=e.type;if(Array.isArray(a))for(var n=0;n<a.length;n++)o(t,a[n],e);else o(t,a,e);var s=e.metaSchema;s&&(e.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(s,!0))}r.keywords[t]=r.all[t]=!0;function o(i,l,u){for(var c,d=0;d<r.length;d++){var p=r[d];if(p.type==l){c=p;break}}c||(c={type:l,rules:[]},r.push(c));var f={keyword:i,definition:u,custom:!0,code:Lk,implements:u.implements};c.rules.push(f),r.custom[i]=f}return this}function Uk(t){var e=this.RULES.custom[t];return e?e.definition:this.RULES.keywords[t]||!1}function $k(t){var e=this.RULES;delete e.keywords[t],delete e.all[t],delete e.custom[t];for(var r=0;r<e.length;r++)for(var a=e[r].rules,n=0;n<a.length;n++)if(a[n].keyword==t){a.splice(n,1);break}return this}function zc(t,e){zc.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(Dk,!0);if(r(t))return!0;if(zc.errors=r.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}const Hk="http://json-schema.org/draft-07/schema#",Bk="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Wk="Meta-schema for $data reference (JSON Schema extension proposal)",Vk="object",qk=["$data"],Gk={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Qk=!1,Yk={$schema:Hk,$id:Bk,description:Wk,type:Vk,required:qk,properties:Gk,additionalProperties:Qk};var K_=Lb,Qn=Lf,Kk=Bb,Z_=A_,Zk=C_,Xk=Kb,Jk=bk,X_=kk,J_=Ja,ex=Ve;Ve.prototype.validate=rx;Ve.prototype.compile=nx;Ve.prototype.addSchema=ax;Ve.prototype.addMetaSchema=sx;Ve.prototype.validateSchema=ox;Ve.prototype.getSchema=lx;Ve.prototype.removeSchema=cx;Ve.prototype.addFormat=_x;Ve.prototype.errorsText=gx;Ve.prototype._addSchema=dx;Ve.prototype._compile=fx;Ve.prototype.compileAsync=Fk;var Fl=zk;Ve.prototype.addKeyword=Fl.add;Ve.prototype.getKeyword=Fl.get;Ve.prototype.removeKeyword=Fl.remove;Ve.prototype.validateKeyword=Fl.validate;var ey=Df;Ve.ValidationError=ey.Validation;Ve.MissingRefError=ey.MissingRef;Ve.$dataMetaSchema=X_;var Vi="http://json-schema.org/draft-07/schema",Km=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],tx=["/properties"];function Ve(t){if(!(this instanceof Ve))return new Ve(t);t=this._opts=J_.copy(t)||{},kx(this),this._schemas={},this._refs={},this._fragments={},this._formats=Xk(t.format),this._cache=t.cache||new Kk,this._loadingSchemas={},this._compilations=[],this.RULES=Jk(),this._getId=px(t),t.loopRequired=t.loopRequired||1/0,t.errorDataPath=="property"&&(t._errorDataPathProperty=!0),t.serialize===void 0&&(t.serialize=Zk),this._metaOpts=bx(this),t.formats&&Sx(this),t.keywords&&Ex(this),yx(this),typeof t.meta=="object"&&this.addMetaSchema(t.meta),t.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),wx(this)}function rx(t,e){var r;if(typeof t=="string"){if(r=this.getSchema(t),!r)throw new Error('no schema with key or ref "'+t+'"')}else{var a=this._addSchema(t);r=a.validate||this._compile(a)}var n=r(e);return r.$async!==!0&&(this.errors=r.errors),n}function nx(t,e){var r=this._addSchema(t,void 0,e);return r.validate||this._compile(r)}function ax(t,e,r,a){if(Array.isArray(t)){for(var n=0;n<t.length;n++)this.addSchema(t[n],void 0,r,a);return this}var s=this._getId(t);if(s!==void 0&&typeof s!="string")throw new Error("schema id must be string");return e=Qn.normalizeId(e||s),ry(this,e),this._schemas[e]=this._addSchema(t,r,a,!0),this}function sx(t,e,r){return this.addSchema(t,e,r,!0),this}function ox(t,e){var r=t.$schema;if(r!==void 0&&typeof r!="string")throw new Error("$schema must be a string");if(r=r||this._opts.defaultMeta||ix(this),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var a=this.validate(r,t);if(!a&&e){var n="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(n);else throw new Error(n)}return a}function ix(t){var e=t._opts.meta;return t._opts.defaultMeta=typeof e=="object"?t._getId(e)||e:t.getSchema(Vi)?Vi:void 0,t._opts.defaultMeta}function lx(t){var e=ty(this,t);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return ux(this,t)}}function ux(t,e){var r=Qn.schema.call(t,{schema:{}},e);if(r){var a=r.schema,n=r.root,s=r.baseId,o=K_.call(t,a,n,void 0,s);return t._fragments[e]=new Z_({ref:e,fragment:!0,schema:a,root:n,baseId:s,validate:o}),o}}function ty(t,e){return e=Qn.normalizeId(e),t._schemas[e]||t._refs[e]||t._fragments[e]}function cx(t){if(t instanceof RegExp)return Uo(this,this._schemas,t),Uo(this,this._refs,t),this;switch(typeof t){case"undefined":return Uo(this,this._schemas),Uo(this,this._refs),this._cache.clear(),this;case"string":var e=ty(this,t);return e&&this._cache.del(e.cacheKey),delete this._schemas[t],delete this._refs[t],this;case"object":var r=this._opts.serialize,a=r?r(t):t;this._cache.del(a);var n=this._getId(t);n&&(n=Qn.normalizeId(n),delete this._schemas[n],delete this._refs[n])}return this}function Uo(t,e,r){for(var a in e){var n=e[a];!n.meta&&(!r||r.test(a))&&(t._cache.del(n.cacheKey),delete e[a])}}function dx(t,e,r,a){if(typeof t!="object"&&typeof t!="boolean")throw new Error("schema should be object or boolean");var n=this._opts.serialize,s=n?n(t):t,o=this._cache.get(s);if(o)return o;a=a||this._opts.addUsedSchema!==!1;var i=Qn.normalizeId(this._getId(t));i&&a&&ry(this,i);var l=this._opts.validateSchema!==!1&&!e,u;l&&!(u=i&&i==Qn.normalizeId(t.$schema))&&this.validateSchema(t,!0);var c=Qn.ids.call(this,t),d=new Z_({id:i,schema:t,localRefs:c,cacheKey:s,meta:r});return i[0]!="#"&&a&&(this._refs[i]=d),this._cache.put(s,d),l&&u&&this.validateSchema(t,!0),d}function fx(t,e){if(t.compiling)return t.validate=n,n.schema=t.schema,n.errors=null,n.root=e||n,t.schema.$async===!0&&(n.$async=!0),n;t.compiling=!0;var r;t.meta&&(r=this._opts,this._opts=this._metaOpts);var a;try{a=K_.call(this,t.schema,e,t.localRefs)}catch(s){throw delete t.validate,s}finally{t.compiling=!1,t.meta&&(this._opts=r)}return t.validate=a,t.refs=a.refs,t.refVal=a.refVal,t.root=a.root,a;function n(){var s=t.validate,o=s.apply(this,arguments);return n.errors=s.errors,o}}function px(t){switch(t.schemaId){case"auto":return vx;case"id":return mx;default:return hx}}function mx(t){return t.$id&&this.logger.warn("schema $id ignored",t.$id),t.id}function hx(t){return t.id&&this.logger.warn("schema id ignored",t.id),t.$id}function vx(t){if(t.$id&&t.id&&t.$id!=t.id)throw new Error("schema $id is different from id");return t.$id||t.id}function gx(t,e){if(t=t||this.errors,!t)return"No errors";e=e||{};for(var r=e.separator===void 0?", ":e.separator,a=e.dataVar===void 0?"data":e.dataVar,n="",s=0;s<t.length;s++){var o=t[s];o&&(n+=a+o.dataPath+" "+o.message+r)}return n.slice(0,-r.length)}function _x(t,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[t]=e,this}function yx(t){var e;if(t._opts.$data&&(e=Yk,t.addMetaSchema(e,e.$id,!0)),t._opts.meta!==!1){var r=Y_;t._opts.$data&&(r=X_(r,tx)),t.addMetaSchema(r,Vi,!0),t._refs["http://json-schema.org/schema"]=Vi}}function wx(t){var e=t._opts.schemas;if(e)if(Array.isArray(e))t.addSchema(e);else for(var r in e)t.addSchema(e[r],r)}function Sx(t){for(var e in t._opts.formats){var r=t._opts.formats[e];t.addFormat(e,r)}}function Ex(t){for(var e in t._opts.keywords){var r=t._opts.keywords[e];t.addKeyword(e,r)}}function ry(t,e){if(t._schemas[e]||t._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function bx(t){for(var e=J_.copy(t._opts),r=0;r<Km.length;r++)delete e[Km[r]];return e}function kx(t){var e=t._opts.logger;if(e===!1)t.logger={log:pu,warn:pu,error:pu};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");t.logger=e}}function pu(){}const ny=wd(ex);class xx extends eb{constructor(e,r){var a;super(r),this._clientInfo=e,this._cachedToolOutputValidators=new Map,this._capabilities=(a=r==null?void 0:r.capabilities)!==null&&a!==void 0?a:{},this._ajv=new ny}registerCapabilities(e){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=tb(this._capabilities,e)}assertCapability(e,r){var a;if(!(!((a=this._serverCapabilities)===null||a===void 0)&&a[e]))throw new Error(`Server does not support ${e} (required for ${r})`)}async connect(e,r){if(await super.connect(e),e.sessionId===void 0)try{const a=await this.request({method:"initialize",params:{protocolVersion:vl,capabilities:this._capabilities,clientInfo:this._clientInfo}},h_,r);if(a===void 0)throw new Error(`Server sent invalid initialize result: ${a}`);if(!s1.includes(a.protocolVersion))throw new Error(`Server's protocol version is not supported: ${a.protocolVersion}`);this._serverCapabilities=a.capabilities,this._serverVersion=a.serverInfo,e.setProtocolVersion&&e.setProtocolVersion(a.protocolVersion),this._instructions=a.instructions,await this.notification({method:"notifications/initialized"})}catch(a){throw this.close(),a}}getServerCapabilities(){return this._serverCapabilities}getServerVersion(){return this._serverVersion}getInstructions(){return this._instructions}assertCapabilityForMethod(e){var r,a,n,s,o;switch(e){case"logging/setLevel":if(!(!((r=this._serverCapabilities)===null||r===void 0)&&r.logging))throw new Error(`Server does not support logging (required for ${e})`);break;case"prompts/get":case"prompts/list":if(!(!((a=this._serverCapabilities)===null||a===void 0)&&a.prompts))throw new Error(`Server does not support prompts (required for ${e})`);break;case"resources/list":case"resources/templates/list":case"resources/read":case"resources/subscribe":case"resources/unsubscribe":if(!(!((n=this._serverCapabilities)===null||n===void 0)&&n.resources))throw new Error(`Server does not support resources (required for ${e})`);if(e==="resources/subscribe"&&!this._serverCapabilities.resources.subscribe)throw new Error(`Server does not support resource subscriptions (required for ${e})`);break;case"tools/call":case"tools/list":if(!(!((s=this._serverCapabilities)===null||s===void 0)&&s.tools))throw new Error(`Server does not support tools (required for ${e})`);break;case"completion/complete":if(!(!((o=this._serverCapabilities)===null||o===void 0)&&o.completions))throw new Error(`Server does not support completions (required for ${e})`);break}}assertNotificationCapability(e){var r;switch(e){case"notifications/roots/list_changed":if(!(!((r=this._capabilities.roots)===null||r===void 0)&&r.listChanged))throw new Error(`Client does not support roots list changed notifications (required for ${e})`);break}}assertRequestHandlerCapability(e){switch(e){case"sampling/createMessage":if(!this._capabilities.sampling)throw new Error(`Client does not support sampling capability (required for ${e})`);break;case"elicitation/create":if(!this._capabilities.elicitation)throw new Error(`Client does not support elicitation capability (required for ${e})`);break;case"roots/list":if(!this._capabilities.roots)throw new Error(`Client does not support roots capability (required for ${e})`);break}}async ping(e){return this.request({method:"ping"},Ma,e)}async complete(e,r){return this.request({method:"completion/complete",params:e},P_,r)}async setLoggingLevel(e,r){return this.request({method:"logging/setLevel",params:{level:e}},Ma,r)}async getPrompt(e,r){return this.request({method:"prompts/get",params:e},Mf,r)}async listPrompts(e,r){return this.request({method:"prompts/list",params:e},kf,r)}async listResources(e,r){return this.request({method:"resources/list",params:e},Ui,r)}async listResourceTemplates(e,r){return this.request({method:"resources/templates/list",params:e},S_,r)}async readResource(e,r){return this.request({method:"resources/read",params:e},bf,r)}async subscribeResource(e,r){return this.request({method:"resources/subscribe",params:e},Ma,r)}async unsubscribeResource(e,r){return this.request({method:"resources/unsubscribe",params:e},Ma,r)}async callTool(e,r=Sl,a){const n=await this.request({method:"tools/call",params:e},r,a),s=this.getToolOutputValidator(e.name);if(s){if(!n.structuredContent&&!n.isError)throw new pn(wr.InvalidRequest,`Tool ${e.name} has an output schema but did not return structured content`);if(n.structuredContent)try{if(!s(n.structuredContent))throw new pn(wr.InvalidParams,`Structured content does not match the tool's output schema: ${this._ajv.errorsText(s.errors)}`)}catch(o){throw o instanceof pn?o:new pn(wr.InvalidParams,`Failed to validate structured content: ${o instanceof Error?o.message:String(o)}`)}}return n}cacheToolOutputSchemas(e){this._cachedToolOutputValidators.clear();for(const r of e)if(r.outputSchema)try{const a=this._ajv.compile(r.outputSchema);this._cachedToolOutputValidators.set(r.name,a)}catch{}}getToolOutputValidator(e){return this._cachedToolOutputValidators.get(e)}async listTools(e,r){const a=await this.request({method:"tools/list",params:e},Af,r);return this.cacheToolOutputSchemas(a.tools),a}async sendRootsListChanged(){return this.notification({method:"notifications/roots/list_changed"})}}let jf;jf=globalThis.crypto;async function Fx(t){return(await jf).getRandomValues(new Uint8Array(t))}async function Px(t){const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~";let r="";const a=await Fx(t);for(let n=0;n<t;n++){const s=a[n]%e.length;r+=e[s]}return r}async function Mx(t){return await Px(t)}async function Ax(t){const e=await(await jf).subtle.digest("SHA-256",new TextEncoder().encode(t));return btoa(String.fromCharCode(...new Uint8Array(e))).replace(/\//g,"_").replace(/\+/g,"-").replace(/=/g,"")}async function Tx(t){if(t||(t=43),t<43||t>128)throw`Expected a length between 43 and 128. Received ${t}.`;const e=await Mx(t),r=await Ax(e);return{code_verifier:e,code_challenge:r}}const ut=T().url().superRefine((t,e)=>{if(!URL.canParse(t))return e.addIssue({code:V.custom,message:"URL must be parseable",fatal:!0}),a1}).refine(t=>{const e=new URL(t);return e.protocol!=="javascript:"&&e.protocol!=="data:"&&e.protocol!=="vbscript:"},{message:"URL cannot use javascript:, data:, or vbscript: scheme"}),Nx=K({resource:T().url(),authorization_servers:ee(ut).optional(),jwks_uri:T().url().optional(),scopes_supported:ee(T()).optional(),bearer_methods_supported:ee(T()).optional(),resource_signing_alg_values_supported:ee(T()).optional(),resource_name:T().optional(),resource_documentation:T().optional(),resource_policy_uri:T().url().optional(),resource_tos_uri:T().url().optional(),tls_client_certificate_bound_access_tokens:ot().optional(),authorization_details_types_supported:ee(T()).optional(),dpop_signing_alg_values_supported:ee(T()).optional(),dpop_bound_access_tokens_required:ot().optional()}).passthrough(),ay=K({issuer:T(),authorization_endpoint:ut,token_endpoint:ut,registration_endpoint:ut.optional(),scopes_supported:ee(T()).optional(),response_types_supported:ee(T()),response_modes_supported:ee(T()).optional(),grant_types_supported:ee(T()).optional(),token_endpoint_auth_methods_supported:ee(T()).optional(),token_endpoint_auth_signing_alg_values_supported:ee(T()).optional(),service_documentation:ut.optional(),revocation_endpoint:ut.optional(),revocation_endpoint_auth_methods_supported:ee(T()).optional(),revocation_endpoint_auth_signing_alg_values_supported:ee(T()).optional(),introspection_endpoint:T().optional(),introspection_endpoint_auth_methods_supported:ee(T()).optional(),introspection_endpoint_auth_signing_alg_values_supported:ee(T()).optional(),code_challenge_methods_supported:ee(T()).optional()}).passthrough(),Rx=K({issuer:T(),authorization_endpoint:ut,token_endpoint:ut,userinfo_endpoint:ut.optional(),jwks_uri:ut,registration_endpoint:ut.optional(),scopes_supported:ee(T()).optional(),response_types_supported:ee(T()),response_modes_supported:ee(T()).optional(),grant_types_supported:ee(T()).optional(),acr_values_supported:ee(T()).optional(),subject_types_supported:ee(T()),id_token_signing_alg_values_supported:ee(T()),id_token_encryption_alg_values_supported:ee(T()).optional(),id_token_encryption_enc_values_supported:ee(T()).optional(),userinfo_signing_alg_values_supported:ee(T()).optional(),userinfo_encryption_alg_values_supported:ee(T()).optional(),userinfo_encryption_enc_values_supported:ee(T()).optional(),request_object_signing_alg_values_supported:ee(T()).optional(),request_object_encryption_alg_values_supported:ee(T()).optional(),request_object_encryption_enc_values_supported:ee(T()).optional(),token_endpoint_auth_methods_supported:ee(T()).optional(),token_endpoint_auth_signing_alg_values_supported:ee(T()).optional(),display_values_supported:ee(T()).optional(),claim_types_supported:ee(T()).optional(),claims_supported:ee(T()).optional(),service_documentation:T().optional(),claims_locales_supported:ee(T()).optional(),ui_locales_supported:ee(T()).optional(),claims_parameter_supported:ot().optional(),request_parameter_supported:ot().optional(),request_uri_parameter_supported:ot().optional(),require_request_uri_registration:ot().optional(),op_policy_uri:ut.optional(),op_tos_uri:ut.optional()}).passthrough(),Cx=Rx.merge(ay.pick({code_challenge_methods_supported:!0})),sy=K({access_token:T(),id_token:T().optional(),token_type:T(),expires_in:dt().optional(),scope:T().optional(),refresh_token:T().optional()}).strip(),Ix=K({error:T(),error_description:T().optional(),error_uri:T().optional()}),Ox=K({redirect_uris:ee(ut),token_endpoint_auth_method:T().optional(),grant_types:ee(T()).optional(),response_types:ee(T()).optional(),client_name:T().optional(),client_uri:ut.optional(),logo_uri:ut.optional(),scope:T().optional(),contacts:ee(T()).optional(),tos_uri:ut.optional(),policy_uri:T().optional(),jwks_uri:ut.optional(),jwks:r1().optional(),software_id:T().optional(),software_version:T().optional(),software_statement:T().optional()}).strip(),Lx=K({client_id:T(),client_secret:T().optional(),client_id_issued_at:dt().optional(),client_secret_expires_at:dt().optional()}).strip(),Dx=Ox.merge(Lx);K({error:T(),error_description:T().optional()}).strip();K({token:T(),token_type_hint:T().optional()}).strip();function zx(t){const e=typeof t=="string"?new URL(t):new URL(t.href);return e.hash="",e}function jx({requestedResource:t,configuredResource:e}){const r=typeof t=="string"?new URL(t):new URL(t.href),a=typeof e=="string"?new URL(e):new URL(e.href);if(r.origin!==a.origin||r.pathname.length<a.pathname.length)return!1;const n=r.pathname.endsWith("/")?r.pathname:r.pathname+"/",s=a.pathname.endsWith("/")?a.pathname:a.pathname+"/";return n.startsWith(s)}class vt extends Error{constructor(e,r){super(e),this.errorUri=r,this.name=this.constructor.name}toResponseObject(){const e={error:this.errorCode,error_description:this.message};return this.errorUri&&(e.error_uri=this.errorUri),e}get errorCode(){return this.constructor.errorCode}}class jc extends vt{}jc.errorCode="invalid_request";class qi extends vt{}qi.errorCode="invalid_client";class Gi extends vt{}Gi.errorCode="invalid_grant";class Qi extends vt{}Qi.errorCode="unauthorized_client";class Uc extends vt{}Uc.errorCode="unsupported_grant_type";class $c extends vt{}$c.errorCode="invalid_scope";class Hc extends vt{}Hc.errorCode="access_denied";class Ga extends vt{}Ga.errorCode="server_error";class Bc extends vt{}Bc.errorCode="temporarily_unavailable";class Wc extends vt{}Wc.errorCode="unsupported_response_type";class Vc extends vt{}Vc.errorCode="unsupported_token_type";class qc extends vt{}qc.errorCode="invalid_token";class Gc extends vt{}Gc.errorCode="method_not_allowed";class Qc extends vt{}Qc.errorCode="too_many_requests";class Yc extends vt{}Yc.errorCode="invalid_client_metadata";class Kc extends vt{}Kc.errorCode="insufficient_scope";const Ux={[jc.errorCode]:jc,[qi.errorCode]:qi,[Gi.errorCode]:Gi,[Qi.errorCode]:Qi,[Uc.errorCode]:Uc,[$c.errorCode]:$c,[Hc.errorCode]:Hc,[Ga.errorCode]:Ga,[Bc.errorCode]:Bc,[Wc.errorCode]:Wc,[Vc.errorCode]:Vc,[qc.errorCode]:qc,[Gc.errorCode]:Gc,[Qc.errorCode]:Qc,[Yc.errorCode]:Yc,[Kc.errorCode]:Kc};class vs extends Error{constructor(e){super(e??"Unauthorized")}}function oy(t,e){const r=t.client_secret!==void 0;return e.length===0?r?"client_secret_post":"none":r&&e.includes("client_secret_basic")?"client_secret_basic":r&&e.includes("client_secret_post")?"client_secret_post":e.includes("none")?"none":r?"client_secret_post":"none"}function iy(t,e,r,a){const{client_id:n,client_secret:s}=e;switch(t){case"client_secret_basic":$x(n,s,r);return;case"client_secret_post":Hx(n,s,a);return;case"none":Bx(n,a);return;default:throw new Error(`Unsupported client authentication method: ${t}`)}}function $x(t,e,r){if(!e)throw new Error("client_secret_basic authentication requires a client_secret");const a=btoa(`${t}:${e}`);r.set("Authorization",`Basic ${a}`)}function Hx(t,e,r){r.set("client_id",t),e&&r.set("client_secret",e)}function Bx(t,e){e.set("client_id",t)}async function Uf(t){const e=t instanceof Response?t.status:void 0,r=t instanceof Response?await t.text():t;try{const a=Ix.parse(JSON.parse(r)),{error:n,error_description:s,error_uri:o}=a,i=Ux[n]||Ga;return new i(s||"",o)}catch(a){const n=`${e?`HTTP ${e}: `:""}Invalid OAuth error response: ${a}. Raw body: ${r}`;return new Ga(n)}}async function mu(t,e){var r,a;try{return await hu(t,e)}catch(n){if(n instanceof qi||n instanceof Qi)return await((r=t.invalidateCredentials)===null||r===void 0?void 0:r.call(t,"all")),await hu(t,e);if(n instanceof Gi)return await((a=t.invalidateCredentials)===null||a===void 0?void 0:a.call(t,"tokens")),await hu(t,e);throw n}}async function hu(t,{serverUrl:e,authorizationCode:r,scope:a,resourceMetadataUrl:n,fetchFn:s}){let o,i;try{o=await qx(e,{resourceMetadataUrl:n},s),o.authorization_servers&&o.authorization_servers.length>0&&(i=o.authorization_servers[0])}catch{}i||(i=e);const l=await Wx(e,t,o),u=await Zx(i,{fetchFn:s});let c=await Promise.resolve(t.clientInformation());if(!c){if(r!==void 0)throw new Error("Existing OAuth client information is required when exchanging an authorization code");if(!t.saveClientInformation)throw new Error("OAuth client information must be saveable for dynamic registration");const v=await tF(i,{metadata:u,clientMetadata:t.clientMetadata,fetchFn:s});await t.saveClientInformation(v),c=v}if(r!==void 0){const v=await t.codeVerifier(),y=await Jx(i,{metadata:u,clientInformation:c,authorizationCode:r,codeVerifier:v,redirectUri:t.redirectUrl,resource:l,addClientAuthentication:t.addClientAuthentication,fetchFn:s});return await t.saveTokens(y),"AUTHORIZED"}const d=await t.tokens();if(d!=null&&d.refresh_token)try{const v=await eF(i,{metadata:u,clientInformation:c,refreshToken:d.refresh_token,resource:l,addClientAuthentication:t.addClientAuthentication,fetchFn:s});return await t.saveTokens(v),"AUTHORIZED"}catch(v){if(!(!(v instanceof vt)||v instanceof Ga))throw v}const p=t.state?await t.state():void 0,{authorizationUrl:f,codeVerifier:h}=await Xx(i,{metadata:u,clientInformation:c,state:p,redirectUrl:t.redirectUrl,scope:a||t.clientMetadata.scope,resource:l});return await t.saveCodeVerifier(h),await t.redirectToAuthorization(f),"REDIRECT"}async function Wx(t,e,r){const a=zx(t);if(e.validateResourceURL)return await e.validateResourceURL(a,r==null?void 0:r.resource);if(r){if(!jx({requestedResource:a,configuredResource:r.resource}))throw new Error(`Protected resource ${r.resource} does not match expected ${a} (or origin)`);return new URL(r.resource)}}function Vx(t){const e=t.headers.get("WWW-Authenticate");if(!e)return;const[r,a]=e.split(" ");if(r.toLowerCase()!=="bearer"||!a)return;const s=/resource_metadata="([^"]*)"/.exec(e);if(s)try{return new URL(s[1])}catch{return}}async function qx(t,e,r=fetch){const a=await Yx(t,"oauth-protected-resource",r,{protocolVersion:e==null?void 0:e.protocolVersion,metadataUrl:e==null?void 0:e.resourceMetadataUrl});if(!a||a.status===404)throw new Error("Resource server does not implement OAuth 2.0 Protected Resource Metadata.");if(!a.ok)throw new Error(`HTTP ${a.status} trying to load well-known OAuth protected resource metadata.`);return Nx.parse(await a.json())}async function $f(t,e,r=fetch){try{return await r(t,{headers:e})}catch(a){if(a instanceof TypeError)return e?$f(t,void 0,r):void 0;throw a}}function Gx(t,e="",r={}){return e.endsWith("/")&&(e=e.slice(0,-1)),r.prependPathname?`${e}/.well-known/${t}`:`/.well-known/${t}${e}`}async function Zm(t,e,r=fetch){return await $f(t,{"MCP-Protocol-Version":e},r)}function Qx(t,e){return!t||t.status>=400&&t.status<500&&e!=="/"}async function Yx(t,e,r,a){var n,s;const o=new URL(t),i=(n=a==null?void 0:a.protocolVersion)!==null&&n!==void 0?n:vl;let l;if(a!=null&&a.metadataUrl)l=new URL(a.metadataUrl);else{const c=Gx(e,o.pathname);l=new URL(c,(s=a==null?void 0:a.metadataServerUrl)!==null&&s!==void 0?s:o),l.search=o.search}let u=await Zm(l,i,r);if(!(a!=null&&a.metadataUrl)&&Qx(u,o.pathname)){const c=new URL(`/.well-known/${e}`,o);u=await Zm(c,i,r)}return u}function Kx(t){const e=typeof t=="string"?new URL(t):t,r=e.pathname!=="/",a=[];if(!r)return a.push({url:new URL("/.well-known/oauth-authorization-server",e.origin),type:"oauth"}),a.push({url:new URL("/.well-known/openid-configuration",e.origin),type:"oidc"}),a;let n=e.pathname;return n.endsWith("/")&&(n=n.slice(0,-1)),a.push({url:new URL(`/.well-known/oauth-authorization-server${n}`,e.origin),type:"oauth"}),a.push({url:new URL("/.well-known/oauth-authorization-server",e.origin),type:"oauth"}),a.push({url:new URL(`/.well-known/openid-configuration${n}`,e.origin),type:"oidc"}),a.push({url:new URL(`${n}/.well-known/openid-configuration`,e.origin),type:"oidc"}),a}async function Zx(t,{fetchFn:e=fetch,protocolVersion:r=vl}={}){var a;const n={"MCP-Protocol-Version":r},s=Kx(t);for(const{url:o,type:i}of s){const l=await $f(o,n,e);if(l){if(!l.ok){if(l.status>=400&&l.status<500)continue;throw new Error(`HTTP ${l.status} trying to load ${i==="oauth"?"OAuth":"OpenID provider"} metadata from ${o}`)}if(i==="oauth")return ay.parse(await l.json());{const u=Cx.parse(await l.json());if(!(!((a=u.code_challenge_methods_supported)===null||a===void 0)&&a.includes("S256")))throw new Error(`Incompatible OIDC provider at ${o}: does not support S256 code challenge method required by MCP specification`);return u}}}}async function Xx(t,{metadata:e,clientInformation:r,redirectUrl:a,scope:n,state:s,resource:o}){const i="code",l="S256";let u;if(e){if(u=new URL(e.authorization_endpoint),!e.response_types_supported.includes(i))throw new Error(`Incompatible auth server: does not support response type ${i}`);if(!e.code_challenge_methods_supported||!e.code_challenge_methods_supported.includes(l))throw new Error(`Incompatible auth server: does not support code challenge method ${l}`)}else u=new URL("/authorize",t);const c=await Tx(),d=c.code_verifier,p=c.code_challenge;return u.searchParams.set("response_type",i),u.searchParams.set("client_id",r.client_id),u.searchParams.set("code_challenge",p),u.searchParams.set("code_challenge_method",l),u.searchParams.set("redirect_uri",String(a)),s&&u.searchParams.set("state",s),n&&u.searchParams.set("scope",n),n!=null&&n.includes("offline_access")&&u.searchParams.append("prompt","consent"),o&&u.searchParams.set("resource",o.href),{authorizationUrl:u,codeVerifier:d}}async function Jx(t,{metadata:e,clientInformation:r,authorizationCode:a,codeVerifier:n,redirectUri:s,resource:o,addClientAuthentication:i,fetchFn:l}){var u;const c="authorization_code",d=e!=null&&e.token_endpoint?new URL(e.token_endpoint):new URL("/token",t);if(e!=null&&e.grant_types_supported&&!e.grant_types_supported.includes(c))throw new Error(`Incompatible auth server: does not support grant type ${c}`);const p=new Headers({"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}),f=new URLSearchParams({grant_type:c,code:a,code_verifier:n,redirect_uri:String(s)});if(i)i(p,f,t,e);else{const v=(u=e==null?void 0:e.token_endpoint_auth_methods_supported)!==null&&u!==void 0?u:[],y=oy(r,v);iy(y,r,p,f)}o&&f.set("resource",o.href);const h=await(l??fetch)(d,{method:"POST",headers:p,body:f});if(!h.ok)throw await Uf(h);return sy.parse(await h.json())}async function eF(t,{metadata:e,clientInformation:r,refreshToken:a,resource:n,addClientAuthentication:s,fetchFn:o}){var i;const l="refresh_token";let u;if(e){if(u=new URL(e.token_endpoint),e.grant_types_supported&&!e.grant_types_supported.includes(l))throw new Error(`Incompatible auth server: does not support grant type ${l}`)}else u=new URL("/token",t);const c=new Headers({"Content-Type":"application/x-www-form-urlencoded"}),d=new URLSearchParams({grant_type:l,refresh_token:a});if(s)s(c,d,t,e);else{const f=(i=e==null?void 0:e.token_endpoint_auth_methods_supported)!==null&&i!==void 0?i:[],h=oy(r,f);iy(h,r,c,d)}n&&d.set("resource",n.href);const p=await(o??fetch)(u,{method:"POST",headers:c,body:d});if(!p.ok)throw await Uf(p);return sy.parse({refresh_token:a,...await p.json()})}async function tF(t,{metadata:e,clientMetadata:r,fetchFn:a}){let n;if(e){if(!e.registration_endpoint)throw new Error("Incompatible auth server: does not support dynamic client registration");n=new URL(e.registration_endpoint)}else n=new URL("/register",t);const s=await(a??fetch)(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!s.ok)throw await Uf(s);return Dx.parse(await s.json())}class Xm extends Error{constructor(e,r){super(e),this.name="ParseError",this.type=r.type,this.field=r.field,this.value=r.value,this.line=r.line}}function vu(t){}function rF(t){if(typeof t=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:e=vu,onError:r=vu,onRetry:a=vu,onComment:n}=t;let s="",o=!0,i,l="",u="";function c(v){const y=o?v.replace(/^\xEF\xBB\xBF/,""):v,[m,g]=nF(`${s}${y}`);for(const _ of m)d(_);s=g,o=!1}function d(v){if(v===""){f();return}if(v.startsWith(":")){n&&n(v.slice(v.startsWith(": ")?2:1));return}const y=v.indexOf(":");if(y!==-1){const m=v.slice(0,y),g=v[y+1]===" "?2:1,_=v.slice(y+g);p(m,_,v);return}p(v,"",v)}function p(v,y,m){switch(v){case"event":u=y;break;case"data":l=`${l}${y}
`;break;case"id":i=y.includes("\0")?void 0:y;break;case"retry":/^\d+$/.test(y)?a(parseInt(y,10)):r(new Xm(`Invalid \`retry\` value: "${y}"`,{type:"invalid-retry",value:y,line:m}));break;default:r(new Xm(`Unknown field "${v.length>20?`${v.slice(0,20)}…`:v}"`,{type:"unknown-field",field:v,value:y,line:m}));break}}function f(){l.length>0&&e({id:i,event:u||void 0,data:l.endsWith(`
`)?l.slice(0,-1):l}),i=void 0,l="",u=""}function h(v={}){s&&v.consume&&d(s),o=!0,i=void 0,l="",u="",s=""}return{feed:c,reset:h}}function nF(t){const e=[];let r="",a=0;for(;a<t.length;){const n=t.indexOf("\r",a),s=t.indexOf(`
`,a);let o=-1;if(n!==-1&&s!==-1?o=Math.min(n,s):n!==-1?n===t.length-1?o=-1:o=n:s!==-1&&(o=s),o===-1){r=t.slice(a);break}else{const i=t.slice(a,o);e.push(i),a=o+1,t[a-1]==="\r"&&t[a]===`
`&&a++}}return[e,r]}class aF extends TransformStream{constructor({onError:e,onRetry:r,onComment:a}={}){let n;super({start(s){n=rF({onEvent:o=>{s.enqueue(o)},onError(o){e==="terminate"?s.error(o):typeof e=="function"&&e(o)},onRetry:r,onComment:a})},transform(s){n.feed(s)}})}}const sF={initialReconnectionDelay:1e3,maxReconnectionDelay:3e4,reconnectionDelayGrowFactor:1.5,maxRetries:2};class gu extends Error{constructor(e,r){super(`Streamable HTTP error: ${r}`),this.code=e}}class oF{constructor(e,r){var a;this._url=e,this._resourceMetadataUrl=void 0,this._requestInit=r==null?void 0:r.requestInit,this._authProvider=r==null?void 0:r.authProvider,this._fetch=r==null?void 0:r.fetch,this._sessionId=r==null?void 0:r.sessionId,this._reconnectionOptions=(a=r==null?void 0:r.reconnectionOptions)!==null&&a!==void 0?a:sF}async _authThenStart(){var e;if(!this._authProvider)throw new vs("No auth provider");let r;try{r=await mu(this._authProvider,{serverUrl:this._url,resourceMetadataUrl:this._resourceMetadataUrl,fetchFn:this._fetch})}catch(a){throw(e=this.onerror)===null||e===void 0||e.call(this,a),a}if(r!=="AUTHORIZED")throw new vs;return await this._startOrAuthSse({resumptionToken:void 0})}async _commonHeaders(){var e;const r={};if(this._authProvider){const n=await this._authProvider.tokens();n&&(r.Authorization=`Bearer ${n.access_token}`)}this._sessionId&&(r["mcp-session-id"]=this._sessionId),this._protocolVersion&&(r["mcp-protocol-version"]=this._protocolVersion);const a=this._normalizeHeaders((e=this._requestInit)===null||e===void 0?void 0:e.headers);return new Headers({...r,...a})}async _startOrAuthSse(e){var r,a,n;const{resumptionToken:s}=e;try{const o=await this._commonHeaders();o.set("Accept","text/event-stream"),s&&o.set("last-event-id",s);const i=await((r=this._fetch)!==null&&r!==void 0?r:fetch)(this._url,{method:"GET",headers:o,signal:(a=this._abortController)===null||a===void 0?void 0:a.signal});if(!i.ok){if(i.status===401&&this._authProvider)return await this._authThenStart();if(i.status===405)return;throw new gu(i.status,`Failed to open SSE stream: ${i.statusText}`)}this._handleSseStream(i.body,e,!0)}catch(o){throw(n=this.onerror)===null||n===void 0||n.call(this,o),o}}_getNextReconnectionDelay(e){const r=this._reconnectionOptions.initialReconnectionDelay,a=this._reconnectionOptions.reconnectionDelayGrowFactor,n=this._reconnectionOptions.maxReconnectionDelay;return Math.min(r*Math.pow(a,e),n)}_normalizeHeaders(e){return e?e instanceof Headers?Object.fromEntries(e.entries()):Array.isArray(e)?Object.fromEntries(e):{...e}:{}}_scheduleReconnection(e,r=0){var a;const n=this._reconnectionOptions.maxRetries;if(n>0&&r>=n){(a=this.onerror)===null||a===void 0||a.call(this,new Error(`Maximum reconnection attempts (${n}) exceeded.`));return}const s=this._getNextReconnectionDelay(r);setTimeout(()=>{this._startOrAuthSse(e).catch(o=>{var i;(i=this.onerror)===null||i===void 0||i.call(this,new Error(`Failed to reconnect SSE stream: ${o instanceof Error?o.message:String(o)}`)),this._scheduleReconnection(e,r+1)})},s)}_handleSseStream(e,r,a){if(!e)return;const{onresumptiontoken:n,replayMessageId:s}=r;let o;(async()=>{var l,u,c,d;try{const p=e.pipeThrough(new TextDecoderStream).pipeThrough(new aF).getReader();for(;;){const{value:f,done:h}=await p.read();if(h)break;if(f.id&&(o=f.id,n==null||n(f.id)),!f.event||f.event==="message")try{const v=cu.parse(JSON.parse(f.data));s!==void 0&&Tc(v)&&(v.id=s),(l=this.onmessage)===null||l===void 0||l.call(this,v)}catch(v){(u=this.onerror)===null||u===void 0||u.call(this,v)}}}catch(p){if((c=this.onerror)===null||c===void 0||c.call(this,new Error(`SSE stream disconnected: ${p}`)),a&&this._abortController&&!this._abortController.signal.aborted)try{this._scheduleReconnection({resumptionToken:o,onresumptiontoken:n,replayMessageId:s},0)}catch(f){(d=this.onerror)===null||d===void 0||d.call(this,new Error(`Failed to reconnect: ${f instanceof Error?f.message:String(f)}`))}}})()}async start(){if(this._abortController)throw new Error("StreamableHTTPClientTransport already started! If using Client class, note that connect() calls start() automatically.");this._abortController=new AbortController}async finishAuth(e){if(!this._authProvider)throw new vs("No auth provider");if(await mu(this._authProvider,{serverUrl:this._url,authorizationCode:e,resourceMetadataUrl:this._resourceMetadataUrl,fetchFn:this._fetch})!=="AUTHORIZED")throw new vs("Failed to authorize")}async close(){var e,r;(e=this._abortController)===null||e===void 0||e.abort(),(r=this.onclose)===null||r===void 0||r.call(this)}async send(e,r){var a,n,s,o;try{const{resumptionToken:i,onresumptiontoken:l}=r||{};if(i){this._startOrAuthSse({resumptionToken:i,replayMessageId:c_(e)?e.id:void 0}).catch(y=>{var m;return(m=this.onerror)===null||m===void 0?void 0:m.call(this,y)});return}const u=await this._commonHeaders();u.set("content-type","application/json"),u.set("accept","application/json, text/event-stream");const c={...this._requestInit,method:"POST",headers:u,body:JSON.stringify(e),signal:(a=this._abortController)===null||a===void 0?void 0:a.signal},d=await((n=this._fetch)!==null&&n!==void 0?n:fetch)(this._url,c),p=d.headers.get("mcp-session-id");if(p&&(this._sessionId=p),!d.ok){if(d.status===401&&this._authProvider){if(this._resourceMetadataUrl=Vx(d),await mu(this._authProvider,{serverUrl:this._url,resourceMetadataUrl:this._resourceMetadataUrl,fetchFn:this._fetch})!=="AUTHORIZED")throw new vs;return this.send(e)}const y=await d.text().catch(()=>null);throw new Error(`Error POSTing to endpoint (HTTP ${d.status}): ${y}`)}if(d.status===202){f1(e)&&this._startOrAuthSse({resumptionToken:void 0}).catch(y=>{var m;return(m=this.onerror)===null||m===void 0?void 0:m.call(this,y)});return}const h=(Array.isArray(e)?e:[e]).filter(y=>"method"in y&&"id"in y&&y.id!==void 0).length>0,v=d.headers.get("content-type");if(h)if(v!=null&&v.includes("text/event-stream"))this._handleSseStream(d.body,{onresumptiontoken:l},!1);else if(v!=null&&v.includes("application/json")){const y=await d.json(),m=Array.isArray(y)?y.map(g=>cu.parse(g)):[cu.parse(y)];for(const g of m)(s=this.onmessage)===null||s===void 0||s.call(this,g)}else throw new gu(-1,`Unexpected content type: ${v}`)}catch(i){throw(o=this.onerror)===null||o===void 0||o.call(this,i),i}}get sessionId(){return this._sessionId}async terminateSession(){var e,r,a;if(this._sessionId)try{const n=await this._commonHeaders(),s={...this._requestInit,method:"DELETE",headers:n,signal:(e=this._abortController)===null||e===void 0?void 0:e.signal},o=await((r=this._fetch)!==null&&r!==void 0?r:fetch)(this._url,s);if(!o.ok&&o.status!==405)throw new gu(o.status,`Failed to terminate session: ${o.statusText}`);this._sessionId=void 0}catch(n){throw(a=this.onerror)===null||a===void 0||a.call(this,n),n}}setProtocolVersion(e){this._protocolVersion=e}get protocolVersion(){return this._protocolVersion}}const ly=ce.createContext({client:null,transport:null,isConnected:!1,connect:async()=>{},disconnect:async()=>{},listTools:async()=>({}),listPrompts:async()=>({}),getPrompt:async()=>({}),listResources:async()=>({}),readResource:async()=>({}),callTool:async()=>({})}),iF=({children:t})=>{var x,F;const[e,r]=ce.useState(null),[a,n]=ce.useState(null),[s,o]=ce.useState(!1),[i,l]=ce.useState(null),[u,c]=ce.useState(null),[d,p]=ce.useState(void 0),f=async()=>{if(!e)try{const M=new xx({name:"wllama-client",version:"1.0.0"},{capabilities:{tools:{list:!0,call:!0},elicitation:{}}});M.onerror=L=>{console.error("MCP Client error:",L)};const P=new oF(new URL(wE),{requestInit:{mode:"cors",credentials:"omit"},fetch:typeof window<"u"&&window.fetch?window.fetch.bind(window):void 0});P.onclose=()=>{o(!1),p(void 0)},P.onerror=L=>console.error("Transport error",L),M.setNotificationHandler(x_,L=>{console.log("MCP notification:",L.params)}),M.setNotificationHandler(E_,async L=>{var z;try{const G=await M.request({method:"resources/list",params:{}},Ui);console.log("Resources changed, count:",((z=G.resources)==null?void 0:z.length)??0)}catch(G){console.warn("Failed to list resources after notification",G)}}),M.setRequestHandler(F_,async L=>await new Promise(z=>{l(L),c(()=>G=>{z(G),l(null),c(null)})})),await M.connect(P),r(M),n(P),o(!0),p(P.sessionId)}catch(M){console.error("Failed to connect to MCP server:",M),r(null),n(null),o(!1)}},h=async()=>{if(a)try{await a.close(),r(null),n(null),o(!1)}catch(M){console.error("Error disconnecting from MCP server:",M)}};ce.useEffect(()=>(f(),()=>{h()}),[]);const v=async()=>{if(!e)throw new Error("Not connected");return e.request({method:"tools/list",params:{}},Af)},y=async()=>{if(!e)throw new Error("Not connected");return e.request({method:"prompts/list",params:{}},kf)},m=async(M,P={})=>{if(!e)throw new Error("Not connected");return e.request({method:"prompts/get",params:{name:M,arguments:P}},Mf)},g=async()=>{if(!e)throw new Error("Not connected");return e.request({method:"resources/list",params:{}},Ui)},_=async M=>{if(!e)throw new Error("Not connected");return e.request({method:"resources/read",params:{uri:M}},bf)},S=async(M,P={})=>{if(!e)throw new Error("Not connected");return e.request({method:"tools/call",params:{name:M,arguments:P}},Sl)};return b.jsxs(ly.Provider,{value:{client:e,transport:a,isConnected:s,connect:f,disconnect:h,listTools:v,listPrompts:y,getPrompt:m,listResources:g,readResource:_,callTool:S,sessionId:d},children:[t,i&&u?b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/40 z-50",children:b.jsxs("div",{className:"bg-white rounded p-4 max-w-lg w-full",children:[b.jsx("div",{className:"font-bold mb-2",children:((x=i.params)==null?void 0:x.message)||"Request information"}),b.jsx(uF,{schema:(F=i.params)==null?void 0:F.requestedSchema,onSubmit:M=>{u({action:"accept",content:M})},onCancel:()=>u({action:"cancel"})})]})}):null]})},lF=()=>ce.useContext(ly);function uF({schema:t,onSubmit:e,onCancel:r}){const a=(t==null?void 0:t.properties)||{},n=(t==null?void 0:t.required)||[],[s,o]=ce.useState(()=>{const l={};for(const u of Object.keys(a))l[u]=a[u].default??"";return l}),i=()=>{try{const c=new ny().compile(t||{})(s);e(s)}catch{e(s)}};return b.jsxs("form",{onSubmit:l=>{l.preventDefault(),i()},children:[Object.entries(a).map(([l,u])=>b.jsxs("div",{className:"mb-3",children:[b.jsxs("label",{className:"block font-semibold",children:[u.title||l,n.includes(l)?" *":""]}),b.jsx("input",{className:"w-full border rounded p-2",value:s[l]??"",onChange:c=>o(d=>({...d,[l]:c.target.value}))}),u.description&&b.jsx("div",{className:"text-sm text-gray-600",children:u.description})]},l)),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{type:"button",className:"btn btn-ghost",onClick:r,children:"Cancel"}),b.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})}const uy=1,cy={erro_evt:{name:"erro_evt",structName:"glue_msg_error",className:"GlueMsgError",fields:[{type:"str",name:"message",isNullable:!1}]},load_req:{name:"load_req",structName:"glue_msg_load_req",className:"GlueMsgLoadReq",fields:[{type:"arr_str",name:"model_paths",isNullable:!1},{type:"bool",name:"n_ctx_auto",isNullable:!1},{type:"bool",name:"use_mmap",isNullable:!1},{type:"bool",name:"use_mlock",isNullable:!1},{type:"int",name:"n_gpu_layers",isNullable:!1},{type:"int",name:"seed",isNullable:!1},{type:"int",name:"n_ctx",isNullable:!1},{type:"int",name:"n_threads",isNullable:!1},{type:"bool",name:"embeddings",isNullable:!0},{type:"bool",name:"offload_kqv",isNullable:!0},{type:"int",name:"n_batch",isNullable:!0},{type:"int",name:"n_seq_max",isNullable:!0},{type:"str",name:"pooling_type",isNullable:!0},{type:"str",name:"rope_scaling_type",isNullable:!0},{type:"float",name:"rope_freq_base",isNullable:!0},{type:"float",name:"rope_freq_scale",isNullable:!0},{type:"float",name:"yarn_ext_factor",isNullable:!0},{type:"float",name:"yarn_attn_factor",isNullable:!0},{type:"float",name:"yarn_beta_fast",isNullable:!0},{type:"float",name:"yarn_beta_slow",isNullable:!0},{type:"int",name:"yarn_orig_ctx",isNullable:!0},{type:"str",name:"cache_type_k",isNullable:!0},{type:"str",name:"cache_type_v",isNullable:!0},{type:"bool",name:"flash_attn",isNullable:!0},{type:"bool",name:"swa_full",isNullable:!0}]},load_res:{name:"load_res",structName:"glue_msg_load_res",className:"GlueMsgLoadRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"int",name:"n_ctx",isNullable:!1},{type:"int",name:"n_batch",isNullable:!1},{type:"int",name:"n_ubatch",isNullable:!1},{type:"int",name:"n_vocab",isNullable:!1},{type:"int",name:"n_ctx_train",isNullable:!1},{type:"int",name:"n_embd",isNullable:!1},{type:"int",name:"n_layer",isNullable:!1},{type:"arr_str",name:"metadata_key",isNullable:!1},{type:"arr_str",name:"metadata_val",isNullable:!1},{type:"int",name:"token_bos",isNullable:!1},{type:"int",name:"token_eos",isNullable:!1},{type:"int",name:"token_eot",isNullable:!1},{type:"arr_int",name:"list_tokens_eog",isNullable:!1},{type:"bool",name:"add_bos_token",isNullable:!1},{type:"bool",name:"add_eos_token",isNullable:!1},{type:"bool",name:"has_encoder",isNullable:!1},{type:"int",name:"token_decoder_start",isNullable:!1}]},opti_req:{name:"opti_req",structName:"glue_msg_set_options_req",className:"GlueMsgSetOptionsReq",fields:[{type:"bool",name:"embeddings",isNullable:!1}]},opti_res:{name:"opti_res",structName:"glue_msg_set_options_res",className:"GlueMsgSetOptionsRes",fields:[{type:"bool",name:"success",isNullable:!1}]},sint_req:{name:"sint_req",structName:"glue_msg_sampling_init_req",className:"GlueMsgSamplingInitReq",fields:[{type:"int",name:"mirostat",isNullable:!0},{type:"float",name:"mirostat_tau",isNullable:!0},{type:"float",name:"mirostat_eta",isNullable:!0},{type:"float",name:"temp",isNullable:!0},{type:"float",name:"top_p",isNullable:!0},{type:"int",name:"top_k",isNullable:!0},{type:"int",name:"penalty_last_n",isNullable:!0},{type:"float",name:"penalty_repeat",isNullable:!0},{type:"float",name:"penalty_freq",isNullable:!0},{type:"float",name:"penalty_present",isNullable:!0},{type:"float",name:"dynatemp_range",isNullable:!0},{type:"float",name:"dynatemp_exponent",isNullable:!0},{type:"arr_str",name:"samplers_sequence",isNullable:!0},{type:"str",name:"grammar",isNullable:!0},{type:"int",name:"n_prev",isNullable:!0},{type:"int",name:"n_probs",isNullable:!0},{type:"float",name:"min_p",isNullable:!0},{type:"float",name:"typical_p",isNullable:!0},{type:"float",name:"typ_p",isNullable:!0},{type:"arr_int",name:"logit_bias_toks",isNullable:!0},{type:"arr_float",name:"logit_bias_vals",isNullable:!0},{type:"arr_int",name:"tokens",isNullable:!0}]},sint_res:{name:"sint_res",structName:"glue_msg_sampling_init_res",className:"GlueMsgSamplingInitRes",fields:[{type:"bool",name:"success",isNullable:!1}]},gvoc_req:{name:"gvoc_req",structName:"glue_msg_get_vocab_req",className:"GlueMsgGetVocabReq",fields:[]},gvoc_res:{name:"gvoc_res",structName:"glue_msg_get_vocab_res",className:"GlueMsgGetVocabRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"arr_raw",name:"vocab",isNullable:!1}]},lkup_req:{name:"lkup_req",structName:"glue_msg_lookup_token_req",className:"GlueMsgLookupTokenReq",fields:[{type:"str",name:"piece",isNullable:!1}]},lkup_res:{name:"lkup_res",structName:"glue_msg_lookup_token_res",className:"GlueMsgLookupTokenRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"int",name:"token",isNullable:!1}]},tokn_req:{name:"tokn_req",structName:"glue_msg_tokenize_req",className:"GlueMsgTokenizeReq",fields:[{type:"str",name:"text",isNullable:!1},{type:"bool",name:"special",isNullable:!1}]},tokn_res:{name:"tokn_res",structName:"glue_msg_tokenize_res",className:"GlueMsgTokenizeRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"arr_int",name:"tokens",isNullable:!1}]},dtkn_req:{name:"dtkn_req",structName:"glue_msg_detokenize_req",className:"GlueMsgDetokenizeReq",fields:[{type:"arr_int",name:"tokens",isNullable:!1}]},dtkn_res:{name:"dtkn_res",structName:"glue_msg_detokenize_res",className:"GlueMsgDetokenizeRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"raw",name:"buffer",isNullable:!1}]},deco_req:{name:"deco_req",structName:"glue_msg_decode_req",className:"GlueMsgDecodeReq",fields:[{type:"arr_int",name:"tokens",isNullable:!1},{type:"bool",name:"skip_logits",isNullable:!1}]},deco_res:{name:"deco_res",structName:"glue_msg_decode_res",className:"GlueMsgDecodeRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"str",name:"message",isNullable:!1},{type:"int",name:"n_past",isNullable:!1}]},enco_req:{name:"enco_req",structName:"glue_msg_encode_req",className:"GlueMsgEncodeReq",fields:[{type:"arr_int",name:"tokens",isNullable:!1}]},enco_res:{name:"enco_res",structName:"glue_msg_encode_res",className:"GlueMsgEncodeRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"str",name:"message",isNullable:!1},{type:"int",name:"n_past",isNullable:!1}]},ssam_req:{name:"ssam_req",structName:"glue_msg_sampling_sample_req",className:"GlueMsgSamplingSampleReq",fields:[]},ssam_res:{name:"ssam_res",structName:"glue_msg_sampling_sample_res",className:"GlueMsgSamplingSampleRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"raw",name:"piece",isNullable:!1},{type:"int",name:"token",isNullable:!1}]},sacc_req:{name:"sacc_req",structName:"glue_msg_sampling_accept_req",className:"GlueMsgSamplingAcceptReq",fields:[{type:"arr_int",name:"tokens",isNullable:!1}]},sacc_res:{name:"sacc_res",structName:"glue_msg_sampling_accept_res",className:"GlueMsgSamplingAcceptRes",fields:[{type:"bool",name:"success",isNullable:!1}]},glog_req:{name:"glog_req",structName:"glue_msg_get_logits_req",className:"GlueMsgGetLogitsReq",fields:[{type:"int",name:"top_k",isNullable:!1}]},glog_res:{name:"glog_res",structName:"glue_msg_get_logits_res",className:"GlueMsgGetLogitsRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"arr_int",name:"tokens",isNullable:!1},{type:"arr_float",name:"probs",isNullable:!1}]},gemb_req:{name:"gemb_req",structName:"glue_msg_get_embeddings_req",className:"GlueMsgGetEmbeddingsReq",fields:[{type:"arr_int",name:"tokens",isNullable:!1}]},gemb_res:{name:"gemb_res",structName:"glue_msg_get_embeddings_res",className:"GlueMsgGetEmbeddingsRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"str",name:"message",isNullable:!1},{type:"arr_float",name:"embeddings",isNullable:!1}]},kvcr_req:{name:"kvcr_req",structName:"glue_msg_get_kv_remove_req",className:"GlueMsgGetKvRemoveReq",fields:[{type:"int",name:"n_keep",isNullable:!1},{type:"int",name:"n_discard",isNullable:!1}]},kvcr_res:{name:"kvcr_res",structName:"glue_msg_get_kv_remove_res",className:"GlueMsgGetKvRemoveRes",fields:[{type:"int",name:"n_past",isNullable:!1},{type:"bool",name:"success",isNullable:!1}]},kvcc_req:{name:"kvcc_req",structName:"glue_msg_get_kv_clear_req",className:"GlueMsgGetKvClearReq",fields:[]},kvcc_res:{name:"kvcc_res",structName:"glue_msg_get_kv_clear_res",className:"GlueMsgGetKvClearRes",fields:[{type:"int",name:"n_past",isNullable:!1},{type:"bool",name:"success",isNullable:!1}]},sesa_req:{name:"sesa_req",structName:"glue_msg_session_save_req",className:"GlueMsgSessionSaveReq",fields:[{type:"str",name:"session_path",isNullable:!1}]},sesa_res:{name:"sesa_res",structName:"glue_msg_session_save_res",className:"GlueMsgSessionSaveRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"arr_int",name:"tokens",isNullable:!1}]},sesl_req:{name:"sesl_req",structName:"glue_msg_session_load_req",className:"GlueMsgSessionLoadReq",fields:[{type:"str",name:"session_path",isNullable:!1},{type:"arr_int",name:"tokens",isNullable:!1}]},sesl_res:{name:"sesl_res",structName:"glue_msg_session_load_res",className:"GlueMsgSessionLoadRes",fields:[{type:"bool",name:"success",isNullable:!1}]},stat_req:{name:"stat_req",structName:"glue_msg_status_req",className:"GlueMsgStatusReq",fields:[]},stat_res:{name:"stat_res",structName:"glue_msg_status_res",className:"GlueMsgStatusRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"arr_int",name:"tokens",isNullable:!1}]},tben_req:{name:"tben_req",structName:"glue_msg_test_benchmark_req",className:"GlueMsgTestBenchmarkReq",fields:[{type:"str",name:"type",isNullable:!1},{type:"int",name:"n_samples",isNullable:!1}]},tben_res:{name:"tben_res",structName:"glue_msg_test_benchmark_res",className:"GlueMsgTestBenchmarkRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"str",name:"message",isNullable:!1},{type:"int",name:"t_ms",isNullable:!1}]},tper_req:{name:"tper_req",structName:"glue_msg_test_perplexity_req",className:"GlueMsgTestPerplexityReq",fields:[{type:"arr_int",name:"tokens",isNullable:!1}]},tper_res:{name:"tper_res",structName:"glue_msg_test_perplexity_res",className:"GlueMsgTestPerplexityRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"str",name:"message",isNullable:!1},{type:"float",name:"ppl",isNullable:!1},{type:"float",name:"nll",isNullable:!1},{type:"float",name:"cross_entropy",isNullable:!1},{type:"int",name:"n_tokens",isNullable:!1},{type:"int",name:"t_ms",isNullable:!1}]},cfmt_req:{name:"cfmt_req",structName:"glue_msg_chat_format_req",className:"GlueMsgChatFormatReq",fields:[{type:"str",name:"tmpl",isNullable:!0},{type:"bool",name:"add_ass",isNullable:!0},{type:"arr_str",name:"roles",isNullable:!1},{type:"arr_str",name:"contents",isNullable:!1}]},cfmt_res:{name:"cfmt_res",structName:"glue_msg_chat_format_res",className:"GlueMsgChatFormatRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"str",name:"message",isNullable:!1},{type:"str",name:"formatted_chat",isNullable:!1}]}},Es=new Uint8Array([71,76,85,69]),Hf=0,cF=1,dF=2,fF=3,pF=4,mF=5,hF=6,vF=7,gF=8,_F=9,yF=10,dy={str:pF,int:dF,float:fF,bool:cF,raw:mF,arr_str:_F,arr_int:vF,arr_float:gF,arr_bool:hF,arr_raw:yF,null:Hf};function wF(t){let e=0;const r=new DataView(t.buffer),a=()=>{const m=r.getUint32(e,!0);return e+=4,m},n=()=>{const m=r.getInt32(e,!0);return e+=4,m},s=()=>{const m=r.getFloat32(e,!0);return e+=4,m},o=()=>a()!==0,i=m=>{const g=m??a(),_=new TextDecoder().decode(t.slice(e,e+g));return e+=g,_},l=()=>{const m=a(),g=t.slice(e,e+m);return e+=m,g},u=m=>{const g=a(),_=new Array(g);for(let S=0;S<g;S++)_[S]=m();return _},c=()=>null,d=m=>{switch(m.type){case"str":return i();case"int":return n();case"float":return s();case"bool":return o();case"raw":return l();case"arr_str":return u(i);case"arr_int":return u(n);case"arr_float":return u(s);case"arr_bool":return u(o);case"arr_raw":return u(l);case"null":return c()}},p=t[0]===Es[0]&&t[1]===Es[1]&&t[2]===Es[2]&&t[3]===Es[3];if(e+=4,!p)throw new Error("Invalid magic number");if(a()!==uy)throw new Error("Invalid version number");const h=i(8),v=cy[h];if(!v)throw new Error(`Unknown message name: ${h}`);const y={_name:h};for(const m of v.fields){const g=a();if(g===Hf){if(!m.isNullable)throw new Error(`${h}: Expect field ${m.name} to be non-nullable`);y[m.name]=null;continue}if(g!==dy[m.type])throw new Error(`${h}: Expect field ${m.name} to have type ${m.type}`);y[m.name]=d(m)}return y}function SF(t){const e=cy[t._name];if(!e)throw new Error(`Unknown message name: ${t._name}`);const r=[],a=f=>{const h=new ArrayBuffer(4);new DataView(h).setUint32(0,f,!0),r.push(new Uint8Array(h))},n=f=>{const h=new ArrayBuffer(4);new DataView(h).setInt32(0,f,!0),r.push(new Uint8Array(h))},s=f=>{const h=new ArrayBuffer(4);new DataView(h).setFloat32(0,f,!0),r.push(new Uint8Array(h))},o=f=>{a(f?1:0)},i=f=>{const h=new TextEncoder().encode(f);a(h.byteLength),r.push(h)},l=f=>{a(f.byteLength),r.push(f)},u=(f,h)=>{a(f.length);for(const v of f)h(v)};r.push(Es),a(uy);{const f=new TextEncoder().encode(t._name);r.push(f)}for(const f of e.fields){const h=t[f.name];if(!f.isNullable&&h==null)throw new Error(`${t._name}: Expect field ${f.name} to be non-nullable`);if(h==null){a(Hf);continue}switch(a(dy[f.type]),f.type){case"str":i(h);break;case"int":n(h);break;case"float":s(h);break;case"bool":o(h);break;case"raw":l(h);break;case"arr_str":u(h,i);break;case"arr_int":u(h,n);break;case"arr_float":u(h,s);break;case"arr_bool":u(h,o);break;case"arr_raw":u(h,l);break}}const c=r.reduce((f,h)=>f+h.byteLength,0),d=new Uint8Array(c);let p=0;for(const f of r)d.set(f,p),p+=f.byteLength;return d}const EF=t=>{const e=t.reduce((a,n)=>a+n.length,0),r=new Uint8Array(e);r.set(t[0],0);for(let a=1;a<t.length;a++)r.set(t[a],t[a-1].length);return r},bF=new TextDecoder,_u=t=>bF.decode(t),Jm=/-(\d{5})-of-(\d{5})\.gguf(?:\?.*)?$/,eh=t=>{const e=t.match(Jm);return e?{baseURL:t.replace(Jm,""),current:parseInt(e[1]),total:parseInt(e[2])}:{baseURL:t,current:1,total:1}},kF=t=>{t.every(r=>!!r.name)&&t.length>1&&t.sort((a,n)=>{const s=eh(a.name),o=eh(n.name);return s.current-o.current})},th=t=>new URL(t,document.baseURI).href,yu=t=>t.reduce((e,r)=>e+r,0),fy=t=>!!(t!=null&&t.startsWith),xF=()=>(async t=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(t)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),FF=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),PF=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),MF=async()=>{if(!await FF())throw new Error("WebAssembly runtime does not support exception handling");if(!await PF())throw new Error("WebAssembly runtime does not support SIMD")},AF=/^.*\.gguf(?:\?.*)?$/,Bf=t=>AF.test(t),py=()=>!!navigator.userAgent.match(/Version\/([0-9\._]+).*Mobile.*Safari.*/),Wf=t=>{const e=URL.createObjectURL(fy(t)?new Blob([t],{type:"text/javascript"}):t);return new Worker(e,{type:"module"})},TF=t=>(...e)=>{let r=[],a;return r.push(new Promise(n=>{a=n})),t(...e,(n,s)=>{a([n,s]),r.push(new Promise(o=>{a=o}))}),async function*(){let n;for(let s=0,o=!1;!o;s++)[n,o]=await r[s],delete r[s],n!==void 0&&(yield n)}()},NF="b1-4c9f0bb",RF=`// Start the main llama.cpp
let wllamaMalloc;
let wllamaStart;
let wllamaAction;
let wllamaExit;
let wllamaDebug;

let Module = null;

//////////////////////////////////////////////////////////////
// UTILS
//////////////////////////////////////////////////////////////

// send message back to main thread
const msg = (data, transfer) => postMessage(data, transfer);

// Convert CPP log into JS log
const cppLogToJSLog = (line) => {
  const matched = line.match(/@@(DEBUG|INFO|WARN|ERROR)@@(.*)/);
  return !!matched
    ? {
        level: (matched[1] === 'INFO' ? 'debug' : matched[1]).toLowerCase(),
        text: matched[2],
      }
    : { level: 'log', text: line };
};

// Get module config that forwards stdout/err to main thread
const getWModuleConfig = (_argMainScriptBlob) => {
  var pathConfig = RUN_OPTIONS.pathConfig;
  var pthreadPoolSize = RUN_OPTIONS.nbThread;
  var argMainScriptBlob = _argMainScriptBlob;

  if (!pathConfig['wllama.wasm']) {
    throw new Error('"wllama.wasm" is missing in pathConfig');
  }
  return {
    noInitialRun: true,
    print: function (text) {
      if (arguments.length > 1)
        text = Array.prototype.slice.call(arguments).join(' ');
      msg({ verb: 'console.log', args: [text] });
    },
    printErr: function (text) {
      if (arguments.length > 1)
        text = Array.prototype.slice.call(arguments).join(' ');
      const logLine = cppLogToJSLog(text);
      msg({ verb: 'console.' + logLine.level, args: [logLine.text] });
    },
    locateFile: function (filename, basePath) {
      const p = pathConfig[filename];
      const truncate = (str) =>
        str.length > 128 ? \`\${str.substr(0, 128)}...\` : str;
      if (filename.match(/wllama\\.worker\\.js/)) {
        msg({
          verb: 'console.error',
          args: [
            '"wllama.worker.js" is removed from v2.2.1. Hint: make sure to clear browser\\'s cache.',
          ],
        });
      } else {
        msg({
          verb: 'console.debug',
          args: [\`Loading "\${filename}" from "\${truncate(p)}"\`],
        });
        return p;
      }
    },
    mainScriptUrlOrBlob: argMainScriptBlob,
    pthreadPoolSize,
    wasmMemory: pthreadPoolSize > 1 ? getWasmMemory() : null,
    onAbort: function (text) {
      msg({ verb: 'signal.abort', args: [text] });
    },
  };
};

// Get the memory to be used by wasm. (Only used in multi-thread mode)
// Because we have a weird OOM issue on iOS, we need to try some values
// See: https://github.com/emscripten-core/emscripten/issues/19144
//      https://github.com/godotengine/godot/issues/70621
const getWasmMemory = () => {
  let minBytes = 128 * 1024 * 1024;
  let maxBytes = 4096 * 1024 * 1024;
  let stepBytes = 128 * 1024 * 1024;
  while (maxBytes > minBytes) {
    try {
      const wasmMemory = new WebAssembly.Memory({
        initial: minBytes / 65536,
        maximum: maxBytes / 65536,
        shared: true,
      });
      return wasmMemory;
    } catch (e) {
      maxBytes -= stepBytes;
      continue; // retry
    }
  }
  throw new Error('Cannot allocate WebAssembly.Memory');
};

//////////////////////////////////////////////////////////////
// MEMFS PATCH
//////////////////////////////////////////////////////////////

/**
 * By default, emscripten uses memfs. The way it works is by
 * allocating new Uint8Array in javascript heap. This is not good
 * because it requires files to be copied to wasm heap each time
 * a file is read.
 *
 * HeapFS is an alternative, which resolves this problem by
 * allocating space for file directly inside wasm heap. This
 * allows us to mmap without doing any copy.
 *
 * For llama.cpp, this is great because we use MAP_SHARED
 *
 * Ref: https://github.com/ngxson/wllama/pull/39
 * Ref: https://github.com/emscripten-core/emscripten/blob/main/src/library_memfs.js
 *
 * Note 29/05/2024 @ngxson
 * Due to ftell() being limited to MAX_LONG, we cannot load files bigger than 2^31 bytes (or 2GB)
 * Ref: https://github.com/emscripten-core/emscripten/blob/main/system/lib/libc/musl/src/stdio/ftell.c
 */

const fsNameToFile = {}; // map Name => File
const fsIdToFile = {}; // map ID => File
let currFileId = 0;

// Patch and redirect memfs calls to wllama
const patchMEMFS = () => {
  const m = Module;
  // save functions
  m.MEMFS.stream_ops._read = m.MEMFS.stream_ops.read;
  m.MEMFS.stream_ops._write = m.MEMFS.stream_ops.write;
  m.MEMFS.stream_ops._llseek = m.MEMFS.stream_ops.llseek;
  m.MEMFS.stream_ops._allocate = m.MEMFS.stream_ops.allocate;
  m.MEMFS.stream_ops._mmap = m.MEMFS.stream_ops.mmap;
  m.MEMFS.stream_ops._msync = m.MEMFS.stream_ops.msync;

  const patchStream = (stream) => {
    const name = stream.node.name;
    if (fsNameToFile[name]) {
      const f = fsNameToFile[name];
      stream.node.contents = m.HEAPU8.subarray(f.ptr, f.ptr + f.size);
      stream.node.usedBytes = f.size;
    }
  };

  // replace "read" functions
  m.MEMFS.stream_ops.read = function (
    stream,
    buffer,
    offset,
    length,
    position
  ) {
    patchStream(stream);
    return m.MEMFS.stream_ops._read(stream, buffer, offset, length, position);
  };
  m.MEMFS.ops_table.file.stream.read = m.MEMFS.stream_ops.read;

  // replace "llseek" functions
  m.MEMFS.stream_ops.llseek = function (stream, offset, whence) {
    patchStream(stream);
    return m.MEMFS.stream_ops._llseek(stream, offset, whence);
  };
  m.MEMFS.ops_table.file.stream.llseek = m.MEMFS.stream_ops.llseek;

  // replace "mmap" functions
  m.MEMFS.stream_ops.mmap = function (stream, length, position, prot, flags) {
    patchStream(stream);
    const name = stream.node.name;
    if (fsNameToFile[name]) {
      const f = fsNameToFile[name];
      return {
        ptr: f.ptr + position,
        allocated: false,
      };
    } else {
      return m.MEMFS.stream_ops._mmap(stream, length, position, prot, flags);
    }
  };
  m.MEMFS.ops_table.file.stream.mmap = m.MEMFS.stream_ops.mmap;

  // mount FS
  m.FS.mkdir('/models');
  m.FS.mount(m.MEMFS, { root: '.' }, '/models');
};

// Allocate a new file in wllama heapfs, returns file ID
const heapfsAlloc = (name, size) => {
  if (size < 1) {
    throw new Error('File size must be bigger than 0');
  }
  const m = Module;
  const ptr = m.mmapAlloc(size);
  const file = {
    ptr: ptr,
    size: size,
    id: currFileId++,
  };
  fsIdToFile[file.id] = file;
  fsNameToFile[name] = file;
  return file.id;
};

// Add new file to wllama heapfs, return number of written bytes
const heapfsWrite = (id, buffer, offset) => {
  const m = Module;
  if (fsIdToFile[id]) {
    const { ptr, size } = fsIdToFile[id];
    const afterWriteByte = offset + buffer.byteLength;
    if (afterWriteByte > size) {
      throw new Error(
        \`File ID \${id} write out of bound, afterWriteByte = \${afterWriteByte} while size = \${size}\`
      );
    }
    m.HEAPU8.set(buffer, ptr + offset);
    return buffer.byteLength;
  } else {
    throw new Error(\`File ID \${id} not found in heapfs\`);
  }
};

//////////////////////////////////////////////////////////////
// MAIN CODE
//////////////////////////////////////////////////////////////

const callWrapper = (name, ret, args) => {
  const fn = Module.cwrap(name, ret, args);
  return async (action, req) => {
    let result;
    try {
      if (args.length === 2) {
        result = await fn(action, req);
      } else {
        result = fn();
      }
    } catch (ex) {
      console.error(ex);
      throw ex;
    }
    return result;
  };
};

onmessage = async (e) => {
  if (!e.data) return;
  const { verb, args, callbackId } = e.data;

  if (!callbackId) {
    msg({ verb: 'console.error', args: ['callbackId is required', e.data] });
    return;
  }

  if (verb === 'module.init') {
    const argMainScriptBlob = args[0];
    try {
      Module = getWModuleConfig(argMainScriptBlob);
      Module.onRuntimeInitialized = () => {
        // async call once module is ready
        // init FS
        patchMEMFS();
        // init cwrap
        const pointer = 'number';
        // TODO: note sure why emscripten cannot bind if there is only 1 argument
        wllamaMalloc = callWrapper('wllama_malloc', pointer, [
          'number',
          pointer,
        ]);
        wllamaStart = callWrapper('wllama_start', 'string', []);
        wllamaAction = callWrapper('wllama_action', pointer, [
          'string',
          pointer,
        ]);
        wllamaExit = callWrapper('wllama_exit', 'string', []);
        wllamaDebug = callWrapper('wllama_debug', 'string', []);
        msg({ callbackId, result: null });
      };
      wModuleInit();
    } catch (err) {
      msg({ callbackId, err });
    }
    return;
  }

  if (verb === 'fs.alloc') {
    const argFilename = args[0];
    const argSize = args[1];
    try {
      // create blank file
      const emptyBuffer = new ArrayBuffer(0);
      Module['FS_createDataFile'](
        '/models',
        argFilename,
        emptyBuffer,
        true,
        true,
        true
      );
      // alloc data on heap
      const fileId = heapfsAlloc(argFilename, argSize);
      msg({ callbackId, result: { fileId } });
    } catch (err) {
      msg({ callbackId, err });
    }
    return;
  }

  if (verb === 'fs.write') {
    const argFileId = args[0];
    const argBuffer = args[1];
    const argOffset = args[2];
    try {
      const writtenBytes = heapfsWrite(argFileId, argBuffer, argOffset);
      msg({ callbackId, result: { writtenBytes } });
    } catch (err) {
      msg({ callbackId, err });
    }
    return;
  }

  if (verb === 'wllama.start') {
    try {
      const result = await wllamaStart();
      msg({ callbackId, result });
    } catch (err) {
      msg({ callbackId, err });
    }
    return;
  }

  if (verb === 'wllama.action') {
    const argAction = args[0];
    const argEncodedMsg = args[1];
    try {
      const inputPtr = await wllamaMalloc(argEncodedMsg.byteLength, 0);
      // copy data to wasm heap
      const inputBuffer = new Uint8Array(
        Module.HEAPU8.buffer,
        inputPtr,
        argEncodedMsg.byteLength
      );
      inputBuffer.set(argEncodedMsg, 0);
      const outputPtr = await wllamaAction(argAction, inputPtr);
      // length of output buffer is written at the first 4 bytes of input buffer
      const outputLen = new Uint32Array(Module.HEAPU8.buffer, inputPtr, 1)[0];
      // copy the output buffer to JS heap
      const outputBuffer = new Uint8Array(outputLen);
      const outputSrcView = new Uint8Array(
        Module.HEAPU8.buffer,
        outputPtr,
        outputLen
      );
      outputBuffer.set(outputSrcView, 0); // copy it
      msg({ callbackId, result: outputBuffer }, [outputBuffer.buffer]);
    } catch (err) {
      msg({ callbackId, err });
    }
    return;
  }

  if (verb === 'wllama.exit') {
    try {
      const result = await wllamaExit();
      msg({ callbackId, result });
    } catch (err) {
      msg({ callbackId, err });
    }
    return;
  }

  if (verb === 'wllama.debug') {
    try {
      const result = await wllamaDebug();
      msg({ callbackId, result });
    } catch (err) {
      msg({ callbackId, err });
    }
    return;
  }
};
`,my=`let accessHandle;
let abortController = new AbortController();

async function openFile(filename) {
  const opfsRoot = await navigator.storage.getDirectory();
  const cacheDir = await opfsRoot.getDirectoryHandle('cache', { create: true });
  const fileHandler = await cacheDir.getFileHandle(filename, { create: true });
  accessHandle = await fileHandler.createSyncAccessHandle();
  accessHandle.truncate(0); // clear file content
}

async function writeFile(buf) {
  accessHandle.write(buf);
}

async function closeFile() {
  accessHandle.flush();
  accessHandle.close();
}

async function writeTextFile(filename, str) {
  await openFile(filename);
  await writeFile(new TextEncoder().encode(str));
  await closeFile();
}

const throttled = (func, delay) => {
  let lastRun = 0;
  return (...args) => {
    const now = Date.now();
    if (now - lastRun > delay) {
      lastRun = now;
      func.apply(null, args);
    }
  };
};

const assertNonNull = (val) => {
  if (val === null || val === undefined) {
    throw new Error('OPFS Worker: Assertion failed');
  }
};

// respond to main thread
const resOK = () => postMessage({ ok: true });
const resProgress = (loaded, total) =>
  postMessage({ progress: { loaded, total } });
const resErr = (err) => postMessage({ err });

onmessage = async (e) => {
  try {
    if (!e.data) return;

    /**
     * @param {Object} e.data
     *
     * Fine-control FS actions:
     * - { action: 'open', filename: 'string' }
     * - { action: 'write', buf: ArrayBuffer }
     * - { action: 'close' }
     *
     * Simple write API:
     * - { action: 'write-simple', filename: 'string', buf: ArrayBuffer }
     *
     * Download API:
     * - { action: 'download', url: 'string', filename: 'string', options: Object, metadataFileName: 'string' }
     * - { action: 'download-abort' }
     */
    const { action, filename, buf, url, options, metadataFileName } = e.data;

    if (action === 'open') {
      assertNonNull(filename);
      await openFile(filename);
      return resOK();
    } else if (action === 'write') {
      assertNonNull(buf);
      await writeFile(buf);
      return resOK();
    } else if (action === 'close') {
      await closeFile();
      return resOK();
    } else if (action === 'write-simple') {
      assertNonNull(filename);
      assertNonNull(buf);
      await openFile(filename);
      await writeFile(buf);
      await closeFile();
      return resOK();
    } else if (action === 'download') {
      assertNonNull(url);
      assertNonNull(filename);
      assertNonNull(metadataFileName);
      assertNonNull(options);
      assertNonNull(options.aborted);
      abortController = new AbortController();
      if (options.aborted) abortController.abort();
      const response = await fetch(url, {
        ...options,
        signal: abortController.signal,
      });
      const contentLength = response.headers.get('content-length');
      const etag = (response.headers.get('etag') || '').replace(
        /[^A-Za-z0-9]/g,
        ''
      );
      const total = parseInt(contentLength, 10);
      const reader = response.body.getReader();
      await openFile(filename);
      let loaded = 0;
      const throttledProgress = throttled(resProgress, 100);
      while (true) {
        const { done, value } = await reader.read();
        if (done) break;
        loaded += value.byteLength;
        await writeFile(value);
        throttledProgress(loaded, total);
      }
      resProgress(total, total); // 100% done
      await closeFile();
      // make sure this is in-sync with CacheEntryMetadata
      await writeTextFile(
        metadataFileName,
        JSON.stringify({
          originalURL: url,
          originalSize: total,
          etag,
        })
      );
      return resOK();
    } else if (action === 'download-abort') {
      if (abortController) {
        abortController.abort();
      }
      return;
    }

    throw new Error('OPFS Worker: Invalid action', e.data);
  } catch (err) {
    return resErr(err);
  }
};
`,CF='var Module=typeof Module!="undefined"?Module:{};var ENVIRONMENT_IS_WEB=typeof window=="object";var ENVIRONMENT_IS_WORKER=typeof WorkerGlobalScope!="undefined";var ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";var ENVIRONMENT_IS_PTHREAD=ENVIRONMENT_IS_WORKER&&self.name?.startsWith("em-pthread");if(ENVIRONMENT_IS_NODE){var worker_threads=require("worker_threads");global.Worker=worker_threads.Worker;ENVIRONMENT_IS_WORKER=!worker_threads.isMainThread;ENVIRONMENT_IS_PTHREAD=ENVIRONMENT_IS_WORKER&&worker_threads["workerData"]=="em-pthread"}var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram="./this.program";var quit_=(status,toThrow)=>{throw toThrow};var _scriptName=typeof document!="undefined"?document.currentScript?.src:undefined;if(ENVIRONMENT_IS_NODE){_scriptName=__filename}else if(ENVIRONMENT_IS_WORKER){_scriptName=self.location.href}var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory)}return scriptDirectory+path}var readAsync,readBinary;if(ENVIRONMENT_IS_NODE){var fs=require("fs");var nodePath=require("path");scriptDirectory=__dirname+"/";readBinary=filename=>{filename=isFileURI(filename)?new URL(filename):filename;var ret=fs.readFileSync(filename);return ret};readAsync=async(filename,binary=true)=>{filename=isFileURI(filename)?new URL(filename):filename;var ret=fs.readFileSync(filename,binary?undefined:"utf8");return ret};if(!Module["thisProgram"]&&process.argv.length>1){thisProgram=process.argv[1].replace(/\\\\/g,"/")}arguments_=process.argv.slice(2);if(typeof module!="undefined"){module["exports"]=Module}quit_=(status,toThrow)=>{process.exitCode=status;throw toThrow}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(typeof document!="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src}if(scriptDirectory.startsWith("blob:")){scriptDirectory=""}else{scriptDirectory=scriptDirectory.slice(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1)}if(!ENVIRONMENT_IS_NODE){if(ENVIRONMENT_IS_WORKER){readBinary=url=>{var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=async url=>{if(isFileURI(url)){return new Promise((resolve,reject)=>{var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=()=>{if(xhr.status==200||xhr.status==0&&xhr.response){resolve(xhr.response);return}reject(xhr.status)};xhr.onerror=reject;xhr.send(null)})}var response=await fetch(url,{credentials:"same-origin"});if(response.ok){return response.arrayBuffer()}throw new Error(response.status+" : "+response.url)}}}else{}var defaultPrint=console.log.bind(console);var defaultPrintErr=console.error.bind(console);if(ENVIRONMENT_IS_NODE){defaultPrint=(...args)=>fs.writeSync(1,args.join(" ")+"\\n");defaultPrintErr=(...args)=>fs.writeSync(2,args.join(" ")+"\\n")}var out=Module["print"]||defaultPrint;var err=Module["printErr"]||defaultPrintErr;Object.assign(Module,moduleOverrides);moduleOverrides=null;if(Module["arguments"])arguments_=Module["arguments"];if(Module["thisProgram"])thisProgram=Module["thisProgram"];var wasmBinary=Module["wasmBinary"];var wasmMemory;var wasmModule;var ABORT=false;var EXITSTATUS;var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAP64,HEAPU64,HEAPF64;var runtimeInitialized=false;var isFileURI=filename=>filename.startsWith("file://");function GROWABLE_HEAP_I8(){if(wasmMemory.buffer!=HEAP8.buffer){updateMemoryViews()}return HEAP8}function GROWABLE_HEAP_U8(){if(wasmMemory.buffer!=HEAP8.buffer){updateMemoryViews()}return HEAPU8}function GROWABLE_HEAP_I16(){if(wasmMemory.buffer!=HEAP8.buffer){updateMemoryViews()}return HEAP16}function GROWABLE_HEAP_I32(){if(wasmMemory.buffer!=HEAP8.buffer){updateMemoryViews()}return HEAP32}function GROWABLE_HEAP_U32(){if(wasmMemory.buffer!=HEAP8.buffer){updateMemoryViews()}return HEAPU32}function GROWABLE_HEAP_F32(){if(wasmMemory.buffer!=HEAP8.buffer){updateMemoryViews()}return HEAPF32}function GROWABLE_HEAP_F64(){if(wasmMemory.buffer!=HEAP8.buffer){updateMemoryViews()}return HEAPF64}if(ENVIRONMENT_IS_PTHREAD){var wasmModuleReceived;if(ENVIRONMENT_IS_NODE){var parentPort=worker_threads["parentPort"];parentPort.on("message",msg=>onmessage({data:msg}));Object.assign(globalThis,{self:global,postMessage:msg=>parentPort.postMessage(msg)})}var initializedJS=false;function threadPrintErr(...args){var text=args.join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,text+"\\n");return}console.error(text)}if(!Module["printErr"])err=threadPrintErr;function threadAlert(...args){var text=args.join(" ");postMessage({cmd:"alert",text,threadId:_pthread_self()})}self.alert=threadAlert;self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{var msgData=e["data"];var cmd=msgData.cmd;if(cmd==="load"){let messageQueue=[];self.onmessage=e=>messageQueue.push(e);self.startWorker=instance=>{postMessage({cmd:"loaded"});for(let msg of messageQueue){handleMessage(msg)}self.onmessage=handleMessage};for(const handler of msgData.handlers){if(!Module[handler]||Module[handler].proxy){Module[handler]=(...args)=>{postMessage({cmd:"callHandler",handler,args})};if(handler=="print")out=Module[handler];if(handler=="printErr")err=Module[handler]}}wasmMemory=msgData.wasmMemory;updateMemoryViews();wasmModuleReceived(msgData.wasmModule)}else if(cmd==="run"){establishStackSpace(msgData.pthread_ptr);__emscripten_thread_init(msgData.pthread_ptr,0,0,1,0,0);PThread.receiveObjectTransfer(msgData);PThread.threadInitTLS();__emscripten_thread_mailbox_await(msgData.pthread_ptr);if(!initializedJS){initializedJS=true}try{invokeEntryPoint(msgData.start_routine,msgData.arg)}catch(ex){if(ex!="unwind"){throw ex}}}else if(msgData.target==="setimmediate"){}else if(cmd==="checkMailbox"){if(initializedJS){checkMailbox()}}else if(cmd){err(`worker: received unknown command ${cmd}`);err(msgData)}}catch(ex){__emscripten_thread_crashed();throw ex}}self.onmessage=handleMessage}function updateMemoryViews(){var b=wasmMemory.buffer;Module["HEAP8"]=HEAP8=new Int8Array(b);Module["HEAP16"]=HEAP16=new Int16Array(b);Module["HEAPU8"]=HEAPU8=new Uint8Array(b);Module["HEAPU16"]=HEAPU16=new Uint16Array(b);Module["HEAP32"]=HEAP32=new Int32Array(b);Module["HEAPU32"]=HEAPU32=new Uint32Array(b);Module["HEAPF32"]=HEAPF32=new Float32Array(b);Module["HEAPF64"]=HEAPF64=new Float64Array(b);Module["HEAP64"]=HEAP64=new BigInt64Array(b);Module["HEAPU64"]=HEAPU64=new BigUint64Array(b)}if(!ENVIRONMENT_IS_PTHREAD){if(Module["wasmMemory"]){wasmMemory=Module["wasmMemory"]}else{var INITIAL_MEMORY=Module["INITIAL_MEMORY"]||134217728;wasmMemory=new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:65536,shared:true})}updateMemoryViews()}function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(onPreRuns)}function initRuntime(){runtimeInitialized=true;if(ENVIRONMENT_IS_PTHREAD)return startWorker(Module);if(!Module["noFSInit"]&&!FS.initialized)FS.init();TTY.init();wasmExports["I"]();FS.ignorePermissions=false}function preMain(){}function postRun(){if(ENVIRONMENT_IS_PTHREAD)return;if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(onPostRuns)}var runDependencies=0;var dependenciesFulfilled=null;function getUniqueRunDependency(id){return id}function addRunDependency(id){runDependencies++;Module["monitorRunDependencies"]?.(runDependencies)}function removeRunDependency(id){runDependencies--;Module["monitorRunDependencies"]?.(runDependencies);if(runDependencies==0){if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}function abort(what){Module["onAbort"]?.(what);what="Aborted("+what+")";err(what);ABORT=true;what+=". Build with -sASSERTIONS for more info.";if(runtimeInitialized){___trap()}var e=new WebAssembly.RuntimeError(what);throw e}var wasmBinaryFile;function findWasmBinary(){return locateFile("wllama.wasm")}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(file)}throw"both async and sync fetching of the wasm failed"}async function getWasmBinary(binaryFile){if(!wasmBinary){try{var response=await readAsync(binaryFile);return new Uint8Array(response)}catch{}}return getBinarySync(binaryFile)}async function instantiateArrayBuffer(binaryFile,imports){try{var binary=await getWasmBinary(binaryFile);var instance=await WebAssembly.instantiate(binary,imports);return instance}catch(reason){err(`failed to asynchronously prepare wasm: ${reason}`);abort(reason)}}async function instantiateAsync(binary,binaryFile,imports){if(!binary&&typeof WebAssembly.instantiateStreaming=="function"&&!isFileURI(binaryFile)&&!ENVIRONMENT_IS_NODE){try{var response=fetch(binaryFile,{credentials:"same-origin"});var instantiationResult=await WebAssembly.instantiateStreaming(response,imports);return instantiationResult}catch(reason){err(`wasm streaming compile failed: ${reason}`);err("falling back to ArrayBuffer instantiation")}}return instantiateArrayBuffer(binaryFile,imports)}function getWasmImports(){assignWasmImports();return{a:wasmImports}}async function createWasm(){function receiveInstance(instance,module){wasmExports=instance.exports;wasmExports=applySignatureConversions(wasmExports);registerTLSInit(wasmExports["P"]);wasmTable=wasmExports["S"];wasmModule=module;removeRunDependency("wasm-instantiate");return wasmExports}addRunDependency("wasm-instantiate");function receiveInstantiationResult(result){return receiveInstance(result["instance"],result["module"])}var info=getWasmImports();if(Module["instantiateWasm"]){return new Promise((resolve,reject)=>{Module["instantiateWasm"](info,(mod,inst)=>{receiveInstance(mod,inst);resolve(mod.exports)})})}if(ENVIRONMENT_IS_PTHREAD){return new Promise(resolve=>{wasmModuleReceived=module=>{var instance=new WebAssembly.Instance(module,getWasmImports());resolve(receiveInstance(instance,module))}})}wasmBinaryFile??=findWasmBinary();var result=await instantiateAsync(wasmBinary,wasmBinaryFile,info);var exports=receiveInstantiationResult(result);return exports}class ExitStatus{name="ExitStatus";constructor(status){this.message=`Program terminated with exit(${status})`;this.status=status}}Module["ExitStatus"]=ExitStatus;var terminateWorker=worker=>{worker.terminate();worker.onmessage=e=>{}};Module["terminateWorker"]=terminateWorker;var cleanupThread=pthread_ptr=>{var worker=PThread.pthreads[pthread_ptr];PThread.returnWorkerToPool(worker)};Module["cleanupThread"]=cleanupThread;var callRuntimeCallbacks=callbacks=>{while(callbacks.length>0){callbacks.shift()(Module)}};Module["callRuntimeCallbacks"]=callRuntimeCallbacks;var onPreRuns=[];Module["onPreRuns"]=onPreRuns;var addOnPreRun=cb=>onPreRuns.unshift(cb);Module["addOnPreRun"]=addOnPreRun;var spawnThread=threadParams=>{var worker=PThread.getNewWorker();if(!worker){return 6}PThread.runningWorkers.push(worker);PThread.pthreads[threadParams.pthread_ptr]=worker;worker.pthread_ptr=threadParams.pthread_ptr;var msg={cmd:"run",start_routine:threadParams.startRoutine,arg:threadParams.arg,pthread_ptr:threadParams.pthread_ptr};if(ENVIRONMENT_IS_NODE){worker.unref()}worker.postMessage(msg,threadParams.transferList);return 0};Module["spawnThread"]=spawnThread;var runtimeKeepaliveCounter=0;Module["runtimeKeepaliveCounter"]=runtimeKeepaliveCounter;var keepRuntimeAlive=()=>noExitRuntime||runtimeKeepaliveCounter>0;Module["keepRuntimeAlive"]=keepRuntimeAlive;var stackSave=()=>_emscripten_stack_get_current();Module["stackSave"]=stackSave;var stackRestore=val=>__emscripten_stack_restore(val);Module["stackRestore"]=stackRestore;var stackAlloc=sz=>__emscripten_stack_alloc(sz);Module["stackAlloc"]=stackAlloc;var INT53_MAX=9007199254740992;Module["INT53_MAX"]=INT53_MAX;var INT53_MIN=-9007199254740992;Module["INT53_MIN"]=INT53_MIN;var bigintToI53Checked=num=>num<INT53_MIN||num>INT53_MAX?NaN:Number(num);Module["bigintToI53Checked"]=bigintToI53Checked;var proxyToMainThread=(funcIndex,emAsmAddr,sync,...callArgs)=>{var serializedNumCallArgs=callArgs.length*2;var sp=stackSave();var args=stackAlloc(serializedNumCallArgs*8);var b=args>>>3;for(var i=0;i<callArgs.length;i++){var arg=callArgs[i];if(typeof arg=="bigint"){HEAP64[b+2*i]=1n;HEAP64[b+2*i+1]=arg}else{HEAP64[b+2*i]=0n;GROWABLE_HEAP_F64()[b+2*i+1>>>0]=arg}}var rtn=__emscripten_run_on_main_thread_js(funcIndex,emAsmAddr,serializedNumCallArgs,args,sync);stackRestore(sp);return rtn};Module["proxyToMainThread"]=proxyToMainThread;function _proc_exit(code){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(0,0,1,code);EXITSTATUS=code;if(!keepRuntimeAlive()){PThread.terminateAllThreads();Module["onExit"]?.(code);ABORT=true}quit_(code,new ExitStatus(code))}Module["_proc_exit"]=_proc_exit;var handleException=e=>{if(e instanceof ExitStatus||e=="unwind"){return EXITSTATUS}quit_(1,e)};Module["handleException"]=handleException;function exitOnMainThread(returnCode){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(1,0,0,returnCode);_exit(returnCode)}Module["exitOnMainThread"]=exitOnMainThread;var exitJS=(status,implicit)=>{EXITSTATUS=status;if(ENVIRONMENT_IS_PTHREAD){exitOnMainThread(status);throw"unwind"}_proc_exit(status)};Module["exitJS"]=exitJS;var _exit=exitJS;Module["_exit"]=_exit;var PThread={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init(){if(!ENVIRONMENT_IS_PTHREAD){PThread.initMainThread()}},initMainThread(){var pthreadPoolSize=Module["pthreadPoolSize"];while(pthreadPoolSize--){PThread.allocateUnusedWorker()}addOnPreRun(()=>{addRunDependency("loading-workers");PThread.loadWasmModuleToAllWorkers(()=>removeRunDependency("loading-workers"))})},terminateAllThreads:()=>{for(var worker of PThread.runningWorkers){terminateWorker(worker)}for(var worker of PThread.unusedWorkers){terminateWorker(worker)}PThread.unusedWorkers=[];PThread.runningWorkers=[];PThread.pthreads={}},returnWorkerToPool:worker=>{var pthread_ptr=worker.pthread_ptr;delete PThread.pthreads[pthread_ptr];PThread.unusedWorkers.push(worker);PThread.runningWorkers.splice(PThread.runningWorkers.indexOf(worker),1);worker.pthread_ptr=0;__emscripten_thread_free_data(pthread_ptr)},receiveObjectTransfer(data){},threadInitTLS(){PThread.tlsInitFunctions.forEach(f=>f())},loadWasmModuleToWorker:worker=>new Promise(onFinishedLoading=>{worker.onmessage=e=>{var d=e["data"];var cmd=d.cmd;if(d.targetThread&&d.targetThread!=_pthread_self()){var targetWorker=PThread.pthreads[d.targetThread];if(targetWorker){targetWorker.postMessage(d,d.transferList)}else{err(`Internal error! Worker sent a message "${cmd}" to target pthread ${d.targetThread}, but that thread no longer exists!`)}return}if(cmd==="checkMailbox"){checkMailbox()}else if(cmd==="spawnThread"){spawnThread(d)}else if(cmd==="cleanupThread"){cleanupThread(d.thread)}else if(cmd==="loaded"){worker.loaded=true;if(ENVIRONMENT_IS_NODE&&!worker.pthread_ptr){worker.unref()}onFinishedLoading(worker)}else if(cmd==="alert"){alert(`Thread ${d.threadId}: ${d.text}`)}else if(d.target==="setimmediate"){worker.postMessage(d)}else if(cmd==="callHandler"){Module[d.handler](...d.args)}else if(cmd){err(`worker sent an unknown command ${cmd}`)}};worker.onerror=e=>{var message="worker sent an error!";err(`${message} ${e.filename}:${e.lineno}: ${e.message}`);throw e};if(ENVIRONMENT_IS_NODE){worker.on("message",data=>worker.onmessage({data}));worker.on("error",e=>worker.onerror(e))}var handlers=[];var knownHandlers=["onExit","onAbort","print","printErr"];for(var handler of knownHandlers){if(Module.propertyIsEnumerable(handler)){handlers.push(handler)}}worker.postMessage({cmd:"load",handlers,wasmMemory,wasmModule})}),loadWasmModuleToAllWorkers(onMaybeReady){if(ENVIRONMENT_IS_PTHREAD){return onMaybeReady()}let pthreadPoolReady=Promise.all(PThread.unusedWorkers.map(PThread.loadWasmModuleToWorker));pthreadPoolReady.then(onMaybeReady)},allocateUnusedWorker(){var worker;var workerOptions={workerData:"em-pthread",name:"em-pthread"};var pthreadMainJs=_scriptName;if(Module["mainScriptUrlOrBlob"]){pthreadMainJs=Module["mainScriptUrlOrBlob"];if(typeof pthreadMainJs!="string"){pthreadMainJs=URL.createObjectURL(pthreadMainJs)}}worker=new Worker(pthreadMainJs,workerOptions);PThread.unusedWorkers.push(worker)},getNewWorker(){if(PThread.unusedWorkers.length==0){PThread.allocateUnusedWorker();PThread.loadWasmModuleToWorker(PThread.unusedWorkers[0])}return PThread.unusedWorkers.pop()}};Module["PThread"]=PThread;var onPostRuns=[];Module["onPostRuns"]=onPostRuns;var addOnPostRun=cb=>onPostRuns.unshift(cb);Module["addOnPostRun"]=addOnPostRun;var establishStackSpace=pthread_ptr=>{updateMemoryViews();var stackHigh=GROWABLE_HEAP_U32()[pthread_ptr+52>>>2>>>0];var stackSize=GROWABLE_HEAP_U32()[pthread_ptr+56>>>2>>>0];var stackLow=stackHigh-stackSize;_emscripten_stack_set_limits(stackHigh,stackLow);stackRestore(stackHigh)};Module["establishStackSpace"]=establishStackSpace;function getValue(ptr,type="i8"){if(type.endsWith("*"))type="*";switch(type){case"i1":return GROWABLE_HEAP_I8()[ptr>>>0];case"i8":return GROWABLE_HEAP_I8()[ptr>>>0];case"i16":return GROWABLE_HEAP_I16()[ptr>>>1>>>0];case"i32":return GROWABLE_HEAP_I32()[ptr>>>2>>>0];case"i64":return HEAP64[ptr>>>3];case"float":return GROWABLE_HEAP_F32()[ptr>>>2>>>0];case"double":return GROWABLE_HEAP_F64()[ptr>>>3>>>0];case"*":return GROWABLE_HEAP_U32()[ptr>>>2>>>0];default:abort(`invalid type for getValue: ${type}`)}}Module["getValue"]=getValue;var wasmTableMirror=[];Module["wasmTableMirror"]=wasmTableMirror;var wasmTable;Module["wasmTable"]=wasmTable;var getWasmTableEntry=funcPtr=>{var func=wasmTableMirror[funcPtr];if(!func){if(funcPtr>=wasmTableMirror.length)wasmTableMirror.length=funcPtr+1;wasmTableMirror[funcPtr]=func=wasmTable.get(funcPtr)}return func};Module["getWasmTableEntry"]=getWasmTableEntry;var invokeEntryPoint=(ptr,arg)=>{runtimeKeepaliveCounter=0;noExitRuntime=0;var result=getWasmTableEntry(ptr)(arg);function finish(result){if(keepRuntimeAlive()){EXITSTATUS=result}else{__emscripten_thread_exit(result)}}finish(result)};Module["invokeEntryPoint"]=invokeEntryPoint;var noExitRuntime=Module["noExitRuntime"]||true;Module["noExitRuntime"]=noExitRuntime;var registerTLSInit=tlsInitFunc=>PThread.tlsInitFunctions.push(tlsInitFunc);Module["registerTLSInit"]=registerTLSInit;function setValue(ptr,value,type="i8"){if(type.endsWith("*"))type="*";switch(type){case"i1":GROWABLE_HEAP_I8()[ptr>>>0]=value;break;case"i8":GROWABLE_HEAP_I8()[ptr>>>0]=value;break;case"i16":GROWABLE_HEAP_I16()[ptr>>>1>>>0]=value;break;case"i32":GROWABLE_HEAP_I32()[ptr>>>2>>>0]=value;break;case"i64":HEAP64[ptr>>>3]=BigInt(value);break;case"float":GROWABLE_HEAP_F32()[ptr>>>2>>>0]=value;break;case"double":GROWABLE_HEAP_F64()[ptr>>>3>>>0]=value;break;case"*":GROWABLE_HEAP_U32()[ptr>>>2>>>0]=value;break;default:abort(`invalid type for setValue: ${type}`)}}Module["setValue"]=setValue;function pthreadCreateProxied(pthread_ptr,attr,startRoutine,arg){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(2,0,1,pthread_ptr,attr,startRoutine,arg);return ___pthread_create_js(pthread_ptr,attr,startRoutine,arg)}Module["pthreadCreateProxied"]=pthreadCreateProxied;var _emscripten_has_threading_support=()=>typeof SharedArrayBuffer!="undefined";Module["_emscripten_has_threading_support"]=_emscripten_has_threading_support;function ___pthread_create_js(pthread_ptr,attr,startRoutine,arg){pthread_ptr>>>=0;attr>>>=0;startRoutine>>>=0;arg>>>=0;if(!_emscripten_has_threading_support()){return 6}var transferList=[];var error=0;if(ENVIRONMENT_IS_PTHREAD&&(transferList.length===0||error)){return pthreadCreateProxied(pthread_ptr,attr,startRoutine,arg)}if(error)return error;var threadParams={startRoutine,pthread_ptr,arg,transferList};if(ENVIRONMENT_IS_PTHREAD){threadParams.cmd="spawnThread";postMessage(threadParams,transferList);return 0}return spawnThread(threadParams)}Module["___pthread_create_js"]=___pthread_create_js;var syscallGetVarargI=()=>{var ret=GROWABLE_HEAP_I32()[+SYSCALLS.varargs>>>2>>>0];SYSCALLS.varargs+=4;return ret};Module["syscallGetVarargI"]=syscallGetVarargI;var syscallGetVarargP=syscallGetVarargI;Module["syscallGetVarargP"]=syscallGetVarargP;var PATH={isAbs:path=>path.charAt(0)==="/",splitPath:filename=>{var splitPathRe=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;return splitPathRe.exec(filename).slice(1)},normalizeArray:(parts,allowAboveRoot)=>{var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up;up--){parts.unshift("..")}}return parts},normalize:path=>{var isAbsolute=PATH.isAbs(path),trailingSlash=path.slice(-1)==="/";path=PATH.normalizeArray(path.split("/").filter(p=>!!p),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path},dirname:path=>{var result=PATH.splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.slice(0,-1)}return root+dir},basename:path=>path&&path.match(/([^\\/]+|\\/)\\/*$/)[1],join:(...paths)=>PATH.normalize(paths.join("/")),join2:(l,r)=>PATH.normalize(l+"/"+r)};Module["PATH"]=PATH;var initRandomFill=()=>{if(ENVIRONMENT_IS_NODE){var nodeCrypto=require("crypto");return view=>nodeCrypto.randomFillSync(view)}return view=>view.set(crypto.getRandomValues(new Uint8Array(view.byteLength)))};Module["initRandomFill"]=initRandomFill;var randomFill=view=>{(randomFill=initRandomFill())(view)};Module["randomFill"]=randomFill;var PATH_FS={resolve:(...args)=>{var resolvedPath="",resolvedAbsolute=false;for(var i=args.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?args[i]:FS.cwd();if(typeof path!="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){return""}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=PATH.isAbs(path)}resolvedPath=PATH.normalizeArray(resolvedPath.split("/").filter(p=>!!p),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."},relative:(from,to)=>{from=PATH_FS.resolve(from).slice(1);to=PATH_FS.resolve(to).slice(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")}};Module["PATH_FS"]=PATH_FS;var UTF8Decoder=typeof TextDecoder!="undefined"?new TextDecoder:undefined;Module["UTF8Decoder"]=UTF8Decoder;var UTF8ArrayToString=(heapOrArray,idx=0,maxBytesToRead=NaN)=>{idx>>>=0;var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.buffer instanceof ArrayBuffer?heapOrArray.subarray(idx,endPtr):heapOrArray.slice(idx,endPtr))}var str="";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}return str};Module["UTF8ArrayToString"]=UTF8ArrayToString;var FS_stdin_getChar_buffer=[];Module["FS_stdin_getChar_buffer"]=FS_stdin_getChar_buffer;var lengthBytesUTF8=str=>{var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++}else if(c<=2047){len+=2}else if(c>=55296&&c<=57343){len+=4;++i}else{len+=3}}return len};Module["lengthBytesUTF8"]=lengthBytesUTF8;var stringToUTF8Array=(str,heap,outIdx,maxBytesToWrite)=>{outIdx>>>=0;if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++>>>0]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++>>>0]=192|u>>6;heap[outIdx++>>>0]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++>>>0]=224|u>>12;heap[outIdx++>>>0]=128|u>>6&63;heap[outIdx++>>>0]=128|u&63}else{if(outIdx+3>=endIdx)break;heap[outIdx++>>>0]=240|u>>18;heap[outIdx++>>>0]=128|u>>12&63;heap[outIdx++>>>0]=128|u>>6&63;heap[outIdx++>>>0]=128|u&63}}heap[outIdx>>>0]=0;return outIdx-startIdx};Module["stringToUTF8Array"]=stringToUTF8Array;var intArrayFromString=(stringy,dontAddNull,length)=>{var len=length>0?length:lengthBytesUTF8(stringy)+1;var u8array=new Array(len);var numBytesWritten=stringToUTF8Array(stringy,u8array,0,u8array.length);if(dontAddNull)u8array.length=numBytesWritten;return u8array};Module["intArrayFromString"]=intArrayFromString;var FS_stdin_getChar=()=>{if(!FS_stdin_getChar_buffer.length){var result=null;if(ENVIRONMENT_IS_NODE){var BUFSIZE=256;var buf=Buffer.alloc(BUFSIZE);var bytesRead=0;var fd=process.stdin.fd;try{bytesRead=fs.readSync(fd,buf,0,BUFSIZE)}catch(e){if(e.toString().includes("EOF"))bytesRead=0;else throw e}if(bytesRead>0){result=buf.slice(0,bytesRead).toString("utf-8")}}else if(typeof window!="undefined"&&typeof window.prompt=="function"){result=window.prompt("Input: ");if(result!==null){result+="\\n"}}else{}if(!result){return null}FS_stdin_getChar_buffer=intArrayFromString(result,true)}return FS_stdin_getChar_buffer.shift()};Module["FS_stdin_getChar"]=FS_stdin_getChar;var TTY={ttys:[],init(){},shutdown(){},register(dev,ops){TTY.ttys[dev]={input:[],output:[],ops};FS.registerDevice(dev,TTY.stream_ops)},stream_ops:{open(stream){var tty=TTY.ttys[stream.node.rdev];if(!tty){throw new FS.ErrnoError(43)}stream.tty=tty;stream.seekable=false},close(stream){stream.tty.ops.fsync(stream.tty)},fsync(stream){stream.tty.ops.fsync(stream.tty)},read(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.get_char){throw new FS.ErrnoError(60)}var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=stream.tty.ops.get_char(stream.tty)}catch(e){throw new FS.ErrnoError(29)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(6)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.atime=Date.now()}return bytesRead},write(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.put_char){throw new FS.ErrnoError(60)}try{for(var i=0;i<length;i++){stream.tty.ops.put_char(stream.tty,buffer[offset+i])}}catch(e){throw new FS.ErrnoError(29)}if(length){stream.node.mtime=stream.node.ctime=Date.now()}return i}},default_tty_ops:{get_char(tty){return FS_stdin_getChar()},put_char(tty,val){if(val===null||val===10){out(UTF8ArrayToString(tty.output));tty.output=[]}else{if(val!=0)tty.output.push(val)}},fsync(tty){if(tty.output?.length>0){out(UTF8ArrayToString(tty.output));tty.output=[]}},ioctl_tcgets(tty){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(tty,optional_actions,data){return 0},ioctl_tiocgwinsz(tty){return[24,80]}},default_tty1_ops:{put_char(tty,val){if(val===null||val===10){err(UTF8ArrayToString(tty.output));tty.output=[]}else{if(val!=0)tty.output.push(val)}},fsync(tty){if(tty.output?.length>0){err(UTF8ArrayToString(tty.output));tty.output=[]}}}};Module["TTY"]=TTY;var zeroMemory=(address,size)=>{GROWABLE_HEAP_U8().fill(0,address,address+size)};Module["zeroMemory"]=zeroMemory;var alignMemory=(size,alignment)=>Math.ceil(size/alignment)*alignment;Module["alignMemory"]=alignMemory;var mmapAlloc=size=>{size=alignMemory(size,65536);var ptr=_emscripten_builtin_memalign(65536,size);if(ptr)zeroMemory(ptr,size);return ptr};Module["mmapAlloc"]=mmapAlloc;var MEMFS={ops_table:null,mount(mount){return MEMFS.createNode(null,"/",16895,0)},createNode(parent,name,mode,dev){if(FS.isBlkdev(mode)||FS.isFIFO(mode)){throw new FS.ErrnoError(63)}MEMFS.ops_table||={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}};var node=FS.createNode(parent,name,mode,dev);if(FS.isDir(node.mode)){node.node_ops=MEMFS.ops_table.dir.node;node.stream_ops=MEMFS.ops_table.dir.stream;node.contents={}}else if(FS.isFile(node.mode)){node.node_ops=MEMFS.ops_table.file.node;node.stream_ops=MEMFS.ops_table.file.stream;node.usedBytes=0;node.contents=null}else if(FS.isLink(node.mode)){node.node_ops=MEMFS.ops_table.link.node;node.stream_ops=MEMFS.ops_table.link.stream}else if(FS.isChrdev(node.mode)){node.node_ops=MEMFS.ops_table.chrdev.node;node.stream_ops=MEMFS.ops_table.chrdev.stream}node.atime=node.mtime=node.ctime=Date.now();if(parent){parent.contents[name]=node;parent.atime=parent.mtime=parent.ctime=node.atime}return node},getFileDataAsTypedArray(node){if(!node.contents)return new Uint8Array(0);if(node.contents.subarray)return node.contents.subarray(0,node.usedBytes);return new Uint8Array(node.contents)},expandFileStorage(node,newCapacity){var prevCapacity=node.contents?node.contents.length:0;if(prevCapacity>=newCapacity)return;var CAPACITY_DOUBLING_MAX=1024*1024;newCapacity=Math.max(newCapacity,prevCapacity*(prevCapacity<CAPACITY_DOUBLING_MAX?2:1.125)>>>0);if(prevCapacity!=0)newCapacity=Math.max(newCapacity,256);var oldContents=node.contents;node.contents=new Uint8Array(newCapacity);if(node.usedBytes>0)node.contents.set(oldContents.subarray(0,node.usedBytes),0)},resizeFileStorage(node,newSize){if(node.usedBytes==newSize)return;if(newSize==0){node.contents=null;node.usedBytes=0}else{var oldContents=node.contents;node.contents=new Uint8Array(newSize);if(oldContents){node.contents.set(oldContents.subarray(0,Math.min(newSize,node.usedBytes)))}node.usedBytes=newSize}},node_ops:{getattr(node){var attr={};attr.dev=FS.isChrdev(node.mode)?node.id:1;attr.ino=node.id;attr.mode=node.mode;attr.nlink=1;attr.uid=0;attr.gid=0;attr.rdev=node.rdev;if(FS.isDir(node.mode)){attr.size=4096}else if(FS.isFile(node.mode)){attr.size=node.usedBytes}else if(FS.isLink(node.mode)){attr.size=node.link.length}else{attr.size=0}attr.atime=new Date(node.atime);attr.mtime=new Date(node.mtime);attr.ctime=new Date(node.ctime);attr.blksize=4096;attr.blocks=Math.ceil(attr.size/attr.blksize);return attr},setattr(node,attr){for(const key of["mode","atime","mtime","ctime"]){if(attr[key]!=null){node[key]=attr[key]}}if(attr.size!==undefined){MEMFS.resizeFileStorage(node,attr.size)}},lookup(parent,name){throw MEMFS.doesNotExistError},mknod(parent,name,mode,dev){return MEMFS.createNode(parent,name,mode,dev)},rename(old_node,new_dir,new_name){var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(new_node){if(FS.isDir(old_node.mode)){for(var i in new_node.contents){throw new FS.ErrnoError(55)}}FS.hashRemoveNode(new_node)}delete old_node.parent.contents[old_node.name];new_dir.contents[new_name]=old_node;old_node.name=new_name;new_dir.ctime=new_dir.mtime=old_node.parent.ctime=old_node.parent.mtime=Date.now()},unlink(parent,name){delete parent.contents[name];parent.ctime=parent.mtime=Date.now()},rmdir(parent,name){var node=FS.lookupNode(parent,name);for(var i in node.contents){throw new FS.ErrnoError(55)}delete parent.contents[name];parent.ctime=parent.mtime=Date.now()},readdir(node){return[".","..",...Object.keys(node.contents)]},symlink(parent,newname,oldpath){var node=MEMFS.createNode(parent,newname,511|40960,0);node.link=oldpath;return node},readlink(node){if(!FS.isLink(node.mode)){throw new FS.ErrnoError(28)}return node.link}},stream_ops:{read(stream,buffer,offset,length,position){var contents=stream.node.contents;if(position>=stream.node.usedBytes)return 0;var size=Math.min(stream.node.usedBytes-position,length);if(size>8&&contents.subarray){buffer.set(contents.subarray(position,position+size),offset)}else{for(var i=0;i<size;i++)buffer[offset+i]=contents[position+i]}return size},write(stream,buffer,offset,length,position,canOwn){if(buffer.buffer===GROWABLE_HEAP_I8().buffer){canOwn=false}if(!length)return 0;var node=stream.node;node.mtime=node.ctime=Date.now();if(buffer.subarray&&(!node.contents||node.contents.subarray)){if(canOwn){node.contents=buffer.subarray(offset,offset+length);node.usedBytes=length;return length}else if(node.usedBytes===0&&position===0){node.contents=buffer.slice(offset,offset+length);node.usedBytes=length;return length}else if(position+length<=node.usedBytes){node.contents.set(buffer.subarray(offset,offset+length),position);return length}}MEMFS.expandFileStorage(node,position+length);if(node.contents.subarray&&buffer.subarray){node.contents.set(buffer.subarray(offset,offset+length),position)}else{for(var i=0;i<length;i++){node.contents[position+i]=buffer[offset+i]}}node.usedBytes=Math.max(node.usedBytes,position+length);return length},llseek(stream,offset,whence){var position=offset;if(whence===1){position+=stream.position}else if(whence===2){if(FS.isFile(stream.node.mode)){position+=stream.node.usedBytes}}if(position<0){throw new FS.ErrnoError(28)}return position},allocate(stream,offset,length){MEMFS.expandFileStorage(stream.node,offset+length);stream.node.usedBytes=Math.max(stream.node.usedBytes,offset+length)},mmap(stream,length,position,prot,flags){if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(43)}var ptr;var allocated;var contents=stream.node.contents;if(!(flags&2)&&contents&&contents.buffer===GROWABLE_HEAP_I8().buffer){allocated=false;ptr=contents.byteOffset}else{allocated=true;ptr=mmapAlloc(length);if(!ptr){throw new FS.ErrnoError(48)}if(contents){if(position>0||position+length<contents.length){if(contents.subarray){contents=contents.subarray(position,position+length)}else{contents=Array.prototype.slice.call(contents,position,position+length)}}GROWABLE_HEAP_I8().set(contents,ptr>>>0)}}return{ptr,allocated}},msync(stream,buffer,offset,length,mmapFlags){MEMFS.stream_ops.write(stream,buffer,0,length,offset,false);return 0}}};Module["MEMFS"]=MEMFS;var asyncLoad=async url=>{var arrayBuffer=await readAsync(url);return new Uint8Array(arrayBuffer)};Module["asyncLoad"]=asyncLoad;var FS_createDataFile=(parent,name,fileData,canRead,canWrite,canOwn)=>{FS.createDataFile(parent,name,fileData,canRead,canWrite,canOwn)};Module["FS_createDataFile"]=FS_createDataFile;var preloadPlugins=Module["preloadPlugins"]||[];Module["preloadPlugins"]=preloadPlugins;var FS_handledByPreloadPlugin=(byteArray,fullname,finish,onerror)=>{if(typeof Browser!="undefined")Browser.init();var handled=false;preloadPlugins.forEach(plugin=>{if(handled)return;if(plugin["canHandle"](fullname)){plugin["handle"](byteArray,fullname,finish,onerror);handled=true}});return handled};Module["FS_handledByPreloadPlugin"]=FS_handledByPreloadPlugin;var FS_createPreloadedFile=(parent,name,url,canRead,canWrite,onload,onerror,dontCreateFile,canOwn,preFinish)=>{var fullname=name?PATH_FS.resolve(PATH.join2(parent,name)):parent;var dep=getUniqueRunDependency(`cp ${fullname}`);function processData(byteArray){function finish(byteArray){preFinish?.();if(!dontCreateFile){FS_createDataFile(parent,name,byteArray,canRead,canWrite,canOwn)}onload?.();removeRunDependency(dep)}if(FS_handledByPreloadPlugin(byteArray,fullname,finish,()=>{onerror?.();removeRunDependency(dep)})){return}finish(byteArray)}addRunDependency(dep);if(typeof url=="string"){asyncLoad(url).then(processData,onerror)}else{processData(url)}};Module["FS_createPreloadedFile"]=FS_createPreloadedFile;var FS_modeStringToFlags=str=>{var flagModes={r:0,"r+":2,w:512|64|1,"w+":512|64|2,a:1024|64|1,"a+":1024|64|2};var flags=flagModes[str];if(typeof flags=="undefined"){throw new Error(`Unknown file open mode: ${str}`)}return flags};Module["FS_modeStringToFlags"]=FS_modeStringToFlags;var FS_getMode=(canRead,canWrite)=>{var mode=0;if(canRead)mode|=292|73;if(canWrite)mode|=146;return mode};Module["FS_getMode"]=FS_getMode;var FS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:false,ignorePermissions:true,ErrnoError:class{name="ErrnoError";constructor(errno){this.errno=errno}},filesystems:null,syncFSRequests:0,readFiles:{},FSStream:class{shared={};get object(){return this.node}set object(val){this.node=val}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(val){this.shared.flags=val}get position(){return this.shared.position}set position(val){this.shared.position=val}},FSNode:class{node_ops={};stream_ops={};readMode=292|73;writeMode=146;mounted=null;constructor(parent,name,mode,rdev){if(!parent){parent=this}this.parent=parent;this.mount=parent.mount;this.id=FS.nextInode++;this.name=name;this.mode=mode;this.rdev=rdev;this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(val){val?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(val){val?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return FS.isDir(this.mode)}get isDevice(){return FS.isChrdev(this.mode)}},lookupPath(path,opts={}){if(!path){throw new FS.ErrnoError(44)}opts.follow_mount??=true;if(!PATH.isAbs(path)){path=FS.cwd()+"/"+path}linkloop:for(var nlinks=0;nlinks<40;nlinks++){var parts=path.split("/").filter(p=>!!p);var current=FS.root;var current_path="/";for(var i=0;i<parts.length;i++){var islast=i===parts.length-1;if(islast&&opts.parent){break}if(parts[i]==="."){continue}if(parts[i]===".."){current_path=PATH.dirname(current_path);current=current.parent;continue}current_path=PATH.join2(current_path,parts[i]);try{current=FS.lookupNode(current,parts[i])}catch(e){if(e?.errno===44&&islast&&opts.noent_okay){return{path:current_path}}throw e}if(FS.isMountpoint(current)&&(!islast||opts.follow_mount)){current=current.mounted.root}if(FS.isLink(current.mode)&&(!islast||opts.follow)){if(!current.node_ops.readlink){throw new FS.ErrnoError(52)}var link=current.node_ops.readlink(current);if(!PATH.isAbs(link)){link=PATH.dirname(current_path)+"/"+link}path=link+"/"+parts.slice(i+1).join("/");continue linkloop}}return{path:current_path,node:current}}throw new FS.ErrnoError(32)},getPath(node){var path;while(true){if(FS.isRoot(node)){var mount=node.mount.mountpoint;if(!path)return mount;return mount[mount.length-1]!=="/"?`${mount}/${path}`:mount+path}path=path?`${node.name}/${path}`:node.name;node=node.parent}},hashName(parentid,name){var hash=0;for(var i=0;i<name.length;i++){hash=(hash<<5)-hash+name.charCodeAt(i)|0}return(parentid+hash>>>0)%FS.nameTable.length},hashAddNode(node){var hash=FS.hashName(node.parent.id,node.name);node.name_next=FS.nameTable[hash];FS.nameTable[hash]=node},hashRemoveNode(node){var hash=FS.hashName(node.parent.id,node.name);if(FS.nameTable[hash]===node){FS.nameTable[hash]=node.name_next}else{var current=FS.nameTable[hash];while(current){if(current.name_next===node){current.name_next=node.name_next;break}current=current.name_next}}},lookupNode(parent,name){var errCode=FS.mayLookup(parent);if(errCode){throw new FS.ErrnoError(errCode)}var hash=FS.hashName(parent.id,name);for(var node=FS.nameTable[hash];node;node=node.name_next){var nodeName=node.name;if(node.parent.id===parent.id&&nodeName===name){return node}}return FS.lookup(parent,name)},createNode(parent,name,mode,rdev){var node=new FS.FSNode(parent,name,mode,rdev);FS.hashAddNode(node);return node},destroyNode(node){FS.hashRemoveNode(node)},isRoot(node){return node===node.parent},isMountpoint(node){return!!node.mounted},isFile(mode){return(mode&61440)===32768},isDir(mode){return(mode&61440)===16384},isLink(mode){return(mode&61440)===40960},isChrdev(mode){return(mode&61440)===8192},isBlkdev(mode){return(mode&61440)===24576},isFIFO(mode){return(mode&61440)===4096},isSocket(mode){return(mode&49152)===49152},flagsToPermissionString(flag){var perms=["r","w","rw"][flag&3];if(flag&512){perms+="w"}return perms},nodePermissions(node,perms){if(FS.ignorePermissions){return 0}if(perms.includes("r")&&!(node.mode&292)){return 2}else if(perms.includes("w")&&!(node.mode&146)){return 2}else if(perms.includes("x")&&!(node.mode&73)){return 2}return 0},mayLookup(dir){if(!FS.isDir(dir.mode))return 54;var errCode=FS.nodePermissions(dir,"x");if(errCode)return errCode;if(!dir.node_ops.lookup)return 2;return 0},mayCreate(dir,name){if(!FS.isDir(dir.mode)){return 54}try{var node=FS.lookupNode(dir,name);return 20}catch(e){}return FS.nodePermissions(dir,"wx")},mayDelete(dir,name,isdir){var node;try{node=FS.lookupNode(dir,name)}catch(e){return e.errno}var errCode=FS.nodePermissions(dir,"wx");if(errCode){return errCode}if(isdir){if(!FS.isDir(node.mode)){return 54}if(FS.isRoot(node)||FS.getPath(node)===FS.cwd()){return 10}}else{if(FS.isDir(node.mode)){return 31}}return 0},mayOpen(node,flags){if(!node){return 44}if(FS.isLink(node.mode)){return 32}else if(FS.isDir(node.mode)){if(FS.flagsToPermissionString(flags)!=="r"||flags&(512|64)){return 31}}return FS.nodePermissions(node,FS.flagsToPermissionString(flags))},checkOpExists(op,err){if(!op){throw new FS.ErrnoError(err)}return op},MAX_OPEN_FDS:4096,nextfd(){for(var fd=0;fd<=FS.MAX_OPEN_FDS;fd++){if(!FS.streams[fd]){return fd}}throw new FS.ErrnoError(33)},getStreamChecked(fd){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}return stream},getStream:fd=>FS.streams[fd],createStream(stream,fd=-1){stream=Object.assign(new FS.FSStream,stream);if(fd==-1){fd=FS.nextfd()}stream.fd=fd;FS.streams[fd]=stream;return stream},closeStream(fd){FS.streams[fd]=null},dupStream(origStream,fd=-1){var stream=FS.createStream(origStream,fd);stream.stream_ops?.dup?.(stream);return stream},doSetAttr(stream,node,attr){var setattr=stream?.stream_ops.setattr;var arg=setattr?stream:node;setattr??=node.node_ops.setattr;FS.checkOpExists(setattr,63);setattr(arg,attr)},chrdev_stream_ops:{open(stream){var device=FS.getDevice(stream.node.rdev);stream.stream_ops=device.stream_ops;stream.stream_ops.open?.(stream)},llseek(){throw new FS.ErrnoError(70)}},major:dev=>dev>>8,minor:dev=>dev&255,makedev:(ma,mi)=>ma<<8|mi,registerDevice(dev,ops){FS.devices[dev]={stream_ops:ops}},getDevice:dev=>FS.devices[dev],getMounts(mount){var mounts=[];var check=[mount];while(check.length){var m=check.pop();mounts.push(m);check.push(...m.mounts)}return mounts},syncfs(populate,callback){if(typeof populate=="function"){callback=populate;populate=false}FS.syncFSRequests++;if(FS.syncFSRequests>1){err(`warning: ${FS.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`)}var mounts=FS.getMounts(FS.root.mount);var completed=0;function doCallback(errCode){FS.syncFSRequests--;return callback(errCode)}function done(errCode){if(errCode){if(!done.errored){done.errored=true;return doCallback(errCode)}return}if(++completed>=mounts.length){doCallback(null)}}mounts.forEach(mount=>{if(!mount.type.syncfs){return done(null)}mount.type.syncfs(mount,populate,done)})},mount(type,opts,mountpoint){var root=mountpoint==="/";var pseudo=!mountpoint;var node;if(root&&FS.root){throw new FS.ErrnoError(10)}else if(!root&&!pseudo){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});mountpoint=lookup.path;node=lookup.node;if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}if(!FS.isDir(node.mode)){throw new FS.ErrnoError(54)}}var mount={type,opts,mountpoint,mounts:[]};var mountRoot=type.mount(mount);mountRoot.mount=mount;mount.root=mountRoot;if(root){FS.root=mountRoot}else if(node){node.mounted=mount;if(node.mount){node.mount.mounts.push(mount)}}return mountRoot},unmount(mountpoint){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});if(!FS.isMountpoint(lookup.node)){throw new FS.ErrnoError(28)}var node=lookup.node;var mount=node.mounted;var mounts=FS.getMounts(mount);Object.keys(FS.nameTable).forEach(hash=>{var current=FS.nameTable[hash];while(current){var next=current.name_next;if(mounts.includes(current.mount)){FS.destroyNode(current)}current=next}});node.mounted=null;var idx=node.mount.mounts.indexOf(mount);node.mount.mounts.splice(idx,1)},lookup(parent,name){return parent.node_ops.lookup(parent,name)},mknod(path,mode,dev){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);if(!name){throw new FS.ErrnoError(28)}if(name==="."||name===".."){throw new FS.ErrnoError(20)}var errCode=FS.mayCreate(parent,name);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.mknod){throw new FS.ErrnoError(63)}return parent.node_ops.mknod(parent,name,mode,dev)},statfs(path){return FS.statfsNode(FS.lookupPath(path,{follow:true}).node)},statfsStream(stream){return FS.statfsNode(stream.node)},statfsNode(node){var rtn={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:FS.nextInode,ffree:FS.nextInode-1,fsid:42,flags:2,namelen:255};if(node.node_ops.statfs){Object.assign(rtn,node.node_ops.statfs(node.mount.opts.root))}return rtn},create(path,mode=438){mode&=4095;mode|=32768;return FS.mknod(path,mode,0)},mkdir(path,mode=511){mode&=511|512;mode|=16384;return FS.mknod(path,mode,0)},mkdirTree(path,mode){var dirs=path.split("/");var d="";for(var i=0;i<dirs.length;++i){if(!dirs[i])continue;d+="/"+dirs[i];try{FS.mkdir(d,mode)}catch(e){if(e.errno!=20)throw e}}},mkdev(path,mode,dev){if(typeof dev=="undefined"){dev=mode;mode=438}mode|=8192;return FS.mknod(path,mode,dev)},symlink(oldpath,newpath){if(!PATH_FS.resolve(oldpath)){throw new FS.ErrnoError(44)}var lookup=FS.lookupPath(newpath,{parent:true});var parent=lookup.node;if(!parent){throw new FS.ErrnoError(44)}var newname=PATH.basename(newpath);var errCode=FS.mayCreate(parent,newname);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.symlink){throw new FS.ErrnoError(63)}return parent.node_ops.symlink(parent,newname,oldpath)},rename(old_path,new_path){var old_dirname=PATH.dirname(old_path);var new_dirname=PATH.dirname(new_path);var old_name=PATH.basename(old_path);var new_name=PATH.basename(new_path);var lookup,old_dir,new_dir;lookup=FS.lookupPath(old_path,{parent:true});old_dir=lookup.node;lookup=FS.lookupPath(new_path,{parent:true});new_dir=lookup.node;if(!old_dir||!new_dir)throw new FS.ErrnoError(44);if(old_dir.mount!==new_dir.mount){throw new FS.ErrnoError(75)}var old_node=FS.lookupNode(old_dir,old_name);var relative=PATH_FS.relative(old_path,new_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(28)}relative=PATH_FS.relative(new_path,old_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(55)}var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(old_node===new_node){return}var isdir=FS.isDir(old_node.mode);var errCode=FS.mayDelete(old_dir,old_name,isdir);if(errCode){throw new FS.ErrnoError(errCode)}errCode=new_node?FS.mayDelete(new_dir,new_name,isdir):FS.mayCreate(new_dir,new_name);if(errCode){throw new FS.ErrnoError(errCode)}if(!old_dir.node_ops.rename){throw new FS.ErrnoError(63)}if(FS.isMountpoint(old_node)||new_node&&FS.isMountpoint(new_node)){throw new FS.ErrnoError(10)}if(new_dir!==old_dir){errCode=FS.nodePermissions(old_dir,"w");if(errCode){throw new FS.ErrnoError(errCode)}}FS.hashRemoveNode(old_node);try{old_dir.node_ops.rename(old_node,new_dir,new_name);old_node.parent=new_dir}catch(e){throw e}finally{FS.hashAddNode(old_node)}},rmdir(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var errCode=FS.mayDelete(parent,name,true);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.rmdir){throw new FS.ErrnoError(63)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}parent.node_ops.rmdir(parent,name);FS.destroyNode(node)},readdir(path){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;var readdir=FS.checkOpExists(node.node_ops.readdir,54);return readdir(node)},unlink(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;if(!parent){throw new FS.ErrnoError(44)}var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var errCode=FS.mayDelete(parent,name,false);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.unlink){throw new FS.ErrnoError(63)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}parent.node_ops.unlink(parent,name);FS.destroyNode(node)},readlink(path){var lookup=FS.lookupPath(path);var link=lookup.node;if(!link){throw new FS.ErrnoError(44)}if(!link.node_ops.readlink){throw new FS.ErrnoError(28)}return link.node_ops.readlink(link)},stat(path,dontFollow){var lookup=FS.lookupPath(path,{follow:!dontFollow});var node=lookup.node;var getattr=FS.checkOpExists(node.node_ops.getattr,63);return getattr(node)},fstat(fd){var stream=FS.getStreamChecked(fd);var node=stream.node;var getattr=stream.stream_ops.getattr;var arg=getattr?stream:node;getattr??=node.node_ops.getattr;FS.checkOpExists(getattr,63);return getattr(arg)},lstat(path){return FS.stat(path,true)},doChmod(stream,node,mode,dontFollow){FS.doSetAttr(stream,node,{mode:mode&4095|node.mode&~4095,ctime:Date.now(),dontFollow})},chmod(path,mode,dontFollow){var node;if(typeof path=="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}FS.doChmod(null,node,mode,dontFollow)},lchmod(path,mode){FS.chmod(path,mode,true)},fchmod(fd,mode){var stream=FS.getStreamChecked(fd);FS.doChmod(stream,stream.node,mode,false)},doChown(stream,node,dontFollow){FS.doSetAttr(stream,node,{timestamp:Date.now(),dontFollow})},chown(path,uid,gid,dontFollow){var node;if(typeof path=="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}FS.doChown(null,node,dontFollow)},lchown(path,uid,gid){FS.chown(path,uid,gid,true)},fchown(fd,uid,gid){var stream=FS.getStreamChecked(fd);FS.doChown(stream,stream.node,false)},doTruncate(stream,node,len){if(FS.isDir(node.mode)){throw new FS.ErrnoError(31)}if(!FS.isFile(node.mode)){throw new FS.ErrnoError(28)}var errCode=FS.nodePermissions(node,"w");if(errCode){throw new FS.ErrnoError(errCode)}FS.doSetAttr(stream,node,{size:len,timestamp:Date.now()})},truncate(path,len){if(len<0){throw new FS.ErrnoError(28)}var node;if(typeof path=="string"){var lookup=FS.lookupPath(path,{follow:true});node=lookup.node}else{node=path}FS.doTruncate(null,node,len)},ftruncate(fd,len){var stream=FS.getStreamChecked(fd);if(len<0||(stream.flags&2097155)===0){throw new FS.ErrnoError(28)}FS.doTruncate(stream,stream.node,len)},utime(path,atime,mtime){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;var setattr=FS.checkOpExists(node.node_ops.setattr,63);setattr(node,{atime,mtime})},open(path,flags,mode=438){if(path===""){throw new FS.ErrnoError(44)}flags=typeof flags=="string"?FS_modeStringToFlags(flags):flags;if(flags&64){mode=mode&4095|32768}else{mode=0}var node;var isDirPath;if(typeof path=="object"){node=path}else{isDirPath=path.endsWith("/");var lookup=FS.lookupPath(path,{follow:!(flags&131072),noent_okay:true});node=lookup.node;path=lookup.path}var created=false;if(flags&64){if(node){if(flags&128){throw new FS.ErrnoError(20)}}else if(isDirPath){throw new FS.ErrnoError(31)}else{node=FS.mknod(path,mode|511,0);created=true}}if(!node){throw new FS.ErrnoError(44)}if(FS.isChrdev(node.mode)){flags&=~512}if(flags&65536&&!FS.isDir(node.mode)){throw new FS.ErrnoError(54)}if(!created){var errCode=FS.mayOpen(node,flags);if(errCode){throw new FS.ErrnoError(errCode)}}if(flags&512&&!created){FS.truncate(node,0)}flags&=~(128|512|131072);var stream=FS.createStream({node,path:FS.getPath(node),flags,seekable:true,position:0,stream_ops:node.stream_ops,ungotten:[],error:false});if(stream.stream_ops.open){stream.stream_ops.open(stream)}if(created){FS.chmod(node,mode&511)}if(Module["logReadFiles"]&&!(flags&1)){if(!(path in FS.readFiles)){FS.readFiles[path]=1}}return stream},close(stream){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(stream.getdents)stream.getdents=null;try{if(stream.stream_ops.close){stream.stream_ops.close(stream)}}catch(e){throw e}finally{FS.closeStream(stream.fd)}stream.fd=null},isClosed(stream){return stream.fd===null},llseek(stream,offset,whence){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(!stream.seekable||!stream.stream_ops.llseek){throw new FS.ErrnoError(70)}if(whence!=0&&whence!=1&&whence!=2){throw new FS.ErrnoError(28)}stream.position=stream.stream_ops.llseek(stream,offset,whence);stream.ungotten=[];return stream.position},read(stream,buffer,offset,length,position){if(length<0||position<0){throw new FS.ErrnoError(28)}if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(8)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(31)}if(!stream.stream_ops.read){throw new FS.ErrnoError(28)}var seeking=typeof position!="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(70)}var bytesRead=stream.stream_ops.read(stream,buffer,offset,length,position);if(!seeking)stream.position+=bytesRead;return bytesRead},write(stream,buffer,offset,length,position,canOwn){if(length<0||position<0){throw new FS.ErrnoError(28)}if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(8)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(31)}if(!stream.stream_ops.write){throw new FS.ErrnoError(28)}if(stream.seekable&&stream.flags&1024){FS.llseek(stream,0,2)}var seeking=typeof position!="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(70)}var bytesWritten=stream.stream_ops.write(stream,buffer,offset,length,position,canOwn);if(!seeking)stream.position+=bytesWritten;return bytesWritten},allocate(stream,offset,length){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(offset<0||length<=0){throw new FS.ErrnoError(28)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(8)}if(!FS.isFile(stream.node.mode)&&!FS.isDir(stream.node.mode)){throw new FS.ErrnoError(43)}if(!stream.stream_ops.allocate){throw new FS.ErrnoError(138)}stream.stream_ops.allocate(stream,offset,length)},mmap(stream,length,position,prot,flags){if((prot&2)!==0&&(flags&2)===0&&(stream.flags&2097155)!==2){throw new FS.ErrnoError(2)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(2)}if(!stream.stream_ops.mmap){throw new FS.ErrnoError(43)}if(!length){throw new FS.ErrnoError(28)}return stream.stream_ops.mmap(stream,length,position,prot,flags)},msync(stream,buffer,offset,length,mmapFlags){if(!stream.stream_ops.msync){return 0}return stream.stream_ops.msync(stream,buffer,offset,length,mmapFlags)},ioctl(stream,cmd,arg){if(!stream.stream_ops.ioctl){throw new FS.ErrnoError(59)}return stream.stream_ops.ioctl(stream,cmd,arg)},readFile(path,opts={}){opts.flags=opts.flags||0;opts.encoding=opts.encoding||"binary";if(opts.encoding!=="utf8"&&opts.encoding!=="binary"){throw new Error(`Invalid encoding type "${opts.encoding}"`)}var ret;var stream=FS.open(path,opts.flags);var stat=FS.stat(path);var length=stat.size;var buf=new Uint8Array(length);FS.read(stream,buf,0,length,0);if(opts.encoding==="utf8"){ret=UTF8ArrayToString(buf)}else if(opts.encoding==="binary"){ret=buf}FS.close(stream);return ret},writeFile(path,data,opts={}){opts.flags=opts.flags||577;var stream=FS.open(path,opts.flags,opts.mode);if(typeof data=="string"){var buf=new Uint8Array(lengthBytesUTF8(data)+1);var actualNumBytes=stringToUTF8Array(data,buf,0,buf.length);FS.write(stream,buf,0,actualNumBytes,undefined,opts.canOwn)}else if(ArrayBuffer.isView(data)){FS.write(stream,data,0,data.byteLength,undefined,opts.canOwn)}else{throw new Error("Unsupported data type")}FS.close(stream)},cwd:()=>FS.currentPath,chdir(path){var lookup=FS.lookupPath(path,{follow:true});if(lookup.node===null){throw new FS.ErrnoError(44)}if(!FS.isDir(lookup.node.mode)){throw new FS.ErrnoError(54)}var errCode=FS.nodePermissions(lookup.node,"x");if(errCode){throw new FS.ErrnoError(errCode)}FS.currentPath=lookup.path},createDefaultDirectories(){FS.mkdir("/tmp");FS.mkdir("/home");FS.mkdir("/home/web_user")},createDefaultDevices(){FS.mkdir("/dev");FS.registerDevice(FS.makedev(1,3),{read:()=>0,write:(stream,buffer,offset,length,pos)=>length,llseek:()=>0});FS.mkdev("/dev/null",FS.makedev(1,3));TTY.register(FS.makedev(5,0),TTY.default_tty_ops);TTY.register(FS.makedev(6,0),TTY.default_tty1_ops);FS.mkdev("/dev/tty",FS.makedev(5,0));FS.mkdev("/dev/tty1",FS.makedev(6,0));var randomBuffer=new Uint8Array(1024),randomLeft=0;var randomByte=()=>{if(randomLeft===0){randomFill(randomBuffer);randomLeft=randomBuffer.byteLength}return randomBuffer[--randomLeft]};FS.createDevice("/dev","random",randomByte);FS.createDevice("/dev","urandom",randomByte);FS.mkdir("/dev/shm");FS.mkdir("/dev/shm/tmp")},createSpecialDirectories(){FS.mkdir("/proc");var proc_self=FS.mkdir("/proc/self");FS.mkdir("/proc/self/fd");FS.mount({mount(){var node=FS.createNode(proc_self,"fd",16895,73);node.stream_ops={llseek:MEMFS.stream_ops.llseek};node.node_ops={lookup(parent,name){var fd=+name;var stream=FS.getStreamChecked(fd);var ret={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>stream.path},id:fd+1};ret.parent=ret;return ret},readdir(){return Array.from(FS.streams.entries()).filter(([k,v])=>v).map(([k,v])=>k.toString())}};return node}},{},"/proc/self/fd")},createStandardStreams(input,output,error){if(input){FS.createDevice("/dev","stdin",input)}else{FS.symlink("/dev/tty","/dev/stdin")}if(output){FS.createDevice("/dev","stdout",null,output)}else{FS.symlink("/dev/tty","/dev/stdout")}if(error){FS.createDevice("/dev","stderr",null,error)}else{FS.symlink("/dev/tty1","/dev/stderr")}var stdin=FS.open("/dev/stdin",0);var stdout=FS.open("/dev/stdout",1);var stderr=FS.open("/dev/stderr",1)},staticInit(){FS.nameTable=new Array(4096);FS.mount(MEMFS,{},"/");FS.createDefaultDirectories();FS.createDefaultDevices();FS.createSpecialDirectories();FS.filesystems={MEMFS}},init(input,output,error){FS.initialized=true;input??=Module["stdin"];output??=Module["stdout"];error??=Module["stderr"];FS.createStandardStreams(input,output,error)},quit(){FS.initialized=false;for(var i=0;i<FS.streams.length;i++){var stream=FS.streams[i];if(!stream){continue}FS.close(stream)}},findObject(path,dontResolveLastLink){var ret=FS.analyzePath(path,dontResolveLastLink);if(!ret.exists){return null}return ret.object},analyzePath(path,dontResolveLastLink){try{var lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});path=lookup.path}catch(e){}var ret={isRoot:false,exists:false,error:0,name:null,path:null,object:null,parentExists:false,parentPath:null,parentObject:null};try{var lookup=FS.lookupPath(path,{parent:true});ret.parentExists=true;ret.parentPath=lookup.path;ret.parentObject=lookup.node;ret.name=PATH.basename(path);lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});ret.exists=true;ret.path=lookup.path;ret.object=lookup.node;ret.name=lookup.node.name;ret.isRoot=lookup.path==="/"}catch(e){ret.error=e.errno}return ret},createPath(parent,path,canRead,canWrite){parent=typeof parent=="string"?parent:FS.getPath(parent);var parts=path.split("/").reverse();while(parts.length){var part=parts.pop();if(!part)continue;var current=PATH.join2(parent,part);try{FS.mkdir(current)}catch(e){}parent=current}return current},createFile(parent,name,properties,canRead,canWrite){var path=PATH.join2(typeof parent=="string"?parent:FS.getPath(parent),name);var mode=FS_getMode(canRead,canWrite);return FS.create(path,mode)},createDataFile(parent,name,data,canRead,canWrite,canOwn){var path=name;if(parent){parent=typeof parent=="string"?parent:FS.getPath(parent);path=name?PATH.join2(parent,name):parent}var mode=FS_getMode(canRead,canWrite);var node=FS.create(path,mode);if(data){if(typeof data=="string"){var arr=new Array(data.length);for(var i=0,len=data.length;i<len;++i)arr[i]=data.charCodeAt(i);data=arr}FS.chmod(node,mode|146);var stream=FS.open(node,577);FS.write(stream,data,0,data.length,0,canOwn);FS.close(stream);FS.chmod(node,mode)}},createDevice(parent,name,input,output){var path=PATH.join2(typeof parent=="string"?parent:FS.getPath(parent),name);var mode=FS_getMode(!!input,!!output);FS.createDevice.major??=64;var dev=FS.makedev(FS.createDevice.major++,0);FS.registerDevice(dev,{open(stream){stream.seekable=false},close(stream){if(output?.buffer?.length){output(10)}},read(stream,buffer,offset,length,pos){var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=input()}catch(e){throw new FS.ErrnoError(29)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(6)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.atime=Date.now()}return bytesRead},write(stream,buffer,offset,length,pos){for(var i=0;i<length;i++){try{output(buffer[offset+i])}catch(e){throw new FS.ErrnoError(29)}}if(length){stream.node.mtime=stream.node.ctime=Date.now()}return i}});return FS.mkdev(path,mode,dev)},forceLoadFile(obj){if(obj.isDevice||obj.isFolder||obj.link||obj.contents)return true;if(typeof XMLHttpRequest!="undefined"){throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.")}else{try{obj.contents=readBinary(obj.url);obj.usedBytes=obj.contents.length}catch(e){throw new FS.ErrnoError(29)}}},createLazyFile(parent,name,url,canRead,canWrite){class LazyUint8Array{lengthKnown=false;chunks=[];get(idx){if(idx>this.length-1||idx<0){return undefined}var chunkOffset=idx%this.chunkSize;var chunkNum=idx/this.chunkSize|0;return this.getter(chunkNum)[chunkOffset]}setDataGetter(getter){this.getter=getter}cacheLength(){var xhr=new XMLHttpRequest;xhr.open("HEAD",url,false);xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))throw new Error("Couldn\'t load "+url+". Status: "+xhr.status);var datalength=Number(xhr.getResponseHeader("Content-length"));var header;var hasByteServing=(header=xhr.getResponseHeader("Accept-Ranges"))&&header==="bytes";var usesGzip=(header=xhr.getResponseHeader("Content-Encoding"))&&header==="gzip";var chunkSize=1024*1024;if(!hasByteServing)chunkSize=datalength;var doXHR=(from,to)=>{if(from>to)throw new Error("invalid range ("+from+", "+to+") or no bytes requested!");if(to>datalength-1)throw new Error("only "+datalength+" bytes available! programmer error!");var xhr=new XMLHttpRequest;xhr.open("GET",url,false);if(datalength!==chunkSize)xhr.setRequestHeader("Range","bytes="+from+"-"+to);xhr.responseType="arraybuffer";if(xhr.overrideMimeType){xhr.overrideMimeType("text/plain; charset=x-user-defined")}xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))throw new Error("Couldn\'t load "+url+". Status: "+xhr.status);if(xhr.response!==undefined){return new Uint8Array(xhr.response||[])}return intArrayFromString(xhr.responseText||"",true)};var lazyArray=this;lazyArray.setDataGetter(chunkNum=>{var start=chunkNum*chunkSize;var end=(chunkNum+1)*chunkSize-1;end=Math.min(end,datalength-1);if(typeof lazyArray.chunks[chunkNum]=="undefined"){lazyArray.chunks[chunkNum]=doXHR(start,end)}if(typeof lazyArray.chunks[chunkNum]=="undefined")throw new Error("doXHR failed!");return lazyArray.chunks[chunkNum]});if(usesGzip||!datalength){chunkSize=datalength=1;datalength=this.getter(0).length;chunkSize=datalength;out("LazyFiles on gzip forces download of the whole file when length is accessed")}this._length=datalength;this._chunkSize=chunkSize;this.lengthKnown=true}get length(){if(!this.lengthKnown){this.cacheLength()}return this._length}get chunkSize(){if(!this.lengthKnown){this.cacheLength()}return this._chunkSize}}if(typeof XMLHttpRequest!="undefined"){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var lazyArray=new LazyUint8Array;var properties={isDevice:false,contents:lazyArray}}else{var properties={isDevice:false,url}}var node=FS.createFile(parent,name,properties,canRead,canWrite);if(properties.contents){node.contents=properties.contents}else if(properties.url){node.contents=null;node.url=properties.url}Object.defineProperties(node,{usedBytes:{get:function(){return this.contents.length}}});var stream_ops={};var keys=Object.keys(node.stream_ops);keys.forEach(key=>{var fn=node.stream_ops[key];stream_ops[key]=(...args)=>{FS.forceLoadFile(node);return fn(...args)}});function writeChunks(stream,buffer,offset,length,position){var contents=stream.node.contents;if(position>=contents.length)return 0;var size=Math.min(contents.length-position,length);if(contents.slice){for(var i=0;i<size;i++){buffer[offset+i]=contents[position+i]}}else{for(var i=0;i<size;i++){buffer[offset+i]=contents.get(position+i)}}return size}stream_ops.read=(stream,buffer,offset,length,position)=>{FS.forceLoadFile(node);return writeChunks(stream,buffer,offset,length,position)};stream_ops.mmap=(stream,length,position,prot,flags)=>{FS.forceLoadFile(node);var ptr=mmapAlloc(length);if(!ptr){throw new FS.ErrnoError(48)}writeChunks(stream,GROWABLE_HEAP_I8(),ptr,length,position);return{ptr,allocated:true}};node.stream_ops=stream_ops;return node}};Module["FS"]=FS;var UTF8ToString=(ptr,maxBytesToRead)=>{ptr>>>=0;return ptr?UTF8ArrayToString(GROWABLE_HEAP_U8(),ptr,maxBytesToRead):""};Module["UTF8ToString"]=UTF8ToString;var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt(dirfd,path,allowEmpty){if(PATH.isAbs(path)){return path}var dir;if(dirfd===-100){dir=FS.cwd()}else{var dirstream=SYSCALLS.getStreamFromFD(dirfd);dir=dirstream.path}if(path.length==0){if(!allowEmpty){throw new FS.ErrnoError(44)}return dir}return dir+"/"+path},writeStat(buf,stat){GROWABLE_HEAP_I32()[buf>>>2>>>0]=stat.dev;GROWABLE_HEAP_I32()[buf+4>>>2>>>0]=stat.mode;GROWABLE_HEAP_U32()[buf+8>>>2>>>0]=stat.nlink;GROWABLE_HEAP_I32()[buf+12>>>2>>>0]=stat.uid;GROWABLE_HEAP_I32()[buf+16>>>2>>>0]=stat.gid;GROWABLE_HEAP_I32()[buf+20>>>2>>>0]=stat.rdev;HEAP64[buf+24>>>3]=BigInt(stat.size);GROWABLE_HEAP_I32()[buf+32>>>2>>>0]=4096;GROWABLE_HEAP_I32()[buf+36>>>2>>>0]=stat.blocks;var atime=stat.atime.getTime();var mtime=stat.mtime.getTime();var ctime=stat.ctime.getTime();HEAP64[buf+40>>>3]=BigInt(Math.floor(atime/1e3));GROWABLE_HEAP_U32()[buf+48>>>2>>>0]=atime%1e3*1e3*1e3;HEAP64[buf+56>>>3]=BigInt(Math.floor(mtime/1e3));GROWABLE_HEAP_U32()[buf+64>>>2>>>0]=mtime%1e3*1e3*1e3;HEAP64[buf+72>>>3]=BigInt(Math.floor(ctime/1e3));GROWABLE_HEAP_U32()[buf+80>>>2>>>0]=ctime%1e3*1e3*1e3;HEAP64[buf+88>>>3]=BigInt(stat.ino);return 0},writeStatFs(buf,stats){GROWABLE_HEAP_I32()[buf+4>>>2>>>0]=stats.bsize;GROWABLE_HEAP_I32()[buf+40>>>2>>>0]=stats.bsize;GROWABLE_HEAP_I32()[buf+8>>>2>>>0]=stats.blocks;GROWABLE_HEAP_I32()[buf+12>>>2>>>0]=stats.bfree;GROWABLE_HEAP_I32()[buf+16>>>2>>>0]=stats.bavail;GROWABLE_HEAP_I32()[buf+20>>>2>>>0]=stats.files;GROWABLE_HEAP_I32()[buf+24>>>2>>>0]=stats.ffree;GROWABLE_HEAP_I32()[buf+28>>>2>>>0]=stats.fsid;GROWABLE_HEAP_I32()[buf+44>>>2>>>0]=stats.flags;GROWABLE_HEAP_I32()[buf+36>>>2>>>0]=stats.namelen},doMsync(addr,stream,len,flags,offset){if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(43)}if(flags&2){return 0}var buffer=GROWABLE_HEAP_U8().slice(addr,addr+len);FS.msync(stream,buffer,offset,len,flags)},getStreamFromFD(fd){var stream=FS.getStreamChecked(fd);return stream},varargs:undefined,getStr(ptr){var ret=UTF8ToString(ptr);return ret}};Module["SYSCALLS"]=SYSCALLS;function ___syscall_fcntl64(fd,cmd,varargs){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(3,0,1,fd,cmd,varargs);varargs>>>=0;SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(cmd){case 0:{var arg=syscallGetVarargI();if(arg<0){return-28}while(FS.streams[arg]){arg++}var newStream;newStream=FS.dupStream(stream,arg);return newStream.fd}case 1:case 2:return 0;case 3:return stream.flags;case 4:{var arg=syscallGetVarargI();stream.flags|=arg;return 0}case 12:{var arg=syscallGetVarargP();var offset=0;GROWABLE_HEAP_I16()[arg+offset>>>1>>>0]=2;return 0}case 13:case 14:return 0}return-28}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}Module["___syscall_fcntl64"]=___syscall_fcntl64;function ___syscall_ioctl(fd,op,varargs){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(4,0,1,fd,op,varargs);varargs>>>=0;SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(op){case 21509:{if(!stream.tty)return-59;return 0}case 21505:{if(!stream.tty)return-59;if(stream.tty.ops.ioctl_tcgets){var termios=stream.tty.ops.ioctl_tcgets(stream);var argp=syscallGetVarargP();GROWABLE_HEAP_I32()[argp>>>2>>>0]=termios.c_iflag||0;GROWABLE_HEAP_I32()[argp+4>>>2>>>0]=termios.c_oflag||0;GROWABLE_HEAP_I32()[argp+8>>>2>>>0]=termios.c_cflag||0;GROWABLE_HEAP_I32()[argp+12>>>2>>>0]=termios.c_lflag||0;for(var i=0;i<32;i++){GROWABLE_HEAP_I8()[argp+i+17>>>0]=termios.c_cc[i]||0}return 0}return 0}case 21510:case 21511:case 21512:{if(!stream.tty)return-59;return 0}case 21506:case 21507:case 21508:{if(!stream.tty)return-59;if(stream.tty.ops.ioctl_tcsets){var argp=syscallGetVarargP();var c_iflag=GROWABLE_HEAP_I32()[argp>>>2>>>0];var c_oflag=GROWABLE_HEAP_I32()[argp+4>>>2>>>0];var c_cflag=GROWABLE_HEAP_I32()[argp+8>>>2>>>0];var c_lflag=GROWABLE_HEAP_I32()[argp+12>>>2>>>0];var c_cc=[];for(var i=0;i<32;i++){c_cc.push(GROWABLE_HEAP_I8()[argp+i+17>>>0])}return stream.tty.ops.ioctl_tcsets(stream.tty,op,{c_iflag,c_oflag,c_cflag,c_lflag,c_cc})}return 0}case 21519:{if(!stream.tty)return-59;var argp=syscallGetVarargP();GROWABLE_HEAP_I32()[argp>>>2>>>0]=0;return 0}case 21520:{if(!stream.tty)return-59;return-28}case 21531:{var argp=syscallGetVarargP();return FS.ioctl(stream,op,argp)}case 21523:{if(!stream.tty)return-59;if(stream.tty.ops.ioctl_tiocgwinsz){var winsize=stream.tty.ops.ioctl_tiocgwinsz(stream.tty);var argp=syscallGetVarargP();GROWABLE_HEAP_I16()[argp>>>1>>>0]=winsize[0];GROWABLE_HEAP_I16()[argp+2>>>1>>>0]=winsize[1]}return 0}case 21524:{if(!stream.tty)return-59;return 0}case 21515:{if(!stream.tty)return-59;return 0}default:return-28}}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}Module["___syscall_ioctl"]=___syscall_ioctl;function ___syscall_openat(dirfd,path,flags,varargs){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(5,0,1,dirfd,path,flags,varargs);path>>>=0;varargs>>>=0;SYSCALLS.varargs=varargs;try{path=SYSCALLS.getStr(path);path=SYSCALLS.calculateAt(dirfd,path);var mode=varargs?syscallGetVarargI():0;return FS.open(path,flags,mode).fd}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}Module["___syscall_openat"]=___syscall_openat;var __abort_js=()=>abort("");Module["__abort_js"]=__abort_js;function __emscripten_init_main_thread_js(tb){tb>>>=0;__emscripten_thread_init(tb,!ENVIRONMENT_IS_WORKER,1,!ENVIRONMENT_IS_WEB,65536,false);PThread.threadInitTLS()}Module["__emscripten_init_main_thread_js"]=__emscripten_init_main_thread_js;var maybeExit=()=>{if(!keepRuntimeAlive()){try{if(ENVIRONMENT_IS_PTHREAD)__emscripten_thread_exit(EXITSTATUS);else _exit(EXITSTATUS)}catch(e){handleException(e)}}};Module["maybeExit"]=maybeExit;var callUserCallback=func=>{if(ABORT){return}try{func();maybeExit()}catch(e){handleException(e)}};Module["callUserCallback"]=callUserCallback;function __emscripten_thread_mailbox_await(pthread_ptr){pthread_ptr>>>=0;if(typeof Atomics.waitAsync==="function"){var wait=Atomics.waitAsync(GROWABLE_HEAP_I32(),pthread_ptr>>>2,pthread_ptr);wait.value.then(checkMailbox);var waitingAsync=pthread_ptr+128;Atomics.store(GROWABLE_HEAP_I32(),waitingAsync>>>2,1)}}Module["__emscripten_thread_mailbox_await"]=__emscripten_thread_mailbox_await;var checkMailbox=()=>{var pthread_ptr=_pthread_self();if(pthread_ptr){__emscripten_thread_mailbox_await(pthread_ptr);callUserCallback(__emscripten_check_mailbox)}};Module["checkMailbox"]=checkMailbox;function __emscripten_notify_mailbox_postmessage(targetThread,currThreadId){targetThread>>>=0;currThreadId>>>=0;if(targetThread==currThreadId){setTimeout(checkMailbox)}else if(ENVIRONMENT_IS_PTHREAD){postMessage({targetThread,cmd:"checkMailbox"})}else{var worker=PThread.pthreads[targetThread];if(!worker){return}worker.postMessage({cmd:"checkMailbox"})}}Module["__emscripten_notify_mailbox_postmessage"]=__emscripten_notify_mailbox_postmessage;var proxiedJSCallArgs=[];Module["proxiedJSCallArgs"]=proxiedJSCallArgs;function __emscripten_receive_on_main_thread_js(funcIndex,emAsmAddr,callingThread,numCallArgs,args){emAsmAddr>>>=0;callingThread>>>=0;args>>>=0;numCallArgs/=2;proxiedJSCallArgs.length=numCallArgs;var b=args>>>3;for(var i=0;i<numCallArgs;i++){if(HEAP64[b+2*i]){proxiedJSCallArgs[i]=HEAP64[b+2*i+1]}else{proxiedJSCallArgs[i]=GROWABLE_HEAP_F64()[b+2*i+1>>>0]}}var func=proxiedFunctionTable[funcIndex];PThread.currentProxiedOperationCallerThread=callingThread;var rtn=func(...proxiedJSCallArgs);PThread.currentProxiedOperationCallerThread=0;return rtn}Module["__emscripten_receive_on_main_thread_js"]=__emscripten_receive_on_main_thread_js;var __emscripten_runtime_keepalive_clear=()=>{noExitRuntime=false;runtimeKeepaliveCounter=0};Module["__emscripten_runtime_keepalive_clear"]=__emscripten_runtime_keepalive_clear;function __emscripten_thread_cleanup(thread){thread>>>=0;if(!ENVIRONMENT_IS_PTHREAD)cleanupThread(thread);else postMessage({cmd:"cleanupThread",thread})}Module["__emscripten_thread_cleanup"]=__emscripten_thread_cleanup;function __emscripten_thread_set_strongref(thread){thread>>>=0;if(ENVIRONMENT_IS_NODE){PThread.pthreads[thread].ref()}}Module["__emscripten_thread_set_strongref"]=__emscripten_thread_set_strongref;function __mmap_js(len,prot,flags,fd,offset,allocated,addr){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(6,0,1,len,prot,flags,fd,offset,allocated,addr);len>>>=0;offset=bigintToI53Checked(offset);allocated>>>=0;addr>>>=0;try{if(isNaN(offset))return 61;var stream=SYSCALLS.getStreamFromFD(fd);var res=FS.mmap(stream,len,offset,prot,flags);var ptr=res.ptr;GROWABLE_HEAP_I32()[allocated>>>2>>>0]=res.allocated;GROWABLE_HEAP_U32()[addr>>>2>>>0]=ptr;return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}Module["__mmap_js"]=__mmap_js;function __munmap_js(addr,len,prot,flags,fd,offset){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(7,0,1,addr,len,prot,flags,fd,offset);addr>>>=0;len>>>=0;offset=bigintToI53Checked(offset);try{var stream=SYSCALLS.getStreamFromFD(fd);if(prot&2){SYSCALLS.doMsync(addr,stream,len,flags,offset)}}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}Module["__munmap_js"]=__munmap_js;var timers={};Module["timers"]=timers;var _emscripten_get_now=()=>performance.timeOrigin+performance.now();Module["_emscripten_get_now"]=_emscripten_get_now;function __setitimer_js(which,timeout_ms){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(8,0,1,which,timeout_ms);if(timers[which]){clearTimeout(timers[which].id);delete timers[which]}if(!timeout_ms)return 0;var id=setTimeout(()=>{delete timers[which];callUserCallback(()=>__emscripten_timeout(which,_emscripten_get_now()))},timeout_ms);timers[which]={id,timeout_ms};return 0}Module["__setitimer_js"]=__setitimer_js;var stringToUTF8=(str,outPtr,maxBytesToWrite)=>stringToUTF8Array(str,GROWABLE_HEAP_U8(),outPtr,maxBytesToWrite);Module["stringToUTF8"]=stringToUTF8;var __tzset_js=function(timezone,daylight,std_name,dst_name){timezone>>>=0;daylight>>>=0;std_name>>>=0;dst_name>>>=0;var currentYear=(new Date).getFullYear();var winter=new Date(currentYear,0,1);var summer=new Date(currentYear,6,1);var winterOffset=winter.getTimezoneOffset();var summerOffset=summer.getTimezoneOffset();var stdTimezoneOffset=Math.max(winterOffset,summerOffset);GROWABLE_HEAP_U32()[timezone>>>2>>>0]=stdTimezoneOffset*60;GROWABLE_HEAP_I32()[daylight>>>2>>>0]=Number(winterOffset!=summerOffset);var extractZone=timezoneOffset=>{var sign=timezoneOffset>=0?"-":"+";var absOffset=Math.abs(timezoneOffset);var hours=String(Math.floor(absOffset/60)).padStart(2,"0");var minutes=String(absOffset%60).padStart(2,"0");return`UTC${sign}${hours}${minutes}`};var winterName=extractZone(winterOffset);var summerName=extractZone(summerOffset);if(summerOffset<winterOffset){stringToUTF8(winterName,std_name,17);stringToUTF8(summerName,dst_name,17)}else{stringToUTF8(winterName,dst_name,17);stringToUTF8(summerName,std_name,17)}};Module["__tzset_js"]=__tzset_js;var _emscripten_date_now=()=>Date.now();Module["_emscripten_date_now"]=_emscripten_date_now;var nowIsMonotonic=1;Module["nowIsMonotonic"]=nowIsMonotonic;var checkWasiClock=clock_id=>clock_id>=0&&clock_id<=3;Module["checkWasiClock"]=checkWasiClock;function _clock_time_get(clk_id,ignored_precision,ptime){ignored_precision=bigintToI53Checked(ignored_precision);ptime>>>=0;if(!checkWasiClock(clk_id)){return 28}var now;if(clk_id===0){now=_emscripten_date_now()}else if(nowIsMonotonic){now=_emscripten_get_now()}else{return 52}var nsec=Math.round(now*1e3*1e3);HEAP64[ptime>>>3]=BigInt(nsec);return 0}Module["_clock_time_get"]=_clock_time_get;var warnOnce=text=>{warnOnce.shown||={};if(!warnOnce.shown[text]){warnOnce.shown[text]=1;if(ENVIRONMENT_IS_NODE)text="warning: "+text;err(text)}};Module["warnOnce"]=warnOnce;var _emscripten_check_blocking_allowed=()=>{};Module["_emscripten_check_blocking_allowed"]=_emscripten_check_blocking_allowed;var runtimeKeepalivePush=()=>{runtimeKeepaliveCounter+=1};Module["runtimeKeepalivePush"]=runtimeKeepalivePush;var _emscripten_exit_with_live_runtime=()=>{runtimeKeepalivePush();throw"unwind"};Module["_emscripten_exit_with_live_runtime"]=_emscripten_exit_with_live_runtime;var getHeapMax=()=>4294901760;Module["getHeapMax"]=getHeapMax;function _emscripten_get_heap_max(){return getHeapMax()}Module["_emscripten_get_heap_max"]=_emscripten_get_heap_max;var _emscripten_num_logical_cores=()=>ENVIRONMENT_IS_NODE?require("os").cpus().length:navigator["hardwareConcurrency"];Module["_emscripten_num_logical_cores"]=_emscripten_num_logical_cores;var growMemory=size=>{var b=wasmMemory.buffer;var pages=(size-b.byteLength+65535)/65536|0;try{wasmMemory.grow(pages);updateMemoryViews();return 1}catch(e){}};Module["growMemory"]=growMemory;function _emscripten_resize_heap(requestedSize){requestedSize>>>=0;var oldSize=GROWABLE_HEAP_U8().length;if(requestedSize<=oldSize){return false}var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){return false}for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignMemory(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true}}return false}Module["_emscripten_resize_heap"]=_emscripten_resize_heap;var ENV={};Module["ENV"]=ENV;var getExecutableName=()=>thisProgram||"./this.program";Module["getExecutableName"]=getExecutableName;var getEnvStrings=()=>{if(!getEnvStrings.strings){var lang=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8";var env={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:lang,_:getExecutableName()};for(var x in ENV){if(ENV[x]===undefined)delete env[x];else env[x]=ENV[x]}var strings=[];for(var x in env){strings.push(`${x}=${env[x]}`)}getEnvStrings.strings=strings}return getEnvStrings.strings};Module["getEnvStrings"]=getEnvStrings;var stringToAscii=(str,buffer)=>{for(var i=0;i<str.length;++i){GROWABLE_HEAP_I8()[buffer++>>>0]=str.charCodeAt(i)}GROWABLE_HEAP_I8()[buffer>>>0]=0};Module["stringToAscii"]=stringToAscii;var _environ_get=function(__environ,environ_buf){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(9,0,1,__environ,environ_buf);__environ>>>=0;environ_buf>>>=0;var bufSize=0;getEnvStrings().forEach((string,i)=>{var ptr=environ_buf+bufSize;GROWABLE_HEAP_U32()[__environ+i*4>>>2>>>0]=ptr;stringToAscii(string,ptr);bufSize+=string.length+1});return 0};Module["_environ_get"]=_environ_get;var _environ_sizes_get=function(penviron_count,penviron_buf_size){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(10,0,1,penviron_count,penviron_buf_size);penviron_count>>>=0;penviron_buf_size>>>=0;var strings=getEnvStrings();GROWABLE_HEAP_U32()[penviron_count>>>2>>>0]=strings.length;var bufSize=0;strings.forEach(string=>bufSize+=string.length+1);GROWABLE_HEAP_U32()[penviron_buf_size>>>2>>>0]=bufSize;return 0};Module["_environ_sizes_get"]=_environ_sizes_get;function _fd_close(fd){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(11,0,1,fd);try{var stream=SYSCALLS.getStreamFromFD(fd);FS.close(stream);return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}Module["_fd_close"]=_fd_close;var doReadv=(stream,iov,iovcnt,offset)=>{var ret=0;for(var i=0;i<iovcnt;i++){var ptr=GROWABLE_HEAP_U32()[iov>>>2>>>0];var len=GROWABLE_HEAP_U32()[iov+4>>>2>>>0];iov+=8;var curr=FS.read(stream,GROWABLE_HEAP_I8(),ptr,len,offset);if(curr<0)return-1;ret+=curr;if(curr<len)break;if(typeof offset!="undefined"){offset+=curr}}return ret};Module["doReadv"]=doReadv;function _fd_read(fd,iov,iovcnt,pnum){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(12,0,1,fd,iov,iovcnt,pnum);iov>>>=0;iovcnt>>>=0;pnum>>>=0;try{var stream=SYSCALLS.getStreamFromFD(fd);var num=doReadv(stream,iov,iovcnt);GROWABLE_HEAP_U32()[pnum>>>2>>>0]=num;return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}Module["_fd_read"]=_fd_read;function _fd_seek(fd,offset,whence,newOffset){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(13,0,1,fd,offset,whence,newOffset);offset=bigintToI53Checked(offset);newOffset>>>=0;try{if(isNaN(offset))return 61;var stream=SYSCALLS.getStreamFromFD(fd);FS.llseek(stream,offset,whence);HEAP64[newOffset>>>3]=BigInt(stream.position);if(stream.getdents&&offset===0&&whence===0)stream.getdents=null;return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}Module["_fd_seek"]=_fd_seek;var doWritev=(stream,iov,iovcnt,offset)=>{var ret=0;for(var i=0;i<iovcnt;i++){var ptr=GROWABLE_HEAP_U32()[iov>>>2>>>0];var len=GROWABLE_HEAP_U32()[iov+4>>>2>>>0];iov+=8;var curr=FS.write(stream,GROWABLE_HEAP_I8(),ptr,len,offset);if(curr<0)return-1;ret+=curr;if(curr<len){break}if(typeof offset!="undefined"){offset+=curr}}return ret};Module["doWritev"]=doWritev;function _fd_write(fd,iov,iovcnt,pnum){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(14,0,1,fd,iov,iovcnt,pnum);iov>>>=0;iovcnt>>>=0;pnum>>>=0;try{var stream=SYSCALLS.getStreamFromFD(fd);var num=doWritev(stream,iov,iovcnt);GROWABLE_HEAP_U32()[pnum>>>2>>>0]=num;return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}Module["_fd_write"]=_fd_write;function _random_get(buffer,size){buffer>>>=0;size>>>=0;try{randomFill(GROWABLE_HEAP_U8().subarray(buffer>>>0,buffer+size>>>0));return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}Module["_random_get"]=_random_get;var getCFunc=ident=>{var func=Module["_"+ident];return func};Module["getCFunc"]=getCFunc;var writeArrayToMemory=(array,buffer)=>{GROWABLE_HEAP_I8().set(array,buffer>>>0)};Module["writeArrayToMemory"]=writeArrayToMemory;var stringToUTF8OnStack=str=>{var size=lengthBytesUTF8(str)+1;var ret=stackAlloc(size);stringToUTF8(str,ret,size);return ret};Module["stringToUTF8OnStack"]=stringToUTF8OnStack;var ccall=(ident,returnType,argTypes,args,opts)=>{var toC={string:str=>{var ret=0;if(str!==null&&str!==undefined&&str!==0){ret=stringToUTF8OnStack(str)}return ret},array:arr=>{var ret=stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret}};function convertReturnValue(ret){if(returnType==="string"){return UTF8ToString(ret)}if(returnType==="boolean")return Boolean(ret);return ret}var func=getCFunc(ident);var cArgs=[];var stack=0;if(args){for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];if(converter){if(stack===0)stack=stackSave();cArgs[i]=converter(args[i])}else{cArgs[i]=args[i]}}}var ret=func(...cArgs);function onDone(ret){if(stack!==0)stackRestore(stack);return convertReturnValue(ret)}ret=onDone(ret);return ret};Module["ccall"]=ccall;var cwrap=(ident,returnType,argTypes,opts)=>{var numericArgs=!argTypes||argTypes.every(type=>type==="number"||type==="boolean");var numericRet=returnType!=="string";if(numericRet&&numericArgs&&!opts){return getCFunc(ident)}return(...args)=>ccall(ident,returnType,argTypes,args,opts)};Module["cwrap"]=cwrap;var FS_createPath=FS.createPath;Module["FS_createPath"]=FS_createPath;var FS_unlink=path=>FS.unlink(path);Module["FS_unlink"]=FS_unlink;var FS_createLazyFile=FS.createLazyFile;Module["FS_createLazyFile"]=FS_createLazyFile;var FS_createDevice=FS.createDevice;Module["FS_createDevice"]=FS_createDevice;PThread.init();FS.createPreloadedFile=FS_createPreloadedFile;FS.staticInit();Module["FS_createPath"]=FS.createPath;Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;Module["FS_unlink"]=FS.unlink;Module["FS_createLazyFile"]=FS.createLazyFile;Module["FS_createDevice"]=FS.createDevice;MEMFS.doesNotExistError=new FS.ErrnoError(44);MEMFS.doesNotExistError.stack="<generic error, no stack>";var proxiedFunctionTable=[_proc_exit,exitOnMainThread,pthreadCreateProxied,___syscall_fcntl64,___syscall_ioctl,___syscall_openat,__mmap_js,__munmap_js,__setitimer_js,_environ_get,_environ_sizes_get,_fd_close,_fd_read,_fd_seek,_fd_write];var wasmImports;function assignWasmImports(){wasmImports={u:___pthread_create_js,c:___syscall_fcntl64,h:___syscall_ioctl,i:___syscall_openat,H:__abort_js,C:__emscripten_init_main_thread_js,q:__emscripten_notify_mailbox_postmessage,v:__emscripten_receive_on_main_thread_js,l:__emscripten_runtime_keepalive_clear,d:__emscripten_thread_cleanup,B:__emscripten_thread_mailbox_await,n:__emscripten_thread_set_strongref,x:__mmap_js,y:__munmap_js,m:__setitimer_js,z:__tzset_js,G:_clock_time_get,e:_emscripten_check_blocking_allowed,w:_emscripten_date_now,j:_emscripten_exit_with_live_runtime,r:_emscripten_get_heap_max,b:_emscripten_get_now,s:_emscripten_num_logical_cores,p:_emscripten_resize_heap,D:_environ_get,E:_environ_sizes_get,t:_exit,f:_fd_close,g:_fd_read,A:_fd_seek,F:_fd_write,a:wasmMemory,k:_proc_exit,o:_random_get}}var wasmExports;createWasm();var ___wasm_call_ctors=()=>(___wasm_call_ctors=wasmExports["I"])();var _wllama_malloc=Module["_wllama_malloc"]=(a0,a1)=>(_wllama_malloc=Module["_wllama_malloc"]=wasmExports["J"])(a0,a1);var _wllama_start=Module["_wllama_start"]=()=>(_wllama_start=Module["_wllama_start"]=wasmExports["K"])();var _wllama_action=Module["_wllama_action"]=(a0,a1)=>(_wllama_action=Module["_wllama_action"]=wasmExports["L"])(a0,a1);var _wllama_exit=Module["_wllama_exit"]=()=>(_wllama_exit=Module["_wllama_exit"]=wasmExports["M"])();var _wllama_debug=Module["_wllama_debug"]=()=>(_wllama_debug=Module["_wllama_debug"]=wasmExports["N"])();var _main=Module["_main"]=(a0,a1)=>(_main=Module["_main"]=wasmExports["O"])(a0,a1);var __emscripten_tls_init=()=>(__emscripten_tls_init=wasmExports["P"])();var _pthread_self=()=>(_pthread_self=wasmExports["Q"])();var _emscripten_builtin_memalign=(a0,a1)=>(_emscripten_builtin_memalign=wasmExports["R"])(a0,a1);var __emscripten_thread_init=(a0,a1,a2,a3,a4,a5)=>(__emscripten_thread_init=wasmExports["T"])(a0,a1,a2,a3,a4,a5);var __emscripten_thread_crashed=()=>(__emscripten_thread_crashed=wasmExports["U"])();var __emscripten_run_on_main_thread_js=(a0,a1,a2,a3,a4)=>(__emscripten_run_on_main_thread_js=wasmExports["V"])(a0,a1,a2,a3,a4);var __emscripten_thread_free_data=a0=>(__emscripten_thread_free_data=wasmExports["W"])(a0);var __emscripten_thread_exit=a0=>(__emscripten_thread_exit=wasmExports["X"])(a0);var __emscripten_timeout=(a0,a1)=>(__emscripten_timeout=wasmExports["Y"])(a0,a1);var __emscripten_check_mailbox=()=>(__emscripten_check_mailbox=wasmExports["Z"])();var ___trap=()=>(___trap=wasmExports["_"])();var _emscripten_stack_set_limits=(a0,a1)=>(_emscripten_stack_set_limits=wasmExports["$"])(a0,a1);var __emscripten_stack_restore=a0=>(__emscripten_stack_restore=wasmExports["aa"])(a0);var __emscripten_stack_alloc=a0=>(__emscripten_stack_alloc=wasmExports["ba"])(a0);var _emscripten_stack_get_current=()=>(_emscripten_stack_get_current=wasmExports["ca"])();function applySignatureConversions(wasmExports){wasmExports=Object.assign({},wasmExports);var makeWrapper_p=f=>()=>f()>>>0;var makeWrapper_ppp=f=>(a0,a1)=>f(a0,a1)>>>0;var makeWrapper_pp=f=>a0=>f(a0)>>>0;wasmExports["Q"]=makeWrapper_p(wasmExports["Q"]);wasmExports["R"]=makeWrapper_ppp(wasmExports["R"]);wasmExports["ba"]=makeWrapper_pp(wasmExports["ba"]);wasmExports["ca"]=makeWrapper_p(wasmExports["ca"]);return wasmExports}Module["addRunDependency"]=addRunDependency;Module["removeRunDependency"]=removeRunDependency;Module["ccall"]=ccall;Module["cwrap"]=cwrap;Module["FS_createPreloadedFile"]=FS_createPreloadedFile;Module["FS_unlink"]=FS_unlink;Module["FS_createPath"]=FS_createPath;Module["FS_createDevice"]=FS_createDevice;Module["FS_createDataFile"]=FS_createDataFile;Module["FS_createLazyFile"]=FS_createLazyFile;function callMain(){var entryFunction=_main;var argc=0;var argv=0;try{var ret=entryFunction(argc,argv);exitJS(ret,true);return ret}catch(e){return handleException(e)}}function run(){if(runDependencies>0){dependenciesFulfilled=run;return}if(ENVIRONMENT_IS_PTHREAD){initRuntime();return}preRun();if(runDependencies>0){dependenciesFulfilled=run;return}function doRun(){Module["calledRun"]=true;if(ABORT)return;initRuntime();preMain();Module["onRuntimeInitialized"]?.();var noInitialRun=Module["noInitialRun"];if(!noInitialRun)callMain();postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(()=>{setTimeout(()=>Module["setStatus"](""),1);doRun()},1)}else{doRun()}}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}run();\n',IF='var Module=typeof Module!="undefined"?Module:{};var ENVIRONMENT_IS_WEB=typeof window=="object";var ENVIRONMENT_IS_WORKER=typeof WorkerGlobalScope!="undefined";var ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";if(ENVIRONMENT_IS_NODE){}var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram="./this.program";var quit_=(status,toThrow)=>{throw toThrow};var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory)}return scriptDirectory+path}var readAsync,readBinary;if(ENVIRONMENT_IS_NODE){var fs=require("fs");var nodePath=require("path");scriptDirectory=__dirname+"/";readBinary=filename=>{filename=isFileURI(filename)?new URL(filename):filename;var ret=fs.readFileSync(filename);return ret};readAsync=async(filename,binary=true)=>{filename=isFileURI(filename)?new URL(filename):filename;var ret=fs.readFileSync(filename,binary?undefined:"utf8");return ret};if(!Module["thisProgram"]&&process.argv.length>1){thisProgram=process.argv[1].replace(/\\\\/g,"/")}arguments_=process.argv.slice(2);if(typeof module!="undefined"){module["exports"]=Module}quit_=(status,toThrow)=>{process.exitCode=status;throw toThrow}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(typeof document!="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src}if(scriptDirectory.startsWith("blob:")){scriptDirectory=""}else{scriptDirectory=scriptDirectory.slice(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1)}{if(ENVIRONMENT_IS_WORKER){readBinary=url=>{var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=async url=>{if(isFileURI(url)){return new Promise((resolve,reject)=>{var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=()=>{if(xhr.status==200||xhr.status==0&&xhr.response){resolve(xhr.response);return}reject(xhr.status)};xhr.onerror=reject;xhr.send(null)})}var response=await fetch(url,{credentials:"same-origin"});if(response.ok){return response.arrayBuffer()}throw new Error(response.status+" : "+response.url)}}}else{}var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.error.bind(console);Object.assign(Module,moduleOverrides);moduleOverrides=null;if(Module["arguments"])arguments_=Module["arguments"];if(Module["thisProgram"])thisProgram=Module["thisProgram"];var wasmBinary=Module["wasmBinary"];var wasmMemory;var ABORT=false;var EXITSTATUS;var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAP64,HEAPU64,HEAPF64;var runtimeInitialized=false;var isFileURI=filename=>filename.startsWith("file://");function updateMemoryViews(){var b=wasmMemory.buffer;Module["HEAP8"]=HEAP8=new Int8Array(b);Module["HEAP16"]=HEAP16=new Int16Array(b);Module["HEAPU8"]=HEAPU8=new Uint8Array(b);Module["HEAPU16"]=HEAPU16=new Uint16Array(b);Module["HEAP32"]=HEAP32=new Int32Array(b);Module["HEAPU32"]=HEAPU32=new Uint32Array(b);Module["HEAPF32"]=HEAPF32=new Float32Array(b);Module["HEAPF64"]=HEAPF64=new Float64Array(b);Module["HEAP64"]=HEAP64=new BigInt64Array(b);Module["HEAPU64"]=HEAPU64=new BigUint64Array(b)}function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(onPreRuns)}function initRuntime(){runtimeInitialized=true;if(!Module["noFSInit"]&&!FS.initialized)FS.init();TTY.init();wasmExports["w"]();FS.ignorePermissions=false}function preMain(){}function postRun(){if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(onPostRuns)}var runDependencies=0;var dependenciesFulfilled=null;function getUniqueRunDependency(id){return id}function addRunDependency(id){runDependencies++;Module["monitorRunDependencies"]?.(runDependencies)}function removeRunDependency(id){runDependencies--;Module["monitorRunDependencies"]?.(runDependencies);if(runDependencies==0){if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}function abort(what){Module["onAbort"]?.(what);what="Aborted("+what+")";err(what);ABORT=true;what+=". Build with -sASSERTIONS for more info.";if(runtimeInitialized){___trap()}var e=new WebAssembly.RuntimeError(what);throw e}var wasmBinaryFile;function findWasmBinary(){return locateFile("wllama.wasm")}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(file)}throw"both async and sync fetching of the wasm failed"}async function getWasmBinary(binaryFile){if(!wasmBinary){try{var response=await readAsync(binaryFile);return new Uint8Array(response)}catch{}}return getBinarySync(binaryFile)}async function instantiateArrayBuffer(binaryFile,imports){try{var binary=await getWasmBinary(binaryFile);var instance=await WebAssembly.instantiate(binary,imports);return instance}catch(reason){err(`failed to asynchronously prepare wasm: ${reason}`);abort(reason)}}async function instantiateAsync(binary,binaryFile,imports){if(!binary&&typeof WebAssembly.instantiateStreaming=="function"&&!isFileURI(binaryFile)&&!ENVIRONMENT_IS_NODE){try{var response=fetch(binaryFile,{credentials:"same-origin"});var instantiationResult=await WebAssembly.instantiateStreaming(response,imports);return instantiationResult}catch(reason){err(`wasm streaming compile failed: ${reason}`);err("falling back to ArrayBuffer instantiation")}}return instantiateArrayBuffer(binaryFile,imports)}function getWasmImports(){return{a:wasmImports}}async function createWasm(){function receiveInstance(instance,module){wasmExports=instance.exports;wasmExports=applySignatureConversions(wasmExports);wasmMemory=wasmExports["v"];updateMemoryViews();removeRunDependency("wasm-instantiate");return wasmExports}addRunDependency("wasm-instantiate");function receiveInstantiationResult(result){return receiveInstance(result["instance"])}var info=getWasmImports();if(Module["instantiateWasm"]){return new Promise((resolve,reject)=>{Module["instantiateWasm"](info,(mod,inst)=>{receiveInstance(mod,inst);resolve(mod.exports)})})}wasmBinaryFile??=findWasmBinary();var result=await instantiateAsync(wasmBinary,wasmBinaryFile,info);var exports=receiveInstantiationResult(result);return exports}class ExitStatus{name="ExitStatus";constructor(status){this.message=`Program terminated with exit(${status})`;this.status=status}}Module["ExitStatus"]=ExitStatus;var callRuntimeCallbacks=callbacks=>{while(callbacks.length>0){callbacks.shift()(Module)}};Module["callRuntimeCallbacks"]=callRuntimeCallbacks;var onPostRuns=[];Module["onPostRuns"]=onPostRuns;var addOnPostRun=cb=>onPostRuns.unshift(cb);Module["addOnPostRun"]=addOnPostRun;var onPreRuns=[];Module["onPreRuns"]=onPreRuns;var addOnPreRun=cb=>onPreRuns.unshift(cb);Module["addOnPreRun"]=addOnPreRun;function getValue(ptr,type="i8"){if(type.endsWith("*"))type="*";switch(type){case"i1":return HEAP8[ptr>>>0];case"i8":return HEAP8[ptr>>>0];case"i16":return HEAP16[ptr>>>1>>>0];case"i32":return HEAP32[ptr>>>2>>>0];case"i64":return HEAP64[ptr>>>3];case"float":return HEAPF32[ptr>>>2>>>0];case"double":return HEAPF64[ptr>>>3>>>0];case"*":return HEAPU32[ptr>>>2>>>0];default:abort(`invalid type for getValue: ${type}`)}}Module["getValue"]=getValue;var noExitRuntime=Module["noExitRuntime"]||true;Module["noExitRuntime"]=noExitRuntime;function setValue(ptr,value,type="i8"){if(type.endsWith("*"))type="*";switch(type){case"i1":HEAP8[ptr>>>0]=value;break;case"i8":HEAP8[ptr>>>0]=value;break;case"i16":HEAP16[ptr>>>1>>>0]=value;break;case"i32":HEAP32[ptr>>>2>>>0]=value;break;case"i64":HEAP64[ptr>>>3]=BigInt(value);break;case"float":HEAPF32[ptr>>>2>>>0]=value;break;case"double":HEAPF64[ptr>>>3>>>0]=value;break;case"*":HEAPU32[ptr>>>2>>>0]=value;break;default:abort(`invalid type for setValue: ${type}`)}}Module["setValue"]=setValue;var syscallGetVarargI=()=>{var ret=HEAP32[+SYSCALLS.varargs>>>2>>>0];SYSCALLS.varargs+=4;return ret};Module["syscallGetVarargI"]=syscallGetVarargI;var syscallGetVarargP=syscallGetVarargI;Module["syscallGetVarargP"]=syscallGetVarargP;var PATH={isAbs:path=>path.charAt(0)==="/",splitPath:filename=>{var splitPathRe=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;return splitPathRe.exec(filename).slice(1)},normalizeArray:(parts,allowAboveRoot)=>{var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up;up--){parts.unshift("..")}}return parts},normalize:path=>{var isAbsolute=PATH.isAbs(path),trailingSlash=path.slice(-1)==="/";path=PATH.normalizeArray(path.split("/").filter(p=>!!p),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path},dirname:path=>{var result=PATH.splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.slice(0,-1)}return root+dir},basename:path=>path&&path.match(/([^\\/]+|\\/)\\/*$/)[1],join:(...paths)=>PATH.normalize(paths.join("/")),join2:(l,r)=>PATH.normalize(l+"/"+r)};Module["PATH"]=PATH;var initRandomFill=()=>{if(ENVIRONMENT_IS_NODE){var nodeCrypto=require("crypto");return view=>nodeCrypto.randomFillSync(view)}return view=>crypto.getRandomValues(view)};Module["initRandomFill"]=initRandomFill;var randomFill=view=>{(randomFill=initRandomFill())(view)};Module["randomFill"]=randomFill;var PATH_FS={resolve:(...args)=>{var resolvedPath="",resolvedAbsolute=false;for(var i=args.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?args[i]:FS.cwd();if(typeof path!="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){return""}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=PATH.isAbs(path)}resolvedPath=PATH.normalizeArray(resolvedPath.split("/").filter(p=>!!p),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."},relative:(from,to)=>{from=PATH_FS.resolve(from).slice(1);to=PATH_FS.resolve(to).slice(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")}};Module["PATH_FS"]=PATH_FS;var UTF8Decoder=typeof TextDecoder!="undefined"?new TextDecoder:undefined;Module["UTF8Decoder"]=UTF8Decoder;var UTF8ArrayToString=(heapOrArray,idx=0,maxBytesToRead=NaN)=>{idx>>>=0;var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr))}var str="";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}return str};Module["UTF8ArrayToString"]=UTF8ArrayToString;var FS_stdin_getChar_buffer=[];Module["FS_stdin_getChar_buffer"]=FS_stdin_getChar_buffer;var lengthBytesUTF8=str=>{var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++}else if(c<=2047){len+=2}else if(c>=55296&&c<=57343){len+=4;++i}else{len+=3}}return len};Module["lengthBytesUTF8"]=lengthBytesUTF8;var stringToUTF8Array=(str,heap,outIdx,maxBytesToWrite)=>{outIdx>>>=0;if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++>>>0]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++>>>0]=192|u>>6;heap[outIdx++>>>0]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++>>>0]=224|u>>12;heap[outIdx++>>>0]=128|u>>6&63;heap[outIdx++>>>0]=128|u&63}else{if(outIdx+3>=endIdx)break;heap[outIdx++>>>0]=240|u>>18;heap[outIdx++>>>0]=128|u>>12&63;heap[outIdx++>>>0]=128|u>>6&63;heap[outIdx++>>>0]=128|u&63}}heap[outIdx>>>0]=0;return outIdx-startIdx};Module["stringToUTF8Array"]=stringToUTF8Array;var intArrayFromString=(stringy,dontAddNull,length)=>{var len=length>0?length:lengthBytesUTF8(stringy)+1;var u8array=new Array(len);var numBytesWritten=stringToUTF8Array(stringy,u8array,0,u8array.length);if(dontAddNull)u8array.length=numBytesWritten;return u8array};Module["intArrayFromString"]=intArrayFromString;var FS_stdin_getChar=()=>{if(!FS_stdin_getChar_buffer.length){var result=null;if(ENVIRONMENT_IS_NODE){var BUFSIZE=256;var buf=Buffer.alloc(BUFSIZE);var bytesRead=0;var fd=process.stdin.fd;try{bytesRead=fs.readSync(fd,buf,0,BUFSIZE)}catch(e){if(e.toString().includes("EOF"))bytesRead=0;else throw e}if(bytesRead>0){result=buf.slice(0,bytesRead).toString("utf-8")}}else if(typeof window!="undefined"&&typeof window.prompt=="function"){result=window.prompt("Input: ");if(result!==null){result+="\\n"}}else{}if(!result){return null}FS_stdin_getChar_buffer=intArrayFromString(result,true)}return FS_stdin_getChar_buffer.shift()};Module["FS_stdin_getChar"]=FS_stdin_getChar;var TTY={ttys:[],init(){},shutdown(){},register(dev,ops){TTY.ttys[dev]={input:[],output:[],ops};FS.registerDevice(dev,TTY.stream_ops)},stream_ops:{open(stream){var tty=TTY.ttys[stream.node.rdev];if(!tty){throw new FS.ErrnoError(43)}stream.tty=tty;stream.seekable=false},close(stream){stream.tty.ops.fsync(stream.tty)},fsync(stream){stream.tty.ops.fsync(stream.tty)},read(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.get_char){throw new FS.ErrnoError(60)}var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=stream.tty.ops.get_char(stream.tty)}catch(e){throw new FS.ErrnoError(29)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(6)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.atime=Date.now()}return bytesRead},write(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.put_char){throw new FS.ErrnoError(60)}try{for(var i=0;i<length;i++){stream.tty.ops.put_char(stream.tty,buffer[offset+i])}}catch(e){throw new FS.ErrnoError(29)}if(length){stream.node.mtime=stream.node.ctime=Date.now()}return i}},default_tty_ops:{get_char(tty){return FS_stdin_getChar()},put_char(tty,val){if(val===null||val===10){out(UTF8ArrayToString(tty.output));tty.output=[]}else{if(val!=0)tty.output.push(val)}},fsync(tty){if(tty.output?.length>0){out(UTF8ArrayToString(tty.output));tty.output=[]}},ioctl_tcgets(tty){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(tty,optional_actions,data){return 0},ioctl_tiocgwinsz(tty){return[24,80]}},default_tty1_ops:{put_char(tty,val){if(val===null||val===10){err(UTF8ArrayToString(tty.output));tty.output=[]}else{if(val!=0)tty.output.push(val)}},fsync(tty){if(tty.output?.length>0){err(UTF8ArrayToString(tty.output));tty.output=[]}}}};Module["TTY"]=TTY;var zeroMemory=(address,size)=>{HEAPU8.fill(0,address,address+size)};Module["zeroMemory"]=zeroMemory;var alignMemory=(size,alignment)=>Math.ceil(size/alignment)*alignment;Module["alignMemory"]=alignMemory;var mmapAlloc=size=>{size=alignMemory(size,65536);var ptr=_emscripten_builtin_memalign(65536,size);if(ptr)zeroMemory(ptr,size);return ptr};Module["mmapAlloc"]=mmapAlloc;var MEMFS={ops_table:null,mount(mount){return MEMFS.createNode(null,"/",16895,0)},createNode(parent,name,mode,dev){if(FS.isBlkdev(mode)||FS.isFIFO(mode)){throw new FS.ErrnoError(63)}MEMFS.ops_table||={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}};var node=FS.createNode(parent,name,mode,dev);if(FS.isDir(node.mode)){node.node_ops=MEMFS.ops_table.dir.node;node.stream_ops=MEMFS.ops_table.dir.stream;node.contents={}}else if(FS.isFile(node.mode)){node.node_ops=MEMFS.ops_table.file.node;node.stream_ops=MEMFS.ops_table.file.stream;node.usedBytes=0;node.contents=null}else if(FS.isLink(node.mode)){node.node_ops=MEMFS.ops_table.link.node;node.stream_ops=MEMFS.ops_table.link.stream}else if(FS.isChrdev(node.mode)){node.node_ops=MEMFS.ops_table.chrdev.node;node.stream_ops=MEMFS.ops_table.chrdev.stream}node.atime=node.mtime=node.ctime=Date.now();if(parent){parent.contents[name]=node;parent.atime=parent.mtime=parent.ctime=node.atime}return node},getFileDataAsTypedArray(node){if(!node.contents)return new Uint8Array(0);if(node.contents.subarray)return node.contents.subarray(0,node.usedBytes);return new Uint8Array(node.contents)},expandFileStorage(node,newCapacity){var prevCapacity=node.contents?node.contents.length:0;if(prevCapacity>=newCapacity)return;var CAPACITY_DOUBLING_MAX=1024*1024;newCapacity=Math.max(newCapacity,prevCapacity*(prevCapacity<CAPACITY_DOUBLING_MAX?2:1.125)>>>0);if(prevCapacity!=0)newCapacity=Math.max(newCapacity,256);var oldContents=node.contents;node.contents=new Uint8Array(newCapacity);if(node.usedBytes>0)node.contents.set(oldContents.subarray(0,node.usedBytes),0)},resizeFileStorage(node,newSize){if(node.usedBytes==newSize)return;if(newSize==0){node.contents=null;node.usedBytes=0}else{var oldContents=node.contents;node.contents=new Uint8Array(newSize);if(oldContents){node.contents.set(oldContents.subarray(0,Math.min(newSize,node.usedBytes)))}node.usedBytes=newSize}},node_ops:{getattr(node){var attr={};attr.dev=FS.isChrdev(node.mode)?node.id:1;attr.ino=node.id;attr.mode=node.mode;attr.nlink=1;attr.uid=0;attr.gid=0;attr.rdev=node.rdev;if(FS.isDir(node.mode)){attr.size=4096}else if(FS.isFile(node.mode)){attr.size=node.usedBytes}else if(FS.isLink(node.mode)){attr.size=node.link.length}else{attr.size=0}attr.atime=new Date(node.atime);attr.mtime=new Date(node.mtime);attr.ctime=new Date(node.ctime);attr.blksize=4096;attr.blocks=Math.ceil(attr.size/attr.blksize);return attr},setattr(node,attr){for(const key of["mode","atime","mtime","ctime"]){if(attr[key]!=null){node[key]=attr[key]}}if(attr.size!==undefined){MEMFS.resizeFileStorage(node,attr.size)}},lookup(parent,name){throw MEMFS.doesNotExistError},mknod(parent,name,mode,dev){return MEMFS.createNode(parent,name,mode,dev)},rename(old_node,new_dir,new_name){var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(new_node){if(FS.isDir(old_node.mode)){for(var i in new_node.contents){throw new FS.ErrnoError(55)}}FS.hashRemoveNode(new_node)}delete old_node.parent.contents[old_node.name];new_dir.contents[new_name]=old_node;old_node.name=new_name;new_dir.ctime=new_dir.mtime=old_node.parent.ctime=old_node.parent.mtime=Date.now()},unlink(parent,name){delete parent.contents[name];parent.ctime=parent.mtime=Date.now()},rmdir(parent,name){var node=FS.lookupNode(parent,name);for(var i in node.contents){throw new FS.ErrnoError(55)}delete parent.contents[name];parent.ctime=parent.mtime=Date.now()},readdir(node){return[".","..",...Object.keys(node.contents)]},symlink(parent,newname,oldpath){var node=MEMFS.createNode(parent,newname,511|40960,0);node.link=oldpath;return node},readlink(node){if(!FS.isLink(node.mode)){throw new FS.ErrnoError(28)}return node.link}},stream_ops:{read(stream,buffer,offset,length,position){var contents=stream.node.contents;if(position>=stream.node.usedBytes)return 0;var size=Math.min(stream.node.usedBytes-position,length);if(size>8&&contents.subarray){buffer.set(contents.subarray(position,position+size),offset)}else{for(var i=0;i<size;i++)buffer[offset+i]=contents[position+i]}return size},write(stream,buffer,offset,length,position,canOwn){if(buffer.buffer===HEAP8.buffer){canOwn=false}if(!length)return 0;var node=stream.node;node.mtime=node.ctime=Date.now();if(buffer.subarray&&(!node.contents||node.contents.subarray)){if(canOwn){node.contents=buffer.subarray(offset,offset+length);node.usedBytes=length;return length}else if(node.usedBytes===0&&position===0){node.contents=buffer.slice(offset,offset+length);node.usedBytes=length;return length}else if(position+length<=node.usedBytes){node.contents.set(buffer.subarray(offset,offset+length),position);return length}}MEMFS.expandFileStorage(node,position+length);if(node.contents.subarray&&buffer.subarray){node.contents.set(buffer.subarray(offset,offset+length),position)}else{for(var i=0;i<length;i++){node.contents[position+i]=buffer[offset+i]}}node.usedBytes=Math.max(node.usedBytes,position+length);return length},llseek(stream,offset,whence){var position=offset;if(whence===1){position+=stream.position}else if(whence===2){if(FS.isFile(stream.node.mode)){position+=stream.node.usedBytes}}if(position<0){throw new FS.ErrnoError(28)}return position},allocate(stream,offset,length){MEMFS.expandFileStorage(stream.node,offset+length);stream.node.usedBytes=Math.max(stream.node.usedBytes,offset+length)},mmap(stream,length,position,prot,flags){if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(43)}var ptr;var allocated;var contents=stream.node.contents;if(!(flags&2)&&contents&&contents.buffer===HEAP8.buffer){allocated=false;ptr=contents.byteOffset}else{allocated=true;ptr=mmapAlloc(length);if(!ptr){throw new FS.ErrnoError(48)}if(contents){if(position>0||position+length<contents.length){if(contents.subarray){contents=contents.subarray(position,position+length)}else{contents=Array.prototype.slice.call(contents,position,position+length)}}HEAP8.set(contents,ptr>>>0)}}return{ptr,allocated}},msync(stream,buffer,offset,length,mmapFlags){MEMFS.stream_ops.write(stream,buffer,0,length,offset,false);return 0}}};Module["MEMFS"]=MEMFS;var asyncLoad=async url=>{var arrayBuffer=await readAsync(url);return new Uint8Array(arrayBuffer)};Module["asyncLoad"]=asyncLoad;var FS_createDataFile=(parent,name,fileData,canRead,canWrite,canOwn)=>{FS.createDataFile(parent,name,fileData,canRead,canWrite,canOwn)};Module["FS_createDataFile"]=FS_createDataFile;var preloadPlugins=Module["preloadPlugins"]||[];Module["preloadPlugins"]=preloadPlugins;var FS_handledByPreloadPlugin=(byteArray,fullname,finish,onerror)=>{if(typeof Browser!="undefined")Browser.init();var handled=false;preloadPlugins.forEach(plugin=>{if(handled)return;if(plugin["canHandle"](fullname)){plugin["handle"](byteArray,fullname,finish,onerror);handled=true}});return handled};Module["FS_handledByPreloadPlugin"]=FS_handledByPreloadPlugin;var FS_createPreloadedFile=(parent,name,url,canRead,canWrite,onload,onerror,dontCreateFile,canOwn,preFinish)=>{var fullname=name?PATH_FS.resolve(PATH.join2(parent,name)):parent;var dep=getUniqueRunDependency(`cp ${fullname}`);function processData(byteArray){function finish(byteArray){preFinish?.();if(!dontCreateFile){FS_createDataFile(parent,name,byteArray,canRead,canWrite,canOwn)}onload?.();removeRunDependency(dep)}if(FS_handledByPreloadPlugin(byteArray,fullname,finish,()=>{onerror?.();removeRunDependency(dep)})){return}finish(byteArray)}addRunDependency(dep);if(typeof url=="string"){asyncLoad(url).then(processData,onerror)}else{processData(url)}};Module["FS_createPreloadedFile"]=FS_createPreloadedFile;var FS_modeStringToFlags=str=>{var flagModes={r:0,"r+":2,w:512|64|1,"w+":512|64|2,a:1024|64|1,"a+":1024|64|2};var flags=flagModes[str];if(typeof flags=="undefined"){throw new Error(`Unknown file open mode: ${str}`)}return flags};Module["FS_modeStringToFlags"]=FS_modeStringToFlags;var FS_getMode=(canRead,canWrite)=>{var mode=0;if(canRead)mode|=292|73;if(canWrite)mode|=146;return mode};Module["FS_getMode"]=FS_getMode;var FS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:false,ignorePermissions:true,ErrnoError:class{name="ErrnoError";constructor(errno){this.errno=errno}},filesystems:null,syncFSRequests:0,readFiles:{},FSStream:class{shared={};get object(){return this.node}set object(val){this.node=val}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(val){this.shared.flags=val}get position(){return this.shared.position}set position(val){this.shared.position=val}},FSNode:class{node_ops={};stream_ops={};readMode=292|73;writeMode=146;mounted=null;constructor(parent,name,mode,rdev){if(!parent){parent=this}this.parent=parent;this.mount=parent.mount;this.id=FS.nextInode++;this.name=name;this.mode=mode;this.rdev=rdev;this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(val){val?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(val){val?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return FS.isDir(this.mode)}get isDevice(){return FS.isChrdev(this.mode)}},lookupPath(path,opts={}){if(!path){throw new FS.ErrnoError(44)}opts.follow_mount??=true;if(!PATH.isAbs(path)){path=FS.cwd()+"/"+path}linkloop:for(var nlinks=0;nlinks<40;nlinks++){var parts=path.split("/").filter(p=>!!p);var current=FS.root;var current_path="/";for(var i=0;i<parts.length;i++){var islast=i===parts.length-1;if(islast&&opts.parent){break}if(parts[i]==="."){continue}if(parts[i]===".."){current_path=PATH.dirname(current_path);current=current.parent;continue}current_path=PATH.join2(current_path,parts[i]);try{current=FS.lookupNode(current,parts[i])}catch(e){if(e?.errno===44&&islast&&opts.noent_okay){return{path:current_path}}throw e}if(FS.isMountpoint(current)&&(!islast||opts.follow_mount)){current=current.mounted.root}if(FS.isLink(current.mode)&&(!islast||opts.follow)){if(!current.node_ops.readlink){throw new FS.ErrnoError(52)}var link=current.node_ops.readlink(current);if(!PATH.isAbs(link)){link=PATH.dirname(current_path)+"/"+link}path=link+"/"+parts.slice(i+1).join("/");continue linkloop}}return{path:current_path,node:current}}throw new FS.ErrnoError(32)},getPath(node){var path;while(true){if(FS.isRoot(node)){var mount=node.mount.mountpoint;if(!path)return mount;return mount[mount.length-1]!=="/"?`${mount}/${path}`:mount+path}path=path?`${node.name}/${path}`:node.name;node=node.parent}},hashName(parentid,name){var hash=0;for(var i=0;i<name.length;i++){hash=(hash<<5)-hash+name.charCodeAt(i)|0}return(parentid+hash>>>0)%FS.nameTable.length},hashAddNode(node){var hash=FS.hashName(node.parent.id,node.name);node.name_next=FS.nameTable[hash];FS.nameTable[hash]=node},hashRemoveNode(node){var hash=FS.hashName(node.parent.id,node.name);if(FS.nameTable[hash]===node){FS.nameTable[hash]=node.name_next}else{var current=FS.nameTable[hash];while(current){if(current.name_next===node){current.name_next=node.name_next;break}current=current.name_next}}},lookupNode(parent,name){var errCode=FS.mayLookup(parent);if(errCode){throw new FS.ErrnoError(errCode)}var hash=FS.hashName(parent.id,name);for(var node=FS.nameTable[hash];node;node=node.name_next){var nodeName=node.name;if(node.parent.id===parent.id&&nodeName===name){return node}}return FS.lookup(parent,name)},createNode(parent,name,mode,rdev){var node=new FS.FSNode(parent,name,mode,rdev);FS.hashAddNode(node);return node},destroyNode(node){FS.hashRemoveNode(node)},isRoot(node){return node===node.parent},isMountpoint(node){return!!node.mounted},isFile(mode){return(mode&61440)===32768},isDir(mode){return(mode&61440)===16384},isLink(mode){return(mode&61440)===40960},isChrdev(mode){return(mode&61440)===8192},isBlkdev(mode){return(mode&61440)===24576},isFIFO(mode){return(mode&61440)===4096},isSocket(mode){return(mode&49152)===49152},flagsToPermissionString(flag){var perms=["r","w","rw"][flag&3];if(flag&512){perms+="w"}return perms},nodePermissions(node,perms){if(FS.ignorePermissions){return 0}if(perms.includes("r")&&!(node.mode&292)){return 2}else if(perms.includes("w")&&!(node.mode&146)){return 2}else if(perms.includes("x")&&!(node.mode&73)){return 2}return 0},mayLookup(dir){if(!FS.isDir(dir.mode))return 54;var errCode=FS.nodePermissions(dir,"x");if(errCode)return errCode;if(!dir.node_ops.lookup)return 2;return 0},mayCreate(dir,name){if(!FS.isDir(dir.mode)){return 54}try{var node=FS.lookupNode(dir,name);return 20}catch(e){}return FS.nodePermissions(dir,"wx")},mayDelete(dir,name,isdir){var node;try{node=FS.lookupNode(dir,name)}catch(e){return e.errno}var errCode=FS.nodePermissions(dir,"wx");if(errCode){return errCode}if(isdir){if(!FS.isDir(node.mode)){return 54}if(FS.isRoot(node)||FS.getPath(node)===FS.cwd()){return 10}}else{if(FS.isDir(node.mode)){return 31}}return 0},mayOpen(node,flags){if(!node){return 44}if(FS.isLink(node.mode)){return 32}else if(FS.isDir(node.mode)){if(FS.flagsToPermissionString(flags)!=="r"||flags&(512|64)){return 31}}return FS.nodePermissions(node,FS.flagsToPermissionString(flags))},checkOpExists(op,err){if(!op){throw new FS.ErrnoError(err)}return op},MAX_OPEN_FDS:4096,nextfd(){for(var fd=0;fd<=FS.MAX_OPEN_FDS;fd++){if(!FS.streams[fd]){return fd}}throw new FS.ErrnoError(33)},getStreamChecked(fd){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}return stream},getStream:fd=>FS.streams[fd],createStream(stream,fd=-1){stream=Object.assign(new FS.FSStream,stream);if(fd==-1){fd=FS.nextfd()}stream.fd=fd;FS.streams[fd]=stream;return stream},closeStream(fd){FS.streams[fd]=null},dupStream(origStream,fd=-1){var stream=FS.createStream(origStream,fd);stream.stream_ops?.dup?.(stream);return stream},doSetAttr(stream,node,attr){var setattr=stream?.stream_ops.setattr;var arg=setattr?stream:node;setattr??=node.node_ops.setattr;FS.checkOpExists(setattr,63);setattr(arg,attr)},chrdev_stream_ops:{open(stream){var device=FS.getDevice(stream.node.rdev);stream.stream_ops=device.stream_ops;stream.stream_ops.open?.(stream)},llseek(){throw new FS.ErrnoError(70)}},major:dev=>dev>>8,minor:dev=>dev&255,makedev:(ma,mi)=>ma<<8|mi,registerDevice(dev,ops){FS.devices[dev]={stream_ops:ops}},getDevice:dev=>FS.devices[dev],getMounts(mount){var mounts=[];var check=[mount];while(check.length){var m=check.pop();mounts.push(m);check.push(...m.mounts)}return mounts},syncfs(populate,callback){if(typeof populate=="function"){callback=populate;populate=false}FS.syncFSRequests++;if(FS.syncFSRequests>1){err(`warning: ${FS.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`)}var mounts=FS.getMounts(FS.root.mount);var completed=0;function doCallback(errCode){FS.syncFSRequests--;return callback(errCode)}function done(errCode){if(errCode){if(!done.errored){done.errored=true;return doCallback(errCode)}return}if(++completed>=mounts.length){doCallback(null)}}mounts.forEach(mount=>{if(!mount.type.syncfs){return done(null)}mount.type.syncfs(mount,populate,done)})},mount(type,opts,mountpoint){var root=mountpoint==="/";var pseudo=!mountpoint;var node;if(root&&FS.root){throw new FS.ErrnoError(10)}else if(!root&&!pseudo){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});mountpoint=lookup.path;node=lookup.node;if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}if(!FS.isDir(node.mode)){throw new FS.ErrnoError(54)}}var mount={type,opts,mountpoint,mounts:[]};var mountRoot=type.mount(mount);mountRoot.mount=mount;mount.root=mountRoot;if(root){FS.root=mountRoot}else if(node){node.mounted=mount;if(node.mount){node.mount.mounts.push(mount)}}return mountRoot},unmount(mountpoint){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});if(!FS.isMountpoint(lookup.node)){throw new FS.ErrnoError(28)}var node=lookup.node;var mount=node.mounted;var mounts=FS.getMounts(mount);Object.keys(FS.nameTable).forEach(hash=>{var current=FS.nameTable[hash];while(current){var next=current.name_next;if(mounts.includes(current.mount)){FS.destroyNode(current)}current=next}});node.mounted=null;var idx=node.mount.mounts.indexOf(mount);node.mount.mounts.splice(idx,1)},lookup(parent,name){return parent.node_ops.lookup(parent,name)},mknod(path,mode,dev){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);if(!name){throw new FS.ErrnoError(28)}if(name==="."||name===".."){throw new FS.ErrnoError(20)}var errCode=FS.mayCreate(parent,name);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.mknod){throw new FS.ErrnoError(63)}return parent.node_ops.mknod(parent,name,mode,dev)},statfs(path){return FS.statfsNode(FS.lookupPath(path,{follow:true}).node)},statfsStream(stream){return FS.statfsNode(stream.node)},statfsNode(node){var rtn={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:FS.nextInode,ffree:FS.nextInode-1,fsid:42,flags:2,namelen:255};if(node.node_ops.statfs){Object.assign(rtn,node.node_ops.statfs(node.mount.opts.root))}return rtn},create(path,mode=438){mode&=4095;mode|=32768;return FS.mknod(path,mode,0)},mkdir(path,mode=511){mode&=511|512;mode|=16384;return FS.mknod(path,mode,0)},mkdirTree(path,mode){var dirs=path.split("/");var d="";for(var i=0;i<dirs.length;++i){if(!dirs[i])continue;d+="/"+dirs[i];try{FS.mkdir(d,mode)}catch(e){if(e.errno!=20)throw e}}},mkdev(path,mode,dev){if(typeof dev=="undefined"){dev=mode;mode=438}mode|=8192;return FS.mknod(path,mode,dev)},symlink(oldpath,newpath){if(!PATH_FS.resolve(oldpath)){throw new FS.ErrnoError(44)}var lookup=FS.lookupPath(newpath,{parent:true});var parent=lookup.node;if(!parent){throw new FS.ErrnoError(44)}var newname=PATH.basename(newpath);var errCode=FS.mayCreate(parent,newname);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.symlink){throw new FS.ErrnoError(63)}return parent.node_ops.symlink(parent,newname,oldpath)},rename(old_path,new_path){var old_dirname=PATH.dirname(old_path);var new_dirname=PATH.dirname(new_path);var old_name=PATH.basename(old_path);var new_name=PATH.basename(new_path);var lookup,old_dir,new_dir;lookup=FS.lookupPath(old_path,{parent:true});old_dir=lookup.node;lookup=FS.lookupPath(new_path,{parent:true});new_dir=lookup.node;if(!old_dir||!new_dir)throw new FS.ErrnoError(44);if(old_dir.mount!==new_dir.mount){throw new FS.ErrnoError(75)}var old_node=FS.lookupNode(old_dir,old_name);var relative=PATH_FS.relative(old_path,new_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(28)}relative=PATH_FS.relative(new_path,old_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(55)}var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(old_node===new_node){return}var isdir=FS.isDir(old_node.mode);var errCode=FS.mayDelete(old_dir,old_name,isdir);if(errCode){throw new FS.ErrnoError(errCode)}errCode=new_node?FS.mayDelete(new_dir,new_name,isdir):FS.mayCreate(new_dir,new_name);if(errCode){throw new FS.ErrnoError(errCode)}if(!old_dir.node_ops.rename){throw new FS.ErrnoError(63)}if(FS.isMountpoint(old_node)||new_node&&FS.isMountpoint(new_node)){throw new FS.ErrnoError(10)}if(new_dir!==old_dir){errCode=FS.nodePermissions(old_dir,"w");if(errCode){throw new FS.ErrnoError(errCode)}}FS.hashRemoveNode(old_node);try{old_dir.node_ops.rename(old_node,new_dir,new_name);old_node.parent=new_dir}catch(e){throw e}finally{FS.hashAddNode(old_node)}},rmdir(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var errCode=FS.mayDelete(parent,name,true);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.rmdir){throw new FS.ErrnoError(63)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}parent.node_ops.rmdir(parent,name);FS.destroyNode(node)},readdir(path){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;var readdir=FS.checkOpExists(node.node_ops.readdir,54);return readdir(node)},unlink(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;if(!parent){throw new FS.ErrnoError(44)}var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var errCode=FS.mayDelete(parent,name,false);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.unlink){throw new FS.ErrnoError(63)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}parent.node_ops.unlink(parent,name);FS.destroyNode(node)},readlink(path){var lookup=FS.lookupPath(path);var link=lookup.node;if(!link){throw new FS.ErrnoError(44)}if(!link.node_ops.readlink){throw new FS.ErrnoError(28)}return link.node_ops.readlink(link)},stat(path,dontFollow){var lookup=FS.lookupPath(path,{follow:!dontFollow});var node=lookup.node;var getattr=FS.checkOpExists(node.node_ops.getattr,63);return getattr(node)},fstat(fd){var stream=FS.getStreamChecked(fd);var node=stream.node;var getattr=stream.stream_ops.getattr;var arg=getattr?stream:node;getattr??=node.node_ops.getattr;FS.checkOpExists(getattr,63);return getattr(arg)},lstat(path){return FS.stat(path,true)},doChmod(stream,node,mode,dontFollow){FS.doSetAttr(stream,node,{mode:mode&4095|node.mode&~4095,ctime:Date.now(),dontFollow})},chmod(path,mode,dontFollow){var node;if(typeof path=="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}FS.doChmod(null,node,mode,dontFollow)},lchmod(path,mode){FS.chmod(path,mode,true)},fchmod(fd,mode){var stream=FS.getStreamChecked(fd);FS.doChmod(stream,stream.node,mode,false)},doChown(stream,node,dontFollow){FS.doSetAttr(stream,node,{timestamp:Date.now(),dontFollow})},chown(path,uid,gid,dontFollow){var node;if(typeof path=="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}FS.doChown(null,node,dontFollow)},lchown(path,uid,gid){FS.chown(path,uid,gid,true)},fchown(fd,uid,gid){var stream=FS.getStreamChecked(fd);FS.doChown(stream,stream.node,false)},doTruncate(stream,node,len){if(FS.isDir(node.mode)){throw new FS.ErrnoError(31)}if(!FS.isFile(node.mode)){throw new FS.ErrnoError(28)}var errCode=FS.nodePermissions(node,"w");if(errCode){throw new FS.ErrnoError(errCode)}FS.doSetAttr(stream,node,{size:len,timestamp:Date.now()})},truncate(path,len){if(len<0){throw new FS.ErrnoError(28)}var node;if(typeof path=="string"){var lookup=FS.lookupPath(path,{follow:true});node=lookup.node}else{node=path}FS.doTruncate(null,node,len)},ftruncate(fd,len){var stream=FS.getStreamChecked(fd);if(len<0||(stream.flags&2097155)===0){throw new FS.ErrnoError(28)}FS.doTruncate(stream,stream.node,len)},utime(path,atime,mtime){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;var setattr=FS.checkOpExists(node.node_ops.setattr,63);setattr(node,{atime,mtime})},open(path,flags,mode=438){if(path===""){throw new FS.ErrnoError(44)}flags=typeof flags=="string"?FS_modeStringToFlags(flags):flags;if(flags&64){mode=mode&4095|32768}else{mode=0}var node;var isDirPath;if(typeof path=="object"){node=path}else{isDirPath=path.endsWith("/");var lookup=FS.lookupPath(path,{follow:!(flags&131072),noent_okay:true});node=lookup.node;path=lookup.path}var created=false;if(flags&64){if(node){if(flags&128){throw new FS.ErrnoError(20)}}else if(isDirPath){throw new FS.ErrnoError(31)}else{node=FS.mknod(path,mode|511,0);created=true}}if(!node){throw new FS.ErrnoError(44)}if(FS.isChrdev(node.mode)){flags&=~512}if(flags&65536&&!FS.isDir(node.mode)){throw new FS.ErrnoError(54)}if(!created){var errCode=FS.mayOpen(node,flags);if(errCode){throw new FS.ErrnoError(errCode)}}if(flags&512&&!created){FS.truncate(node,0)}flags&=~(128|512|131072);var stream=FS.createStream({node,path:FS.getPath(node),flags,seekable:true,position:0,stream_ops:node.stream_ops,ungotten:[],error:false});if(stream.stream_ops.open){stream.stream_ops.open(stream)}if(created){FS.chmod(node,mode&511)}if(Module["logReadFiles"]&&!(flags&1)){if(!(path in FS.readFiles)){FS.readFiles[path]=1}}return stream},close(stream){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(stream.getdents)stream.getdents=null;try{if(stream.stream_ops.close){stream.stream_ops.close(stream)}}catch(e){throw e}finally{FS.closeStream(stream.fd)}stream.fd=null},isClosed(stream){return stream.fd===null},llseek(stream,offset,whence){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(!stream.seekable||!stream.stream_ops.llseek){throw new FS.ErrnoError(70)}if(whence!=0&&whence!=1&&whence!=2){throw new FS.ErrnoError(28)}stream.position=stream.stream_ops.llseek(stream,offset,whence);stream.ungotten=[];return stream.position},read(stream,buffer,offset,length,position){if(length<0||position<0){throw new FS.ErrnoError(28)}if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(8)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(31)}if(!stream.stream_ops.read){throw new FS.ErrnoError(28)}var seeking=typeof position!="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(70)}var bytesRead=stream.stream_ops.read(stream,buffer,offset,length,position);if(!seeking)stream.position+=bytesRead;return bytesRead},write(stream,buffer,offset,length,position,canOwn){if(length<0||position<0){throw new FS.ErrnoError(28)}if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(8)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(31)}if(!stream.stream_ops.write){throw new FS.ErrnoError(28)}if(stream.seekable&&stream.flags&1024){FS.llseek(stream,0,2)}var seeking=typeof position!="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(70)}var bytesWritten=stream.stream_ops.write(stream,buffer,offset,length,position,canOwn);if(!seeking)stream.position+=bytesWritten;return bytesWritten},allocate(stream,offset,length){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(offset<0||length<=0){throw new FS.ErrnoError(28)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(8)}if(!FS.isFile(stream.node.mode)&&!FS.isDir(stream.node.mode)){throw new FS.ErrnoError(43)}if(!stream.stream_ops.allocate){throw new FS.ErrnoError(138)}stream.stream_ops.allocate(stream,offset,length)},mmap(stream,length,position,prot,flags){if((prot&2)!==0&&(flags&2)===0&&(stream.flags&2097155)!==2){throw new FS.ErrnoError(2)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(2)}if(!stream.stream_ops.mmap){throw new FS.ErrnoError(43)}if(!length){throw new FS.ErrnoError(28)}return stream.stream_ops.mmap(stream,length,position,prot,flags)},msync(stream,buffer,offset,length,mmapFlags){if(!stream.stream_ops.msync){return 0}return stream.stream_ops.msync(stream,buffer,offset,length,mmapFlags)},ioctl(stream,cmd,arg){if(!stream.stream_ops.ioctl){throw new FS.ErrnoError(59)}return stream.stream_ops.ioctl(stream,cmd,arg)},readFile(path,opts={}){opts.flags=opts.flags||0;opts.encoding=opts.encoding||"binary";if(opts.encoding!=="utf8"&&opts.encoding!=="binary"){throw new Error(`Invalid encoding type "${opts.encoding}"`)}var ret;var stream=FS.open(path,opts.flags);var stat=FS.stat(path);var length=stat.size;var buf=new Uint8Array(length);FS.read(stream,buf,0,length,0);if(opts.encoding==="utf8"){ret=UTF8ArrayToString(buf)}else if(opts.encoding==="binary"){ret=buf}FS.close(stream);return ret},writeFile(path,data,opts={}){opts.flags=opts.flags||577;var stream=FS.open(path,opts.flags,opts.mode);if(typeof data=="string"){var buf=new Uint8Array(lengthBytesUTF8(data)+1);var actualNumBytes=stringToUTF8Array(data,buf,0,buf.length);FS.write(stream,buf,0,actualNumBytes,undefined,opts.canOwn)}else if(ArrayBuffer.isView(data)){FS.write(stream,data,0,data.byteLength,undefined,opts.canOwn)}else{throw new Error("Unsupported data type")}FS.close(stream)},cwd:()=>FS.currentPath,chdir(path){var lookup=FS.lookupPath(path,{follow:true});if(lookup.node===null){throw new FS.ErrnoError(44)}if(!FS.isDir(lookup.node.mode)){throw new FS.ErrnoError(54)}var errCode=FS.nodePermissions(lookup.node,"x");if(errCode){throw new FS.ErrnoError(errCode)}FS.currentPath=lookup.path},createDefaultDirectories(){FS.mkdir("/tmp");FS.mkdir("/home");FS.mkdir("/home/web_user")},createDefaultDevices(){FS.mkdir("/dev");FS.registerDevice(FS.makedev(1,3),{read:()=>0,write:(stream,buffer,offset,length,pos)=>length,llseek:()=>0});FS.mkdev("/dev/null",FS.makedev(1,3));TTY.register(FS.makedev(5,0),TTY.default_tty_ops);TTY.register(FS.makedev(6,0),TTY.default_tty1_ops);FS.mkdev("/dev/tty",FS.makedev(5,0));FS.mkdev("/dev/tty1",FS.makedev(6,0));var randomBuffer=new Uint8Array(1024),randomLeft=0;var randomByte=()=>{if(randomLeft===0){randomFill(randomBuffer);randomLeft=randomBuffer.byteLength}return randomBuffer[--randomLeft]};FS.createDevice("/dev","random",randomByte);FS.createDevice("/dev","urandom",randomByte);FS.mkdir("/dev/shm");FS.mkdir("/dev/shm/tmp")},createSpecialDirectories(){FS.mkdir("/proc");var proc_self=FS.mkdir("/proc/self");FS.mkdir("/proc/self/fd");FS.mount({mount(){var node=FS.createNode(proc_self,"fd",16895,73);node.stream_ops={llseek:MEMFS.stream_ops.llseek};node.node_ops={lookup(parent,name){var fd=+name;var stream=FS.getStreamChecked(fd);var ret={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>stream.path},id:fd+1};ret.parent=ret;return ret},readdir(){return Array.from(FS.streams.entries()).filter(([k,v])=>v).map(([k,v])=>k.toString())}};return node}},{},"/proc/self/fd")},createStandardStreams(input,output,error){if(input){FS.createDevice("/dev","stdin",input)}else{FS.symlink("/dev/tty","/dev/stdin")}if(output){FS.createDevice("/dev","stdout",null,output)}else{FS.symlink("/dev/tty","/dev/stdout")}if(error){FS.createDevice("/dev","stderr",null,error)}else{FS.symlink("/dev/tty1","/dev/stderr")}var stdin=FS.open("/dev/stdin",0);var stdout=FS.open("/dev/stdout",1);var stderr=FS.open("/dev/stderr",1)},staticInit(){FS.nameTable=new Array(4096);FS.mount(MEMFS,{},"/");FS.createDefaultDirectories();FS.createDefaultDevices();FS.createSpecialDirectories();FS.filesystems={MEMFS}},init(input,output,error){FS.initialized=true;input??=Module["stdin"];output??=Module["stdout"];error??=Module["stderr"];FS.createStandardStreams(input,output,error)},quit(){FS.initialized=false;for(var i=0;i<FS.streams.length;i++){var stream=FS.streams[i];if(!stream){continue}FS.close(stream)}},findObject(path,dontResolveLastLink){var ret=FS.analyzePath(path,dontResolveLastLink);if(!ret.exists){return null}return ret.object},analyzePath(path,dontResolveLastLink){try{var lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});path=lookup.path}catch(e){}var ret={isRoot:false,exists:false,error:0,name:null,path:null,object:null,parentExists:false,parentPath:null,parentObject:null};try{var lookup=FS.lookupPath(path,{parent:true});ret.parentExists=true;ret.parentPath=lookup.path;ret.parentObject=lookup.node;ret.name=PATH.basename(path);lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});ret.exists=true;ret.path=lookup.path;ret.object=lookup.node;ret.name=lookup.node.name;ret.isRoot=lookup.path==="/"}catch(e){ret.error=e.errno}return ret},createPath(parent,path,canRead,canWrite){parent=typeof parent=="string"?parent:FS.getPath(parent);var parts=path.split("/").reverse();while(parts.length){var part=parts.pop();if(!part)continue;var current=PATH.join2(parent,part);try{FS.mkdir(current)}catch(e){}parent=current}return current},createFile(parent,name,properties,canRead,canWrite){var path=PATH.join2(typeof parent=="string"?parent:FS.getPath(parent),name);var mode=FS_getMode(canRead,canWrite);return FS.create(path,mode)},createDataFile(parent,name,data,canRead,canWrite,canOwn){var path=name;if(parent){parent=typeof parent=="string"?parent:FS.getPath(parent);path=name?PATH.join2(parent,name):parent}var mode=FS_getMode(canRead,canWrite);var node=FS.create(path,mode);if(data){if(typeof data=="string"){var arr=new Array(data.length);for(var i=0,len=data.length;i<len;++i)arr[i]=data.charCodeAt(i);data=arr}FS.chmod(node,mode|146);var stream=FS.open(node,577);FS.write(stream,data,0,data.length,0,canOwn);FS.close(stream);FS.chmod(node,mode)}},createDevice(parent,name,input,output){var path=PATH.join2(typeof parent=="string"?parent:FS.getPath(parent),name);var mode=FS_getMode(!!input,!!output);FS.createDevice.major??=64;var dev=FS.makedev(FS.createDevice.major++,0);FS.registerDevice(dev,{open(stream){stream.seekable=false},close(stream){if(output?.buffer?.length){output(10)}},read(stream,buffer,offset,length,pos){var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=input()}catch(e){throw new FS.ErrnoError(29)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(6)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.atime=Date.now()}return bytesRead},write(stream,buffer,offset,length,pos){for(var i=0;i<length;i++){try{output(buffer[offset+i])}catch(e){throw new FS.ErrnoError(29)}}if(length){stream.node.mtime=stream.node.ctime=Date.now()}return i}});return FS.mkdev(path,mode,dev)},forceLoadFile(obj){if(obj.isDevice||obj.isFolder||obj.link||obj.contents)return true;if(typeof XMLHttpRequest!="undefined"){throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.")}else{try{obj.contents=readBinary(obj.url);obj.usedBytes=obj.contents.length}catch(e){throw new FS.ErrnoError(29)}}},createLazyFile(parent,name,url,canRead,canWrite){class LazyUint8Array{lengthKnown=false;chunks=[];get(idx){if(idx>this.length-1||idx<0){return undefined}var chunkOffset=idx%this.chunkSize;var chunkNum=idx/this.chunkSize|0;return this.getter(chunkNum)[chunkOffset]}setDataGetter(getter){this.getter=getter}cacheLength(){var xhr=new XMLHttpRequest;xhr.open("HEAD",url,false);xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))throw new Error("Couldn\'t load "+url+". Status: "+xhr.status);var datalength=Number(xhr.getResponseHeader("Content-length"));var header;var hasByteServing=(header=xhr.getResponseHeader("Accept-Ranges"))&&header==="bytes";var usesGzip=(header=xhr.getResponseHeader("Content-Encoding"))&&header==="gzip";var chunkSize=1024*1024;if(!hasByteServing)chunkSize=datalength;var doXHR=(from,to)=>{if(from>to)throw new Error("invalid range ("+from+", "+to+") or no bytes requested!");if(to>datalength-1)throw new Error("only "+datalength+" bytes available! programmer error!");var xhr=new XMLHttpRequest;xhr.open("GET",url,false);if(datalength!==chunkSize)xhr.setRequestHeader("Range","bytes="+from+"-"+to);xhr.responseType="arraybuffer";if(xhr.overrideMimeType){xhr.overrideMimeType("text/plain; charset=x-user-defined")}xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))throw new Error("Couldn\'t load "+url+". Status: "+xhr.status);if(xhr.response!==undefined){return new Uint8Array(xhr.response||[])}return intArrayFromString(xhr.responseText||"",true)};var lazyArray=this;lazyArray.setDataGetter(chunkNum=>{var start=chunkNum*chunkSize;var end=(chunkNum+1)*chunkSize-1;end=Math.min(end,datalength-1);if(typeof lazyArray.chunks[chunkNum]=="undefined"){lazyArray.chunks[chunkNum]=doXHR(start,end)}if(typeof lazyArray.chunks[chunkNum]=="undefined")throw new Error("doXHR failed!");return lazyArray.chunks[chunkNum]});if(usesGzip||!datalength){chunkSize=datalength=1;datalength=this.getter(0).length;chunkSize=datalength;out("LazyFiles on gzip forces download of the whole file when length is accessed")}this._length=datalength;this._chunkSize=chunkSize;this.lengthKnown=true}get length(){if(!this.lengthKnown){this.cacheLength()}return this._length}get chunkSize(){if(!this.lengthKnown){this.cacheLength()}return this._chunkSize}}if(typeof XMLHttpRequest!="undefined"){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var lazyArray=new LazyUint8Array;var properties={isDevice:false,contents:lazyArray}}else{var properties={isDevice:false,url}}var node=FS.createFile(parent,name,properties,canRead,canWrite);if(properties.contents){node.contents=properties.contents}else if(properties.url){node.contents=null;node.url=properties.url}Object.defineProperties(node,{usedBytes:{get:function(){return this.contents.length}}});var stream_ops={};var keys=Object.keys(node.stream_ops);keys.forEach(key=>{var fn=node.stream_ops[key];stream_ops[key]=(...args)=>{FS.forceLoadFile(node);return fn(...args)}});function writeChunks(stream,buffer,offset,length,position){var contents=stream.node.contents;if(position>=contents.length)return 0;var size=Math.min(contents.length-position,length);if(contents.slice){for(var i=0;i<size;i++){buffer[offset+i]=contents[position+i]}}else{for(var i=0;i<size;i++){buffer[offset+i]=contents.get(position+i)}}return size}stream_ops.read=(stream,buffer,offset,length,position)=>{FS.forceLoadFile(node);return writeChunks(stream,buffer,offset,length,position)};stream_ops.mmap=(stream,length,position,prot,flags)=>{FS.forceLoadFile(node);var ptr=mmapAlloc(length);if(!ptr){throw new FS.ErrnoError(48)}writeChunks(stream,HEAP8,ptr,length,position);return{ptr,allocated:true}};node.stream_ops=stream_ops;return node}};Module["FS"]=FS;var UTF8ToString=(ptr,maxBytesToRead)=>{ptr>>>=0;return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):""};Module["UTF8ToString"]=UTF8ToString;var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt(dirfd,path,allowEmpty){if(PATH.isAbs(path)){return path}var dir;if(dirfd===-100){dir=FS.cwd()}else{var dirstream=SYSCALLS.getStreamFromFD(dirfd);dir=dirstream.path}if(path.length==0){if(!allowEmpty){throw new FS.ErrnoError(44)}return dir}return dir+"/"+path},writeStat(buf,stat){HEAP32[buf>>>2>>>0]=stat.dev;HEAP32[buf+4>>>2>>>0]=stat.mode;HEAPU32[buf+8>>>2>>>0]=stat.nlink;HEAP32[buf+12>>>2>>>0]=stat.uid;HEAP32[buf+16>>>2>>>0]=stat.gid;HEAP32[buf+20>>>2>>>0]=stat.rdev;HEAP64[buf+24>>>3]=BigInt(stat.size);HEAP32[buf+32>>>2>>>0]=4096;HEAP32[buf+36>>>2>>>0]=stat.blocks;var atime=stat.atime.getTime();var mtime=stat.mtime.getTime();var ctime=stat.ctime.getTime();HEAP64[buf+40>>>3]=BigInt(Math.floor(atime/1e3));HEAPU32[buf+48>>>2>>>0]=atime%1e3*1e3*1e3;HEAP64[buf+56>>>3]=BigInt(Math.floor(mtime/1e3));HEAPU32[buf+64>>>2>>>0]=mtime%1e3*1e3*1e3;HEAP64[buf+72>>>3]=BigInt(Math.floor(ctime/1e3));HEAPU32[buf+80>>>2>>>0]=ctime%1e3*1e3*1e3;HEAP64[buf+88>>>3]=BigInt(stat.ino);return 0},writeStatFs(buf,stats){HEAP32[buf+4>>>2>>>0]=stats.bsize;HEAP32[buf+40>>>2>>>0]=stats.bsize;HEAP32[buf+8>>>2>>>0]=stats.blocks;HEAP32[buf+12>>>2>>>0]=stats.bfree;HEAP32[buf+16>>>2>>>0]=stats.bavail;HEAP32[buf+20>>>2>>>0]=stats.files;HEAP32[buf+24>>>2>>>0]=stats.ffree;HEAP32[buf+28>>>2>>>0]=stats.fsid;HEAP32[buf+44>>>2>>>0]=stats.flags;HEAP32[buf+36>>>2>>>0]=stats.namelen},doMsync(addr,stream,len,flags,offset){if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(43)}if(flags&2){return 0}var buffer=HEAPU8.slice(addr,addr+len);FS.msync(stream,buffer,offset,len,flags)},getStreamFromFD(fd){var stream=FS.getStreamChecked(fd);return stream},varargs:undefined,getStr(ptr){var ret=UTF8ToString(ptr);return ret}};Module["SYSCALLS"]=SYSCALLS;var INT53_MAX=9007199254740992;Module["INT53_MAX"]=INT53_MAX;var INT53_MIN=-9007199254740992;Module["INT53_MIN"]=INT53_MIN;var bigintToI53Checked=num=>num<INT53_MIN||num>INT53_MAX?NaN:Number(num);Module["bigintToI53Checked"]=bigintToI53Checked;function ___syscall_fcntl64(fd,cmd,varargs){varargs>>>=0;SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(cmd){case 0:{var arg=syscallGetVarargI();if(arg<0){return-28}while(FS.streams[arg]){arg++}var newStream;newStream=FS.dupStream(stream,arg);return newStream.fd}case 1:case 2:return 0;case 3:return stream.flags;case 4:{var arg=syscallGetVarargI();stream.flags|=arg;return 0}case 12:{var arg=syscallGetVarargP();var offset=0;HEAP16[arg+offset>>>1>>>0]=2;return 0}case 13:case 14:return 0}return-28}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}Module["___syscall_fcntl64"]=___syscall_fcntl64;function ___syscall_ioctl(fd,op,varargs){varargs>>>=0;SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(op){case 21509:{if(!stream.tty)return-59;return 0}case 21505:{if(!stream.tty)return-59;if(stream.tty.ops.ioctl_tcgets){var termios=stream.tty.ops.ioctl_tcgets(stream);var argp=syscallGetVarargP();HEAP32[argp>>>2>>>0]=termios.c_iflag||0;HEAP32[argp+4>>>2>>>0]=termios.c_oflag||0;HEAP32[argp+8>>>2>>>0]=termios.c_cflag||0;HEAP32[argp+12>>>2>>>0]=termios.c_lflag||0;for(var i=0;i<32;i++){HEAP8[argp+i+17>>>0]=termios.c_cc[i]||0}return 0}return 0}case 21510:case 21511:case 21512:{if(!stream.tty)return-59;return 0}case 21506:case 21507:case 21508:{if(!stream.tty)return-59;if(stream.tty.ops.ioctl_tcsets){var argp=syscallGetVarargP();var c_iflag=HEAP32[argp>>>2>>>0];var c_oflag=HEAP32[argp+4>>>2>>>0];var c_cflag=HEAP32[argp+8>>>2>>>0];var c_lflag=HEAP32[argp+12>>>2>>>0];var c_cc=[];for(var i=0;i<32;i++){c_cc.push(HEAP8[argp+i+17>>>0])}return stream.tty.ops.ioctl_tcsets(stream.tty,op,{c_iflag,c_oflag,c_cflag,c_lflag,c_cc})}return 0}case 21519:{if(!stream.tty)return-59;var argp=syscallGetVarargP();HEAP32[argp>>>2>>>0]=0;return 0}case 21520:{if(!stream.tty)return-59;return-28}case 21531:{var argp=syscallGetVarargP();return FS.ioctl(stream,op,argp)}case 21523:{if(!stream.tty)return-59;if(stream.tty.ops.ioctl_tiocgwinsz){var winsize=stream.tty.ops.ioctl_tiocgwinsz(stream.tty);var argp=syscallGetVarargP();HEAP16[argp>>>1>>>0]=winsize[0];HEAP16[argp+2>>>1>>>0]=winsize[1]}return 0}case 21524:{if(!stream.tty)return-59;return 0}case 21515:{if(!stream.tty)return-59;return 0}default:return-28}}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}Module["___syscall_ioctl"]=___syscall_ioctl;function ___syscall_openat(dirfd,path,flags,varargs){path>>>=0;varargs>>>=0;SYSCALLS.varargs=varargs;try{path=SYSCALLS.getStr(path);path=SYSCALLS.calculateAt(dirfd,path);var mode=varargs?syscallGetVarargI():0;return FS.open(path,flags,mode).fd}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}Module["___syscall_openat"]=___syscall_openat;var __abort_js=()=>abort("");Module["__abort_js"]=__abort_js;var runtimeKeepaliveCounter=0;Module["runtimeKeepaliveCounter"]=runtimeKeepaliveCounter;var __emscripten_runtime_keepalive_clear=()=>{noExitRuntime=false;runtimeKeepaliveCounter=0};Module["__emscripten_runtime_keepalive_clear"]=__emscripten_runtime_keepalive_clear;function __mmap_js(len,prot,flags,fd,offset,allocated,addr){len>>>=0;offset=bigintToI53Checked(offset);allocated>>>=0;addr>>>=0;try{if(isNaN(offset))return 61;var stream=SYSCALLS.getStreamFromFD(fd);var res=FS.mmap(stream,len,offset,prot,flags);var ptr=res.ptr;HEAP32[allocated>>>2>>>0]=res.allocated;HEAPU32[addr>>>2>>>0]=ptr;return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}Module["__mmap_js"]=__mmap_js;function __munmap_js(addr,len,prot,flags,fd,offset){addr>>>=0;len>>>=0;offset=bigintToI53Checked(offset);try{var stream=SYSCALLS.getStreamFromFD(fd);if(prot&2){SYSCALLS.doMsync(addr,stream,len,flags,offset)}}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}Module["__munmap_js"]=__munmap_js;var timers={};Module["timers"]=timers;var handleException=e=>{if(e instanceof ExitStatus||e=="unwind"){return EXITSTATUS}quit_(1,e)};Module["handleException"]=handleException;var keepRuntimeAlive=()=>noExitRuntime||runtimeKeepaliveCounter>0;Module["keepRuntimeAlive"]=keepRuntimeAlive;var _proc_exit=code=>{EXITSTATUS=code;if(!keepRuntimeAlive()){Module["onExit"]?.(code);ABORT=true}quit_(code,new ExitStatus(code))};Module["_proc_exit"]=_proc_exit;var exitJS=(status,implicit)=>{EXITSTATUS=status;_proc_exit(status)};Module["exitJS"]=exitJS;var _exit=exitJS;Module["_exit"]=_exit;var maybeExit=()=>{if(!keepRuntimeAlive()){try{_exit(EXITSTATUS)}catch(e){handleException(e)}}};Module["maybeExit"]=maybeExit;var callUserCallback=func=>{if(ABORT){return}try{func();maybeExit()}catch(e){handleException(e)}};Module["callUserCallback"]=callUserCallback;var _emscripten_get_now=()=>performance.now();Module["_emscripten_get_now"]=_emscripten_get_now;var __setitimer_js=(which,timeout_ms)=>{if(timers[which]){clearTimeout(timers[which].id);delete timers[which]}if(!timeout_ms)return 0;var id=setTimeout(()=>{delete timers[which];callUserCallback(()=>__emscripten_timeout(which,_emscripten_get_now()))},timeout_ms);timers[which]={id,timeout_ms};return 0};Module["__setitimer_js"]=__setitimer_js;var stringToUTF8=(str,outPtr,maxBytesToWrite)=>stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite);Module["stringToUTF8"]=stringToUTF8;var __tzset_js=function(timezone,daylight,std_name,dst_name){timezone>>>=0;daylight>>>=0;std_name>>>=0;dst_name>>>=0;var currentYear=(new Date).getFullYear();var winter=new Date(currentYear,0,1);var summer=new Date(currentYear,6,1);var winterOffset=winter.getTimezoneOffset();var summerOffset=summer.getTimezoneOffset();var stdTimezoneOffset=Math.max(winterOffset,summerOffset);HEAPU32[timezone>>>2>>>0]=stdTimezoneOffset*60;HEAP32[daylight>>>2>>>0]=Number(winterOffset!=summerOffset);var extractZone=timezoneOffset=>{var sign=timezoneOffset>=0?"-":"+";var absOffset=Math.abs(timezoneOffset);var hours=String(Math.floor(absOffset/60)).padStart(2,"0");var minutes=String(absOffset%60).padStart(2,"0");return`UTC${sign}${hours}${minutes}`};var winterName=extractZone(winterOffset);var summerName=extractZone(summerOffset);if(summerOffset<winterOffset){stringToUTF8(winterName,std_name,17);stringToUTF8(summerName,dst_name,17)}else{stringToUTF8(winterName,dst_name,17);stringToUTF8(summerName,std_name,17)}};Module["__tzset_js"]=__tzset_js;var _emscripten_date_now=()=>Date.now();Module["_emscripten_date_now"]=_emscripten_date_now;var nowIsMonotonic=1;Module["nowIsMonotonic"]=nowIsMonotonic;var checkWasiClock=clock_id=>clock_id>=0&&clock_id<=3;Module["checkWasiClock"]=checkWasiClock;function _clock_time_get(clk_id,ignored_precision,ptime){ignored_precision=bigintToI53Checked(ignored_precision);ptime>>>=0;if(!checkWasiClock(clk_id)){return 28}var now;if(clk_id===0){now=_emscripten_date_now()}else if(nowIsMonotonic){now=_emscripten_get_now()}else{return 52}var nsec=Math.round(now*1e3*1e3);HEAP64[ptime>>>3]=BigInt(nsec);return 0}Module["_clock_time_get"]=_clock_time_get;var getHeapMax=()=>4294901760;Module["getHeapMax"]=getHeapMax;function _emscripten_get_heap_max(){return getHeapMax()}Module["_emscripten_get_heap_max"]=_emscripten_get_heap_max;var growMemory=size=>{var b=wasmMemory.buffer;var pages=(size-b.byteLength+65535)/65536|0;try{wasmMemory.grow(pages);updateMemoryViews();return 1}catch(e){}};Module["growMemory"]=growMemory;function _emscripten_resize_heap(requestedSize){requestedSize>>>=0;var oldSize=HEAPU8.length;var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){return false}for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignMemory(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true}}return false}Module["_emscripten_resize_heap"]=_emscripten_resize_heap;var ENV={};Module["ENV"]=ENV;var getExecutableName=()=>thisProgram||"./this.program";Module["getExecutableName"]=getExecutableName;var getEnvStrings=()=>{if(!getEnvStrings.strings){var lang=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8";var env={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:lang,_:getExecutableName()};for(var x in ENV){if(ENV[x]===undefined)delete env[x];else env[x]=ENV[x]}var strings=[];for(var x in env){strings.push(`${x}=${env[x]}`)}getEnvStrings.strings=strings}return getEnvStrings.strings};Module["getEnvStrings"]=getEnvStrings;var stringToAscii=(str,buffer)=>{for(var i=0;i<str.length;++i){HEAP8[buffer++>>>0]=str.charCodeAt(i)}HEAP8[buffer>>>0]=0};Module["stringToAscii"]=stringToAscii;var _environ_get=function(__environ,environ_buf){__environ>>>=0;environ_buf>>>=0;var bufSize=0;getEnvStrings().forEach((string,i)=>{var ptr=environ_buf+bufSize;HEAPU32[__environ+i*4>>>2>>>0]=ptr;stringToAscii(string,ptr);bufSize+=string.length+1});return 0};Module["_environ_get"]=_environ_get;var _environ_sizes_get=function(penviron_count,penviron_buf_size){penviron_count>>>=0;penviron_buf_size>>>=0;var strings=getEnvStrings();HEAPU32[penviron_count>>>2>>>0]=strings.length;var bufSize=0;strings.forEach(string=>bufSize+=string.length+1);HEAPU32[penviron_buf_size>>>2>>>0]=bufSize;return 0};Module["_environ_sizes_get"]=_environ_sizes_get;function _fd_close(fd){try{var stream=SYSCALLS.getStreamFromFD(fd);FS.close(stream);return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}Module["_fd_close"]=_fd_close;var doReadv=(stream,iov,iovcnt,offset)=>{var ret=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>>2>>>0];var len=HEAPU32[iov+4>>>2>>>0];iov+=8;var curr=FS.read(stream,HEAP8,ptr,len,offset);if(curr<0)return-1;ret+=curr;if(curr<len)break;if(typeof offset!="undefined"){offset+=curr}}return ret};Module["doReadv"]=doReadv;function _fd_read(fd,iov,iovcnt,pnum){iov>>>=0;iovcnt>>>=0;pnum>>>=0;try{var stream=SYSCALLS.getStreamFromFD(fd);var num=doReadv(stream,iov,iovcnt);HEAPU32[pnum>>>2>>>0]=num;return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}Module["_fd_read"]=_fd_read;function _fd_seek(fd,offset,whence,newOffset){offset=bigintToI53Checked(offset);newOffset>>>=0;try{if(isNaN(offset))return 61;var stream=SYSCALLS.getStreamFromFD(fd);FS.llseek(stream,offset,whence);HEAP64[newOffset>>>3]=BigInt(stream.position);if(stream.getdents&&offset===0&&whence===0)stream.getdents=null;return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}Module["_fd_seek"]=_fd_seek;var doWritev=(stream,iov,iovcnt,offset)=>{var ret=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>>2>>>0];var len=HEAPU32[iov+4>>>2>>>0];iov+=8;var curr=FS.write(stream,HEAP8,ptr,len,offset);if(curr<0)return-1;ret+=curr;if(curr<len){break}if(typeof offset!="undefined"){offset+=curr}}return ret};Module["doWritev"]=doWritev;function _fd_write(fd,iov,iovcnt,pnum){iov>>>=0;iovcnt>>>=0;pnum>>>=0;try{var stream=SYSCALLS.getStreamFromFD(fd);var num=doWritev(stream,iov,iovcnt);HEAPU32[pnum>>>2>>>0]=num;return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}Module["_fd_write"]=_fd_write;function _random_get(buffer,size){buffer>>>=0;size>>>=0;try{randomFill(HEAPU8.subarray(buffer>>>0,buffer+size>>>0));return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}Module["_random_get"]=_random_get;var getCFunc=ident=>{var func=Module["_"+ident];return func};Module["getCFunc"]=getCFunc;var writeArrayToMemory=(array,buffer)=>{HEAP8.set(array,buffer>>>0)};Module["writeArrayToMemory"]=writeArrayToMemory;var stackAlloc=sz=>__emscripten_stack_alloc(sz);Module["stackAlloc"]=stackAlloc;var stringToUTF8OnStack=str=>{var size=lengthBytesUTF8(str)+1;var ret=stackAlloc(size);stringToUTF8(str,ret,size);return ret};Module["stringToUTF8OnStack"]=stringToUTF8OnStack;var stackSave=()=>_emscripten_stack_get_current();Module["stackSave"]=stackSave;var stackRestore=val=>__emscripten_stack_restore(val);Module["stackRestore"]=stackRestore;var ccall=(ident,returnType,argTypes,args,opts)=>{var toC={string:str=>{var ret=0;if(str!==null&&str!==undefined&&str!==0){ret=stringToUTF8OnStack(str)}return ret},array:arr=>{var ret=stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret}};function convertReturnValue(ret){if(returnType==="string"){return UTF8ToString(ret)}if(returnType==="boolean")return Boolean(ret);return ret}var func=getCFunc(ident);var cArgs=[];var stack=0;if(args){for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];if(converter){if(stack===0)stack=stackSave();cArgs[i]=converter(args[i])}else{cArgs[i]=args[i]}}}var ret=func(...cArgs);function onDone(ret){if(stack!==0)stackRestore(stack);return convertReturnValue(ret)}ret=onDone(ret);return ret};Module["ccall"]=ccall;var cwrap=(ident,returnType,argTypes,opts)=>{var numericArgs=!argTypes||argTypes.every(type=>type==="number"||type==="boolean");var numericRet=returnType!=="string";if(numericRet&&numericArgs&&!opts){return getCFunc(ident)}return(...args)=>ccall(ident,returnType,argTypes,args,opts)};Module["cwrap"]=cwrap;var FS_createPath=FS.createPath;Module["FS_createPath"]=FS_createPath;var FS_unlink=path=>FS.unlink(path);Module["FS_unlink"]=FS_unlink;var FS_createLazyFile=FS.createLazyFile;Module["FS_createLazyFile"]=FS_createLazyFile;var FS_createDevice=FS.createDevice;Module["FS_createDevice"]=FS_createDevice;FS.createPreloadedFile=FS_createPreloadedFile;FS.staticInit();Module["FS_createPath"]=FS.createPath;Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;Module["FS_unlink"]=FS.unlink;Module["FS_createLazyFile"]=FS.createLazyFile;Module["FS_createDevice"]=FS.createDevice;MEMFS.doesNotExistError=new FS.ErrnoError(44);MEMFS.doesNotExistError.stack="<generic error, no stack>";var wasmImports={b:___syscall_fcntl64,f:___syscall_ioctl,g:___syscall_openat,u:__abort_js,j:__emscripten_runtime_keepalive_clear,o:__mmap_js,p:__munmap_js,k:__setitimer_js,q:__tzset_js,t:_clock_time_get,i:_emscripten_date_now,n:_emscripten_get_heap_max,m:_emscripten_resize_heap,s:_environ_get,c:_environ_sizes_get,a:_fd_close,e:_fd_read,r:_fd_seek,d:_fd_write,h:_proc_exit,l:_random_get};var wasmExports;createWasm();var ___wasm_call_ctors=()=>(___wasm_call_ctors=wasmExports["w"])();var _wllama_malloc=Module["_wllama_malloc"]=(a0,a1)=>(_wllama_malloc=Module["_wllama_malloc"]=wasmExports["x"])(a0,a1);var _wllama_start=Module["_wllama_start"]=()=>(_wllama_start=Module["_wllama_start"]=wasmExports["y"])();var _wllama_action=Module["_wllama_action"]=(a0,a1)=>(_wllama_action=Module["_wllama_action"]=wasmExports["z"])(a0,a1);var _wllama_exit=Module["_wllama_exit"]=()=>(_wllama_exit=Module["_wllama_exit"]=wasmExports["A"])();var _wllama_debug=Module["_wllama_debug"]=()=>(_wllama_debug=Module["_wllama_debug"]=wasmExports["B"])();var _main=Module["_main"]=(a0,a1)=>(_main=Module["_main"]=wasmExports["C"])(a0,a1);var _emscripten_builtin_memalign=(a0,a1)=>(_emscripten_builtin_memalign=wasmExports["E"])(a0,a1);var __emscripten_timeout=(a0,a1)=>(__emscripten_timeout=wasmExports["F"])(a0,a1);var ___trap=()=>(___trap=wasmExports["G"])();var __emscripten_stack_restore=a0=>(__emscripten_stack_restore=wasmExports["H"])(a0);var __emscripten_stack_alloc=a0=>(__emscripten_stack_alloc=wasmExports["I"])(a0);var _emscripten_stack_get_current=()=>(_emscripten_stack_get_current=wasmExports["J"])();function applySignatureConversions(wasmExports){wasmExports=Object.assign({},wasmExports);var makeWrapper_ppp=f=>(a0,a1)=>f(a0,a1)>>>0;var makeWrapper_pp=f=>a0=>f(a0)>>>0;var makeWrapper_p=f=>()=>f()>>>0;wasmExports["E"]=makeWrapper_ppp(wasmExports["E"]);wasmExports["I"]=makeWrapper_pp(wasmExports["I"]);wasmExports["J"]=makeWrapper_p(wasmExports["J"]);return wasmExports}Module["addRunDependency"]=addRunDependency;Module["removeRunDependency"]=removeRunDependency;Module["ccall"]=ccall;Module["cwrap"]=cwrap;Module["FS_createPreloadedFile"]=FS_createPreloadedFile;Module["FS_unlink"]=FS_unlink;Module["FS_createPath"]=FS_createPath;Module["FS_createDevice"]=FS_createDevice;Module["FS_createDataFile"]=FS_createDataFile;Module["FS_createLazyFile"]=FS_createLazyFile;function callMain(){var entryFunction=_main;var argc=0;var argv=0;try{var ret=entryFunction(argc,argv);exitJS(ret,true);return ret}catch(e){return handleException(e)}}function run(){if(runDependencies>0){dependenciesFulfilled=run;return}preRun();if(runDependencies>0){dependenciesFulfilled=run;return}function doRun(){Module["calledRun"]=true;if(ABORT)return;initRuntime();preMain();Module["onRuntimeInitialized"]?.();var noInitialRun=Module["noInitialRun"];if(!noInitialRun)callMain();postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(()=>{setTimeout(()=>Module["setStatus"](""),1);doRun()},1)}else{doRun()}}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}run();\n';class OF{constructor(e,r=1,a,n){this.taskQueue=[],this.taskId=1,this.resultQueue=[],this.busy=!1,this.pathConfig=e,this.nbThread=r,this.multiThread=r>1,this.logger=n,this.suppressNativeLog=a}async moduleInit(e){if(!this.pathConfig["wllama.wasm"])throw new Error('"single-thread/wllama.wasm" is missing from pathConfig');let r=this.multiThread?CF:IF,a=r.replace("var Module","var ___Module");const n={pathConfig:this.pathConfig,nbThread:this.nbThread},s=[`const RUN_OPTIONS = ${JSON.stringify(n)};`,`function wModuleInit() { ${a}; return Module; }`,RF].join(`;

`);this.worker=Wf(s),this.worker.onmessage=this.onRecvMsg.bind(this),this.worker.onerror=this.logger.error;const o=await this.pushTask({verb:"module.init",args:[new Blob([r],{type:"text/javascript"})],callbackId:this.taskId++}),i=[];for(const l of e){const u=await this.fileAlloc(l.name,l.blob.size);i.push({id:u,...l})}return await Promise.all(i.map(l=>this.fileWrite(l.id,l.blob))),o}async wllamaStart(){const e=await this.pushTask({verb:"wllama.start",args:[],callbackId:this.taskId++});return this.parseResult(e)}async wllamaAction(e,r){const a=SF(r),n=await this.pushTask({verb:"wllama.action",args:[e,a],callbackId:this.taskId++});return wF(n)}async wllamaExit(){if(this.worker){const e=await this.pushTask({verb:"wllama.exit",args:[],callbackId:this.taskId++});this.parseResult(e),this.worker.terminate()}}async wllamaDebug(){const e=await this.pushTask({verb:"wllama.debug",args:[],callbackId:this.taskId++});return JSON.parse(e)}async fileAlloc(e,r){return(await this.pushTask({verb:"fs.alloc",args:[e,r],callbackId:this.taskId++})).fileId}async fileWrite(e,r){const a=r.stream().getReader();let n=0;for(;;){const{done:s,value:o}=await a.read();if(s)break;const i=o.byteLength;await this.pushTask({verb:"fs.write",args:[e,o,n],callbackId:this.taskId++},[o.buffer]),n+=i}}parseResult(e){const r=JSON.parse(e);if(r&&r.error)throw new Error("Unknown error, please see console.log");return r}pushTask(e,r){return new Promise((a,n)=>{this.taskQueue.push({resolve:a,reject:n,param:e,buffers:r}),this.runTaskLoop()})}async runTaskLoop(){if(!this.busy){for(this.busy=!0;;){const e=this.taskQueue.shift();if(!e)break;this.resultQueue.push(e),this.worker.postMessage(e.param,py()?void 0:{transfer:e.buffers??[]})}this.busy=!1}}onRecvMsg(e){if(!e.data)return;const{verb:r,args:a}=e.data;if(r&&r.startsWith("console.")){if(this.suppressNativeLog)return;r.endsWith("debug")&&this.logger.debug(...a),r.endsWith("log")&&this.logger.log(...a),r.endsWith("warn")&&this.logger.warn(...a),r.endsWith("error")&&this.logger.error(...a);return}else r==="signal.abort"&&this.abort(a[0]);const{callbackId:n,result:s,err:o}=e.data;if(n){const i=this.resultQueue.findIndex(l=>l.param.callbackId===n);if(i!==-1){const l=this.resultQueue.splice(i,1)[0];o?l.reject(o):l.resolve(s)}else this.logger.error(`Cannot find waiting task with callbackId = ${n}`)}}abort(e){for(;this.resultQueue.length>0;){const r=this.resultQueue.pop();if(!r)break;r.reject(new Error(`Received abort signal from llama.cpp; Message: ${e||"(empty)"}`))}}}const ma="__metadata__",LF="polyfill_for_older_version";class hy{async getNameFromURL(e){return await La(e,"")}async write(e,r,a){return this.writeMetadata(e,a),await rh(e,r)}async download(e,r={}){const a=Wf(my);let n=!1;r.signal&&(n=r.signal.aborted,r.signal.addEventListener("abort",()=>{n=!0,a.postMessage({action:"download-abort"})}),delete r.signal);const s=await La(e,ma),o=await La(e,"");return await new Promise((i,l)=>{a.postMessage({action:"download",url:e,filename:o,metadataFileName:s,options:{headers:r.headers,aborted:n}}),a.onmessage=u=>{var c;if(u.data.ok)a.terminate(),i();else if(u.data.err)a.terminate(),l(u.data.err);else if(u.data.progress){const d=u.data.progress;(c=r.progressCallback)==null||c.call(r,d)}else l(new Error("Unknown message from worker")),console.error("Unknown message from worker",u.data)}})}async open(e){return await nh(e)}async getSize(e){return await DF(e)}async getMetadata(e){const r=await nh(e,ma),a=await this.getSize(e);if(!r)return a>0?{etag:LF,originalSize:a,originalURL:""}:null;try{return await new Response(r).json()}catch{return null}}async list(){const e=await Yi(),r=[],a={};for await(let[n,s]of e.entries())if(s.kind==="file"&&n.startsWith(ma)){const o=(await s.getFile()).stream(),i=await new Response(o).json().catch(l=>null);a[n.replace(ma,"")]=i}for await(let[n,s]of e.entries())s.kind==="file"&&!n.startsWith(ma)&&r.push({name:n,size:await s.getFile().then(o=>o.size),metadata:a[n]||{originalSize:(await s.getFile()).size,originalURL:"",etag:""}});return r}async clear(){await this.deleteMany(()=>!0)}async delete(e){const r=await this.getNameFromURL(e);await this.deleteMany(a=>a.name===e||a.name===r)}async deleteMany(e){const r=await Yi(),a=await this.list();for(const n of a)e(n)&&r.removeEntry(n.name)}async writeMetadata(e,r){const a=new Blob([JSON.stringify(r)],{type:"text/plain"});await rh(e,a.stream(),ma)}}async function rh(t,e,r=""){try{const a=await La(t,r),n=await zF(a);await n.truncate(0);const s=e.getReader();for(;;){const{done:o,value:i}=await s.read();if(o)break;await n.write(i)}await n.close()}catch(a){console.error("opfsWrite",a)}}async function nh(t,e=""){const r=async s=>{try{return await(await(await Yi()).getFileHandle(s)).getFile()}catch{return null}};let a=await r(t);if(a)return a;const n=await La(t,e);return a=await r(n),a}async function DF(t,e=""){try{const r=await Yi(),a=await La(t,e);return(await(await r.getFileHandle(a)).getFile()).size}catch{return-1}}async function La(t,e){const r=await crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)),n=Array.from(new Uint8Array(r)).map(s=>s.toString(16).padStart(2,"0")).join("");return`${e}${n}_${t.split("/").pop()}`}async function Yi(){return await(await navigator.storage.getDirectory()).getDirectoryHandle("cache",{create:!0})}async function zF(t){const e=Wf(my);let r,a;e.onmessage=s=>{s.data.ok?r(null):s.data.err&&a(s.data.err)};const n=s=>new Promise((o,i)=>{r=o,a=i,e.postMessage(s,py()?void 0:{transfer:s.value?[s.value.buffer]:[]})});return await n({open:t}),{truncate:async()=>{},write:s=>n({value:s}),close:async()=>{await n({done:!0}),e.terminate()}}}const jF=3;class Zc{constructor(e,r,a){this.modelManager=e,this.url=r,a?(this.files=this.getAllFiles(a),this.size=yu(this.files.map(n=>n.metadata.originalSize))):(this.files=[],this.size=0)}async open(){if(this.size===-1)throw new be("Model is deleted from the cache; Call ModelManager.downloadModel to re-download the model","load_error");const e=[];for(const r of this.files){const a=await this.modelManager.cacheManager.open(r.name);if(!a)throw new Error(`Failed to open file ${r.name}; Hint: the model may be invalid, please refresh it`);e.push(a)}return e}validate(){const e=Yn.parseModelUrl(this.url).length;if(this.size===-1)return"deleted";if(this.size<16||this.files.length!==e)return"invalid";for(const r of this.files)if(!r.metadata||r.metadata.originalSize!==r.size)return"invalid";return"valid"}async refresh(e={}){const r=Yn.parseModelUrl(this.url),a=r.map((u,c)=>({url:u,index:c}));this.modelManager.logger.debug("Downloading model files:",r);const n=this.modelManager.params.parallelDownloads??jF,s=await this.getTotalDownloadSize(r),o=[],i=async()=>{for(;a.length>0;){const u=a.shift();if(!u)break;await this.modelManager.cacheManager.download(u.url,{...e,progressCallback:({loaded:c})=>{var d;o[u.index]=c,(d=e.progressCallback)==null||d.call(e,{loaded:yu(o),total:s})}})}},l=[];for(let u=0;u<n;u++)l.push(i()),o.push(0);await Promise.all(l),this.files=this.getAllFiles(await this.modelManager.cacheManager.list()),this.size=this.files.reduce((u,c)=>u+c.metadata.originalSize,0)}async remove(){this.files=this.getAllFiles(await this.modelManager.cacheManager.list()),await this.modelManager.cacheManager.deleteMany(e=>!!this.files.find(r=>r.name===e.name)),this.size=-1}getAllFiles(e){const r=new Set(Yn.parseModelUrl(this.url)),a=[];for(const n of r){const s=e.find(o=>o.metadata.originalURL===n);if(!s)throw new Error(`Model file not found: ${n}`);a.push(s)}return a.sort((n,s)=>n.metadata.originalURL.localeCompare(s.metadata.originalURL)),a}async getTotalDownloadSize(e){const a=(await Promise.all(e.map(n=>fetch(n,{method:"HEAD"})))).map(n=>Number(n.headers.get("content-length")||"0"));return yu(a)}}class Yn{constructor(e={}){this.cacheManager=e.cacheManager||new hy,this.params=e,this.logger=e.logger||console}static parseModelUrl(e){if(Array.isArray(e))return e;const r=/-(\d{5})-of-(\d{5})\.gguf(?:\?.*)?$/,a=e.match(/\.gguf(\?.*)?$/),n=(a==null?void 0:a[1])??"",s=e.match(r);if(!s)return[e];const o=e.replace(r,""),i=s[2];return Array.from({length:Number(i)},(u,c)=>(c+1).toString().padStart(5,"0")).map(u=>`${o}-${u}-of-${i}.gguf${n}`)}async getModels(e={}){const r=await this.cacheManager.list();let a=[];for(const n of r){const s=Yn.parseModelUrl(n.metadata.originalURL);(s.length===1||s[0]===n.metadata.originalURL)&&a.push(new Zc(this,n.metadata.originalURL,r))}return e.includeInvalid||(a=a.filter(n=>n.validate()==="valid")),a}async downloadModel(e,r={}){if(!Bf(e))throw new be(`Invalid model URL: ${e}; URL must ends with ".gguf"`,"download_error");const a=new Zc(this,e,void 0);return a.validate()!=="valid"&&await a.refresh(r),a}async getModelOrDownload(e,r={}){var s;const n=(await this.getModels()).find(o=>o.url===e);return n?((s=r.progressCallback)==null||s.call(r,{loaded:n.size,total:n.size}),n):this.downloadModel(e,r)}async clear(){await this.cacheManager.clear()}}const UF=/^([a-zA-Z0-9_\-\.]+)\/([a-zA-Z0-9_\-\.]+)$/,$F="Hugging Face model ID is incorrect. Only regular alphanumeric characters, '-', '.' and '_' supported";class be extends Error{constructor(e,r="unknown_error"){super(e),this.type=r}}class ah extends Error{constructor(){super("Operation aborted"),this.name="AbortError"}}class Vf{constructor(e,r={}){if(this.proxy=null,this.useMultiThread=!1,this.nbThreads=1,this.useEmbeddings=!1,this.loadedContextInfo=null,this.bosToken=-1,this.eosToken=-1,this.eotToken=-1,this.eogTokens=new Set,this.addBosToken=!1,this.addEosToken=!1,this.samplingConfig={},this.hasEncoder=!1,this.decoderStartToken=-1,this.nCachedTokens=0,MF(),!e)throw new be("AssetsPathConfig is required");this.pathConfig=e,this.config=r,this.cacheManager=r.cacheManager??new hy,this.modelManager=r.modelManager??new Yn({cacheManager:this.cacheManager,logger:r.logger??console,parallelDownloads:r.parallelDownloads,allowOffline:r.allowOffline})}logger(){return this.config.logger??console}checkModelLoaded(){if(!this.isModelLoaded())throw new be("loadModel() is not yet called","model_not_loaded")}static getLibllamaVersion(){return NF}isModelLoaded(){return!!this.proxy&&!!this.metadata}getBOS(){return this.bosToken}getEOS(){return this.eosToken}getEOT(){return this.eotToken}isTokenEOG(e){return e===this.eosToken||e===this.eotToken||this.eogTokens.has(e)}getDecoderStartToken(){return this.decoderStartToken}getModelMetadata(){return this.checkModelLoaded(),this.metadata}isMultithread(){return this.checkModelLoaded(),this.useMultiThread}getNumThreads(){return this.checkModelLoaded(),this.useMultiThread?this.nbThreads:1}isEncoderDecoderArchitecture(){return this.checkModelLoaded(),this.hasEncoder}mustAddBosToken(){return this.checkModelLoaded(),this.addBosToken}mustAddEosToken(){return this.checkModelLoaded(),this.addEosToken}getChatTemplate(){return this.checkModelLoaded(),this.chatTemplate??null}async loadModelFromUrl(e,r={}){const a=fy(e)?e:e[0],o=await(r.useCache??!0?await this.modelManager.getModelOrDownload(a,r):await this.modelManager.downloadModel(a,r)).open();return await this.loadModel(o,r)}async loadModelFromHF(e,r,a={}){if(!e.match(UF))throw new be($F,"download_error");if(!Bf(r))throw new be("Only GGUF file is supported","download_error");return await this.loadModelFromUrl(`https://huggingface.co/${e}/resolve/main/${r}`,a)}async loadModel(e,r={}){const a=e instanceof Zc?await e.open():[...e];if(a.some(f=>f.size===0))throw new be("Input model (or splits) must be non-empty Blob or File","load_error");if(kF(a),this.proxy)throw new be("Module is already initialized","load_error");const n=await xF();n||this.logger().warn("Multi-threads are not supported in this environment, falling back to single-thread");const s=!!this.pathConfig["multi-thread/wllama.wasm"];s||this.logger().warn('Missing paths to "multi-thread/wllama.wasm", falling back to single-thread');const o=Math.floor((navigator.hardwareConcurrency||1)/2),i=r.n_threads??o;this.nbThreads=i,this.useMultiThread=n&&s&&i>1;const l=this.useMultiThread?{"wllama.wasm":th(this.pathConfig["multi-thread/wllama.wasm"])}:{"wllama.wasm":th(this.pathConfig["single-thread/wllama.wasm"])};this.proxy=new OF(l,this.useMultiThread?i:1,this.config.suppressNativeLog??!1,this.logger());const u=a.map((f,h)=>({name:`model-${h}.gguf`,blob:f}));await this.proxy.moduleInit(u);const c=await this.proxy.wllamaStart();if(!c.success)throw new be(`Error while calling start function, result = ${c}`);const d=await this.proxy.wllamaAction("load",{_name:"load_req",use_mmap:!0,use_mlock:!0,n_gpu_layers:0,seed:r.seed||Math.floor(Math.random()*1e5),n_ctx:r.n_ctx||1024,n_threads:this.useMultiThread?i:1,n_ctx_auto:!1,model_paths:u.map(f=>`models/${f.name}`),embeddings:r.embeddings,offload_kqv:r.offload_kqv,n_batch:r.n_batch,pooling_type:r.pooling_type,rope_scaling_type:r.rope_scaling_type,rope_freq_base:r.rope_freq_base,rope_freq_scale:r.rope_freq_scale,yarn_ext_factor:r.yarn_ext_factor,yarn_attn_factor:r.yarn_attn_factor,yarn_beta_fast:r.yarn_beta_fast,yarn_beta_slow:r.yarn_beta_slow,yarn_orig_ctx:r.yarn_orig_ctx,cache_type_k:r.cache_type_k,cache_type_v:r.cache_type_v,n_seq_max:1,flash_attn:r.flash_attn,swa_full:!0}),p={...d,metadata:{}};for(let f=0;f<d.metadata_key.length;f++)p.metadata[d.metadata_key[f]]=d.metadata_val[f];this.bosToken=p.token_bos,this.eosToken=p.token_eos,this.eotToken=p.token_eot,this.useEmbeddings=!!r.embeddings,this.metadata={hparams:{nVocab:p.n_vocab,nCtxTrain:p.n_ctx_train,nEmbd:p.n_embd,nLayer:p.n_layer},meta:p.metadata},this.hasEncoder=!!p.has_encoder,this.decoderStartToken=p.token_decoder_start,this.addBosToken=p.add_bos_token,this.addEosToken=p.add_eos_token,this.chatTemplate=p.metadata["tokenizer.chat_template"],this.loadedContextInfo=p,this.eogTokens=new Set(p.list_tokens_eog),this.logger().debug({loadedCtxInfo:p})}getLoadedContextInfo(){if(this.checkModelLoaded(),!this.loadedContextInfo)throw new be("Loaded context info is not available");return{...this.loadedContextInfo}}async createEmbedding(e,r={}){this.checkModelLoaded();const a={skipBOS:!1,skipEOS:!1,...r};await this.samplingInit(this.samplingConfig),await this.kvClear();const n=await this.tokenize(e);return this.bosToken&&!a.skipBOS&&n.unshift(this.bosToken),this.eosToken&&!a.skipEOS&&n.push(this.eosToken),await this.embeddings(n)}async createChatCompletion(e,r){const a=await this.formatChat(e,!0);return r.stream?await this.createCompletionGenerator(a,r):await this.createCompletion(a,{...r,stream:!1})}async createCompletion(e,r){return r.stream?await this.createCompletionGenerator(e,r):await this.createCompletionImpl(e,{...r,stream:!1})}async createCompletionImpl(e,r){var l;this.checkModelLoaded(),this.samplingConfig=r.sampling??{},await this.samplingInit(this.samplingConfig);const a=new Set(r.stopTokens??[]);let n=await this.tokenize(e,!0);this.addBosToken&&n[0]!==this.bosToken&&n.unshift(this.bosToken),r.useCache?n=await this.computeNonCachedTokens(n):await this.kvClear(),await this.samplingAccept(n),this.isEncoderDecoderArchitecture()?(await this.encode(n),await this.decode([this.getDecoderStartToken()],{})):await this.decode(n,{});let s=new Uint8Array,o=!1;const i=()=>{o=!0};for(let u=0;u<(r.nPredict??1/0);u++){const c=await this.samplingSample();if(this.isTokenEOG(c.token)||a.has(c.token)||(s=EF([s,c.piece]),r.onNewToken&&r.onNewToken(c.token,c.piece,_u(s),{abortSignal:i}),o||(l=r.abortSignal)!=null&&l.aborted))break;await this.samplingAccept([c.token]),await this.decode([c.token],{})}return _u(s)}createCompletionGenerator(e,r){return new Promise((a,n)=>{const s=TF(o=>{this.createCompletionImpl(e,{...r,onNewToken:(i,l,u)=>{o({token:i,piece:l,currentText:u},!1)}}).catch(n).then(()=>{o(void 0,!0)})});a(s())})}async samplingInit(e,r=[]){this.checkModelLoaded(),this.samplingConfig=e;const a=e.logit_bias??[],n=a.map(i=>i.token),s=a.map(i=>i.bias);if(!(await this.proxy.wllamaAction("sampling_init",{_name:"sint_req",...e,logit_bias_toks:n,logit_bias_vals:s,tokens:r})).success)throw new be("Failed to initialize sampling")}async getVocab(){return this.checkModelLoaded(),(await this.proxy.wllamaAction("get_vocab",{_name:"gvoc_req"})).vocab}async lookupToken(e){this.checkModelLoaded();const r=await this.proxy.wllamaAction("lookup_token",{_name:"lkup_req",piece:e});return r.success?r.token:-1}async tokenize(e,r=!0){return this.checkModelLoaded(),(await this.proxy.wllamaAction("tokenize",{_name:"tokn_req",text:e,special:!!r})).tokens}async detokenize(e,r=!1){this.checkModelLoaded();const a=await this.proxy.wllamaAction("detokenize",{_name:"dtkn_req",tokens:e});return r?_u(a.buffer):a.buffer}async decode(e,r){var s;if(this.checkModelLoaded(),this.useEmbeddings)throw new be("embeddings is enabled. Use wllama.setOptions({ embeddings: false }) to disable it.");if(e.length===0)return{nPast:this.nCachedTokens};if(this.nCachedTokens+e.length>this.loadedContextInfo.n_ctx)throw new be("Running out of context cache. Please increase n_ctx when loading the model","kv_cache_full");const a=this.breakTokensIntoBatches(e,this.loadedContextInfo.n_batch);let n;for(let o=0;o<a.length;o++){if((s=r==null?void 0:r.abortSignal)!=null&&s.aborted)throw new ah;const i=a.length>1&&o<a.length-1;if(n=await this.proxy.wllamaAction("decode",{_name:"deco_req",tokens:a[o],skip_logits:r.skipLogits||i}),n.error)throw new be(n.error);if(!n.success)throw new be("Cannot encode, unknown error")}return this.nCachedTokens=n.n_past,{nPast:n.n_past}}async encode(e,r){var s;if(this.checkModelLoaded(),!this.hasEncoder)throw new be("This model does not use encoder-decoder architecture.","inference_error");if(this.useEmbeddings)throw new be("embeddings is enabled. Use wllama.setOptions({ embeddings: false }) to disable it.","inference_error");if(e.length===0)return{nPast:this.nCachedTokens};if(this.nCachedTokens+e.length>this.loadedContextInfo.n_ctx)throw new be("Running out of context cache. Please increase n_ctx when loading the model","kv_cache_full");const a=this.breakTokensIntoBatches(e,this.loadedContextInfo.n_batch);let n;for(let o=0;o<a.length;o++){if((s=r==null?void 0:r.abortSignal)!=null&&s.aborted)throw new ah;if(n=await this.proxy.wllamaAction("encode",{_name:"enco_req",tokens:a[o]}),n.error)throw new be(n.error);if(!n.success)throw new be("Cannot encode, unknown error")}return this.nCachedTokens=n.n_past,{nPast:n.n_past}}breakTokensIntoBatches(e,r){const a=[];for(let n=0;n<e.length;n+=r)a.push(e.slice(n,n+r));return a}async samplingSample(){this.checkModelLoaded();const e=await this.proxy.wllamaAction("sampling_sample",{_name:"ssam_req"});return{piece:e.piece,token:e.token}}async samplingAccept(e){if(this.checkModelLoaded(),!(await this.proxy.wllamaAction("sampling_accept",{_name:"sacc_req",tokens:e})).success)throw new be("samplingAccept unknown error")}async getLogits(e=40){this.checkModelLoaded();const r=await this.proxy.wllamaAction("get_logits",{_name:"glog_req",top_k:e}),a=[];for(let n=0;n<r.tokens.length;n++)a.push({token:r.tokens[n],p:r.probs[n]});return a}async embeddings(e){if(this.checkModelLoaded(),!this.useEmbeddings)throw new be("embeddings is disabled. Use wllama.setOptions({ embeddings: true }) to enable it.","inference_error");if(this.nCachedTokens>0&&this.logger().warn("Embeddings: KV cache is not empty, this may produce incorrect results"),this.nCachedTokens+e.length>this.loadedContextInfo.n_ctx)throw new be("Running out of context cache. Please increase n_ctx when loading the model","kv_cache_full");if(e.length>this.loadedContextInfo.n_batch)throw new be("Embedding tokens does not fit into batch. Please increase n_batch when loading the model","inference_error");if(e.length>this.loadedContextInfo.n_ubatch)throw new be("Embedding tokens does not fit into physical batch. Please increase n_ubatch when loading the model","inference_error");const r=await this.proxy.wllamaAction("embeddings",{_name:"gemb_req",tokens:e});if(r.success)return r.embeddings;throw new be("embeddings unknown error")}async kvRemove(e,r){if(this.checkModelLoaded(),r===0)return;if(!(await this.proxy.wllamaAction("kv_remove",{_name:"kvcr_req",n_keep:e,n_discard:r})).success)throw new be("kvRemove unknown error");r<0?this.nCachedTokens=e:this.nCachedTokens-=r}async kvClear(){if(this.checkModelLoaded(),!(await this.proxy.wllamaAction("kv_clear",{_name:"kvcc_req"})).success)throw new be("kvClear unknown error");this.nCachedTokens=0}async formatChat(e,r,a){this.checkModelLoaded();const n=e.map(i=>i.role),s=e.map(i=>i.content),o=await this.proxy.wllamaAction("chat_format",{_name:"cfmt_req",roles:n,contents:s,tmpl:a,add_ass:r});if(!o.success)throw new be("formatChat unknown error");return o.formatted_chat}async setOptions(e){this.checkModelLoaded(),await this.proxy.wllamaAction("set_options",{_name:"opti_req",...e}),this.useEmbeddings=e.embeddings}async exit(){var e;await((e=this.proxy)==null?void 0:e.wllamaExit()),this.proxy=null}async _getDebugInfo(){return this.checkModelLoaded(),await this.proxy.wllamaDebug()}async _testBenchmark(e,r){return this.checkModelLoaded(),await this.proxy.wllamaAction("test_benchmark",{_name:"tben_req",type:e,n_samples:r})}async _testPerplexity(e){return this.checkModelLoaded(),await this.proxy.wllamaAction("test_perplexity",{_name:"tper_req",tokens:e})}async getCachedTokens(){return this.checkModelLoaded(),(await this.proxy.wllamaAction("current_status",{_name:"stat_req"})).tokens}async computeNonCachedTokens(e){const r=await this.getCachedTokens();let a=0;for(;a<Math.min(r.length,e.length)&&r[a]===e[a];a++);this.logger().debug(`Cache nKeep=${a}`);try{return await this.kvRemove(a,-1),e.slice(a,e.length)}catch{return this.logger().warn("Failed to rollback KV cache, clearing it instead"),await this.kvClear(),e}}}class es{constructor(e,r,a,n){oe(this,"url");oe(this,"size");oe(this,"isUserAdded");oe(this,"cachedModel");oe(this,"state",nt.NOT_DOWNLOADED);oe(this,"downloadPercent",-1);this.url=e,this.size=r,this.isUserAdded=a,this.state=n?nt.READY:nt.NOT_DOWNLOADED,this.cachedModel=n}get hfModel(){const e=this.url.replace(/https:\/\/(huggingface.co|hf.co)\/+/,"").split("/");return`${e[0]}/${e[1]}`}get hfPath(){return this.url.replace(/https:\/\/(huggingface.co|hf.co)\/+/,"").split("/").slice(4).join("/")}clone(e){const r=new es(this.url,this.size,this.isUserAdded,this.cachedModel);return r.state=e.state??this.state,r.downloadPercent=e.downloadPercent??this.downloadPercent,r}}function Xc(t){return Ur.load("custom_models",[]).map(r=>{const a=t.find(n=>n.url===r.url);return new es(r.url,r.size,!0,a)})}function sh(t){const e=t.filter(r=>r.isUserAdded).map(r=>({url:r.url,size:r.size}));Ur.save("custom_models",e)}function HF(t){return EE.map(e=>{const r=t.find(a=>a.url===e.url);return new es(e.url,e.size,!1,r)})}function BF(t){return[...Xc(t),...HF(t)]}const WF=new Uint8Array([71,71,85,70]);async function VF(t){const e=t.replace(/\?.*/,""),r=await fetch(e,{headers:{Range:`bytes=0-${2*1024*1024}`}});if(r.ok){const a=await r.arrayBuffer();if(!qF(new Uint8Array(a.slice(0,4)),WF))throw new Error("Not a valid gguf file: not starting with GGUF magic number")}else throw new Error(`Fetch error with status code = ${r.status}`);return new es(e,await GF(e),!0,void 0)}const qF=(t,e)=>{for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},GF=async t=>{const e=QF(t),r=await Promise.all(e.map(async a=>{const n=await fetch(a,{method:"HEAD"});if(n.ok){const s=n.headers.get("Content-Length");return s?parseInt(s):0}else throw new Error(`Fetch error with status code = ${n.status}`)}));if(r.some(a=>a>=Jg))throw new Error('GGUF file is too big (max. 2GB per file). Please split the file into smaller shards (learn more in "Guide")');return YF(r)},QF=t=>{const e=/(?<baseURL>.*)-(?<current>\d{5})-of-(?<total>\d{5})\.gguf$/,r=t.match(e);if(!r||!r.groups||Object.keys(r.groups).length!==3)return[t];const{baseURL:a,total:n}=r.groups;return Array.from({length:Number(n)},(o,i)=>(i+1).toString().padStart(5,"0")).map(o=>`${a}-${o}-of-${n}.gguf`)},YF=t=>t.reduce((e,r)=>e+r,0);window._exportModelList=function(){const e=Ur.load("custom_models",[]).map(r=>(delete r.userAdded,r));console.log(JSON.stringify(e,null,2))};const vy=ce.createContext({}),wu=new Yn;let $n=new Vf(vf,{logger:Gt}),$o=!1;const oh=()=>{$n=new Vf(vf,{logger:Gt})},KF=({children:t})=>{const[e,r]=ce.useState(!1),[a,n]=ce.useState(-1),[s,o]=ce.useState(FE()),[i,l]=ce.useState([]),[u,c]=ce.useState(!1),[d,p]=ce.useState(),[f,h]=ce.useState(Ur.load("params",e_)),[v,y]=ce.useState({}),[m,g]=ce.useState(),_=async()=>{l(await wu.getModels())};xE(_);const S=ce.useMemo(()=>{const I=BF(i);for(const Y of I)Y.downloadPercent=v[Y.url]??-1,Y.downloadPercent>=0&&(Y.state=nt.DOWNLOADING),(m==null?void 0:m.url)===Y.url&&(Y.state=m.state);return I},[i,v,m]),x=ce.useMemo(()=>S.some(I=>I.state===nt.DOWNLOADING),[S]),F=ce.useMemo(()=>u||(m==null?void 0:m.state)===nt.LOADING,[m,u]),M=(I,Y=-1)=>{Y<0?y(se=>{const _e={...se};return delete _e[I],_e}):y(se=>({...se,[I]:Y}))},P=async I=>{if(!(x||m||F)){M(I.url,0);try{await wu.downloadModel(I.url,{progressCallback(Y){M(I.url,Y.loaded/Y.total)}}),M(I.url,-1),await _()}catch(Y){alert((Y==null?void 0:Y.message)||"unknown error while downloading model")}}},L=async I=>{x||m||F||I.cachedModel&&(await I.cachedModel.remove(),await _())},z=async()=>{x||m||F||(await wu.clear(),await _())},G=async I=>{if(!(x||m||F)){if(!I.cachedModel)throw new Error("Model is not in cache");g(I.clone({state:nt.LOADING}));try{await $n.loadModel(I.cachedModel,{n_threads:f.nThreads>0?f.nThreads:void 0,n_ctx:f.nContext,n_batch:f.nBatch}),g(I.clone({state:nt.LOADED})),p({isMultithread:$n.isMultithread(),hasChatTemplate:!!$n.getChatTemplate()})}catch(Y){oh(),alert(`Failed to load model: ${Y.message??"Unknown error"}`),g(void 0)}}},Q=async()=>{m&&(await $n.exit(),oh(),g(void 0),p(void 0))},{callTool:j}=lF(),D=async(I,Y)=>{if(x||!m||F)return;r(!0),$o=!1;let se=await $n.createCompletion(I,{nPredict:f.nPredict,useCache:!0,sampling:{temp:f.temperature},onNewToken(ue,qe,Fe,xe){console.log(ue,qe),Y(Fe),$o&&xe.abortSignal()}});console.log("=== RAW LLM OUTPUT ===",se),se='<tool_call>{"name": "list_exchanges", "arguments": {}}</tool_call>',Y(se);const _e=se.match(/<tool_call>\s*([\s\S]*?)\s*<\/tool_call>/);if(_e)try{const ue=JSON.parse(_e[1]);console.log("Parsed tool call:",ue);const qe=await j(ue.name,ue.arguments);console.log("MCP tool response:",qe);const Fe=`<tool_response>${JSON.stringify(qe)}</tool_response>`;Y(Fe)}catch(ue){console.error("Error handling tool call:",ue)}$o=!1,r(!1)},A=()=>{$o=!0},U=(I,Y)=>{o(I),n(Y??-1),I===je.MODEL&&Ur.save("welcome",!1)},W=I=>{Ur.save("params",I),h(I)},O=async I=>{c(!0);try{const Y=await VF(I);if(S.some(_e=>_e.url===Y.url))throw new Error("Model with the same URL already exist");const se=Xc(i);sh([...se,new es(Y.url,Y.size,!0,void 0)]),await _()}catch(Y){throw c(!1),Y}c(!1)},q=async I=>{if(c(!0),I.isUserAdded){const se=Xc(i).filter(_e=>_e.url!==I.url);sh(se),await _()}else throw new Error("Cannot remove non-user-added model");c(!1)};return b.jsx(vy.Provider,{value:{models:S,isDownloading:x,isLoadingModel:F,downloadModel:P,removeCachedModel:L,removeAllCachedModels:z,loadedModel:m,loadModel:G,unloadModel:Q,currParams:f,setParams:W,createCompletion:D,stopCompletion:A,isGenerating:e,currentConvId:a,navigateTo:U,currScreen:s,getWllamaInstance:()=>$n,addCustomModel:O,removeCustomModel:q,currRuntimeInfo:d},children:t})},In=()=>ce.useContext(vy);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function ZF(t,e,r){return(e=JF(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ih(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function H(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ih(Object(r),!0).forEach(function(a){ZF(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ih(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function XF(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JF(t){var e=XF(t,"string");return typeof e=="symbol"?e:e+""}const lh=()=>{};let qf={},gy={},_y=null,yy={mark:lh,measure:lh};try{typeof window<"u"&&(qf=window),typeof document<"u"&&(gy=document),typeof MutationObserver<"u"&&(_y=MutationObserver),typeof performance<"u"&&(yy=performance)}catch{}const{userAgent:uh=""}=qf.navigator||{},Pn=qf,Ce=gy,ch=_y,Ho=yy;Pn.document;const Xr=!!Ce.documentElement&&!!Ce.head&&typeof Ce.addEventListener=="function"&&typeof Ce.createElement=="function",wy=~uh.indexOf("MSIE")||~uh.indexOf("Trident/");var e2=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,t2=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,Sy={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},r2={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},Ey=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Et="classic",Pl="duotone",n2="sharp",a2="sharp-duotone",by=[Et,Pl,n2,a2],s2={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},o2={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},i2=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),l2={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},u2=["fak","fa-kit","fakd","fa-kit-duotone"],dh={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},c2=["kit"],d2={kit:{"fa-kit":"fak"}},f2=["fak","fakd"],p2={kit:{fak:"fa-kit"}},fh={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Bo={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},m2=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],h2=["fak","fa-kit","fakd","fa-kit-duotone"],v2={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},g2={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},_2={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Jc={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},y2=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],ed=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...m2,...y2],w2=["solid","regular","light","thin","duotone","brands"],ky=[1,2,3,4,5,6,7,8,9,10],S2=ky.concat([11,12,13,14,15,16,17,18,19,20]),E2=[...Object.keys(_2),...w2,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Bo.GROUP,Bo.SWAP_OPACITY,Bo.PRIMARY,Bo.SECONDARY].concat(ky.map(t=>"".concat(t,"x"))).concat(S2.map(t=>"w-".concat(t))),b2={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const Qr="___FONT_AWESOME___",td=16,xy="fa",Fy="svg-inline--fa",sa="data-fa-i2svg",rd="data-fa-pseudo-element",k2="data-fa-pseudo-element-pending",Gf="data-prefix",Qf="data-icon",ph="fontawesome-i2svg",x2="async",F2=["HTML","HEAD","STYLE","SCRIPT"],Py=(()=>{try{return!0}catch{return!1}})();function ho(t){return new Proxy(t,{get(e,r){return r in e?e[r]:e[Et]}})}const My=H({},Sy);My[Et]=H(H(H(H({},{"fa-duotone":"duotone"}),Sy[Et]),dh.kit),dh["kit-duotone"]);const P2=ho(My),nd=H({},l2);nd[Et]=H(H(H(H({},{duotone:"fad"}),nd[Et]),fh.kit),fh["kit-duotone"]);const mh=ho(nd),ad=H({},Jc);ad[Et]=H(H({},ad[Et]),p2.kit);const Yf=ho(ad),sd=H({},g2);sd[Et]=H(H({},sd[Et]),d2.kit);ho(sd);const M2=e2,Ay="fa-layers-text",A2=t2,T2=H({},s2);ho(T2);const N2=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Su=r2,R2=[...c2,...E2],Is=Pn.FontAwesomeConfig||{};function C2(t){var e=Ce.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function I2(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Ce&&typeof Ce.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[r,a]=e;const n=I2(C2(r));n!=null&&(Is[a]=n)});const Ty={styleDefault:"solid",familyDefault:Et,cssPrefix:xy,replacementClass:Fy,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Is.familyPrefix&&(Is.cssPrefix=Is.familyPrefix);const Qa=H(H({},Ty),Is);Qa.autoReplaceSvg||(Qa.observeMutations=!1);const re={};Object.keys(Ty).forEach(t=>{Object.defineProperty(re,t,{enumerable:!0,set:function(e){Qa[t]=e,Os.forEach(r=>r(re))},get:function(){return Qa[t]}})});Object.defineProperty(re,"familyPrefix",{enumerable:!0,set:function(t){Qa.cssPrefix=t,Os.forEach(e=>e(re))},get:function(){return Qa.cssPrefix}});Pn.FontAwesomeConfig=re;const Os=[];function O2(t){return Os.push(t),()=>{Os.splice(Os.indexOf(t),1)}}const nn=td,Sr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function L2(t){if(!t||!Xr)return;const e=Ce.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const r=Ce.head.childNodes;let a=null;for(let n=r.length-1;n>-1;n--){const s=r[n],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(a=s)}return Ce.head.insertBefore(e,a),t}const D2="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function to(){let t=12,e="";for(;t-- >0;)e+=D2[Math.random()*62|0];return e}function ts(t){const e=[];for(let r=(t||[]).length>>>0;r--;)e[r]=t[r];return e}function Kf(t){return t.classList?ts(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function Ny(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function z2(t){return Object.keys(t||{}).reduce((e,r)=>e+"".concat(r,'="').concat(Ny(t[r]),'" '),"").trim()}function Ml(t){return Object.keys(t||{}).reduce((e,r)=>e+"".concat(r,": ").concat(t[r].trim(),";"),"")}function Zf(t){return t.size!==Sr.size||t.x!==Sr.x||t.y!==Sr.y||t.rotate!==Sr.rotate||t.flipX||t.flipY}function j2(t){let{transform:e,containerWidth:r,iconWidth:a}=t;const n={transform:"translate(".concat(r/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),i="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(i)},u={transform:"translate(".concat(a/2*-1," -256)")};return{outer:n,inner:l,path:u}}function U2(t){let{transform:e,width:r=td,height:a=td,startCentered:n=!1}=t,s="";return n&&wy?s+="translate(".concat(e.x/nn-r/2,"em, ").concat(e.y/nn-a/2,"em) "):n?s+="translate(calc(-50% + ".concat(e.x/nn,"em), calc(-50% + ").concat(e.y/nn,"em)) "):s+="translate(".concat(e.x/nn,"em, ").concat(e.y/nn,"em) "),s+="scale(".concat(e.size/nn*(e.flipX?-1:1),", ").concat(e.size/nn*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var $2=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function Ry(){const t=xy,e=Fy,r=re.cssPrefix,a=re.replacementClass;let n=$2;if(r!==t||a!==e){const s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),i=new RegExp("\\.".concat(e),"g");n=n.replace(s,".".concat(r,"-")).replace(o,"--".concat(r,"-")).replace(i,".".concat(a))}return n}let hh=!1;function Eu(){re.autoAddCss&&!hh&&(L2(Ry()),hh=!0)}var H2={mixout(){return{dom:{css:Ry,insertCss:Eu}}},hooks(){return{beforeDOMElementCreation(){Eu()},beforeI2svg(){Eu()}}}};const Yr=Pn||{};Yr[Qr]||(Yr[Qr]={});Yr[Qr].styles||(Yr[Qr].styles={});Yr[Qr].hooks||(Yr[Qr].hooks={});Yr[Qr].shims||(Yr[Qr].shims=[]);var Er=Yr[Qr];const Cy=[],Iy=function(){Ce.removeEventListener("DOMContentLoaded",Iy),Ki=1,Cy.map(t=>t())};let Ki=!1;Xr&&(Ki=(Ce.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ce.readyState),Ki||Ce.addEventListener("DOMContentLoaded",Iy));function B2(t){Xr&&(Ki?setTimeout(t,0):Cy.push(t))}function vo(t){const{tag:e,attributes:r={},children:a=[]}=t;return typeof t=="string"?Ny(t):"<".concat(e," ").concat(z2(r),">").concat(a.map(vo).join(""),"</").concat(e,">")}function vh(t,e,r){if(t&&t[e]&&t[e][r])return{prefix:e,iconName:r,icon:t[e][r]}}var bu=function(e,r,a,n){var s=Object.keys(e),o=s.length,i=r,l,u,c;for(a===void 0?(l=1,c=e[s[0]]):(l=0,c=a);l<o;l++)u=s[l],c=i(c,e[u],u,e);return c};function W2(t){const e=[];let r=0;const a=t.length;for(;r<a;){const n=t.charCodeAt(r++);if(n>=55296&&n<=56319&&r<a){const s=t.charCodeAt(r++);(s&64512)==56320?e.push(((n&1023)<<10)+(s&1023)+65536):(e.push(n),r--)}else e.push(n)}return e}function od(t){const e=W2(t);return e.length===1?e[0].toString(16):null}function V2(t,e){const r=t.length;let a=t.charCodeAt(e),n;return a>=55296&&a<=56319&&r>e+1&&(n=t.charCodeAt(e+1),n>=56320&&n<=57343)?(a-55296)*1024+n-56320+65536:a}function gh(t){return Object.keys(t).reduce((e,r)=>{const a=t[r];return!!a.icon?e[a.iconName]=a.icon:e[r]=a,e},{})}function id(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:a=!1}=r,n=gh(e);typeof Er.hooks.addPack=="function"&&!a?Er.hooks.addPack(t,gh(e)):Er.styles[t]=H(H({},Er.styles[t]||{}),n),t==="fas"&&id("fa",e)}const{styles:ro,shims:q2}=Er,Oy=Object.keys(Yf),G2=Oy.reduce((t,e)=>(t[e]=Object.keys(Yf[e]),t),{});let Xf=null,Ly={},Dy={},zy={},jy={},Uy={};function Q2(t){return~R2.indexOf(t)}function Y2(t,e){const r=e.split("-"),a=r[0],n=r.slice(1).join("-");return a===t&&n!==""&&!Q2(n)?n:null}const $y=()=>{const t=a=>bu(ro,(n,s,o)=>(n[o]=bu(s,a,{}),n),{});Ly=t((a,n,s)=>(n[3]&&(a[n[3]]=s),n[2]&&n[2].filter(i=>typeof i=="number").forEach(i=>{a[i.toString(16)]=s}),a)),Dy=t((a,n,s)=>(a[s]=s,n[2]&&n[2].filter(i=>typeof i=="string").forEach(i=>{a[i]=s}),a)),Uy=t((a,n,s)=>{const o=n[2];return a[s]=s,o.forEach(i=>{a[i]=s}),a});const e="far"in ro||re.autoFetchSvg,r=bu(q2,(a,n)=>{const s=n[0];let o=n[1];const i=n[2];return o==="far"&&!e&&(o="fas"),typeof s=="string"&&(a.names[s]={prefix:o,iconName:i}),typeof s=="number"&&(a.unicodes[s.toString(16)]={prefix:o,iconName:i}),a},{names:{},unicodes:{}});zy=r.names,jy=r.unicodes,Xf=Al(re.styleDefault,{family:re.familyDefault})};O2(t=>{Xf=Al(t.styleDefault,{family:re.familyDefault})});$y();function Jf(t,e){return(Ly[t]||{})[e]}function K2(t,e){return(Dy[t]||{})[e]}function Vn(t,e){return(Uy[t]||{})[e]}function Hy(t){return zy[t]||{prefix:null,iconName:null}}function Z2(t){const e=jy[t],r=Jf("fas",t);return e||(r?{prefix:"fas",iconName:r}:null)||{prefix:null,iconName:null}}function Mn(){return Xf}const By=()=>({prefix:null,iconName:null,rest:[]});function X2(t){let e=Et;const r=Oy.reduce((a,n)=>(a[n]="".concat(re.cssPrefix,"-").concat(n),a),{});return by.forEach(a=>{(t.includes(r[a])||t.some(n=>G2[a].includes(n)))&&(e=a)}),e}function Al(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:r=Et}=e,a=P2[r][t];if(r===Pl&&!t)return"fad";const n=mh[r][t]||mh[r][a],s=t in Er.styles?t:null;return n||s||null}function J2(t){let e=[],r=null;return t.forEach(a=>{const n=Y2(re.cssPrefix,a);n?r=n:a&&e.push(a)}),{iconName:r,rest:e}}function _h(t){return t.sort().filter((e,r,a)=>a.indexOf(e)===r)}function Tl(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:r=!1}=e;let a=null;const n=ed.concat(h2),s=_h(t.filter(d=>n.includes(d))),o=_h(t.filter(d=>!ed.includes(d))),i=s.filter(d=>(a=d,!Ey.includes(d))),[l=null]=i,u=X2(s),c=H(H({},J2(o)),{},{prefix:Al(l,{family:u})});return H(H(H({},c),nP({values:t,family:u,styles:ro,config:re,canonical:c,givenPrefix:a})),eP(r,a,c))}function eP(t,e,r){let{prefix:a,iconName:n}=r;if(t||!a||!n)return{prefix:a,iconName:n};const s=e==="fa"?Hy(n):{},o=Vn(a,n);return n=s.iconName||o||n,a=s.prefix||a,a==="far"&&!ro.far&&ro.fas&&!re.autoFetchSvg&&(a="fas"),{prefix:a,iconName:n}}const tP=by.filter(t=>t!==Et||t!==Pl),rP=Object.keys(Jc).filter(t=>t!==Et).map(t=>Object.keys(Jc[t])).flat();function nP(t){const{values:e,family:r,canonical:a,givenPrefix:n="",styles:s={},config:o={}}=t,i=r===Pl,l=e.includes("fa-duotone")||e.includes("fad"),u=o.familyDefault==="duotone",c=a.prefix==="fad"||a.prefix==="fa-duotone";if(!i&&(l||u||c)&&(a.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(a.prefix="fab"),!a.prefix&&tP.includes(r)&&(Object.keys(s).find(p=>rP.includes(p))||o.autoFetchSvg)){const p=i2.get(r).defaultShortPrefixId;a.prefix=p,a.iconName=Vn(a.prefix,a.iconName)||a.iconName}return(a.prefix==="fa"||n==="fa")&&(a.prefix=Mn()||"fas"),a}class aP{constructor(){this.definitions={}}add(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];const n=r.reduce(this._pullDefinitions,{});Object.keys(n).forEach(s=>{this.definitions[s]=H(H({},this.definitions[s]||{}),n[s]),id(s,n[s]);const o=Yf[Et][s];o&&id(o,n[s]),$y()})}reset(){this.definitions={}}_pullDefinitions(e,r){const a=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(a).map(n=>{const{prefix:s,iconName:o,icon:i}=a[n],l=i[2];e[s]||(e[s]={}),l.length>0&&l.forEach(u=>{typeof u=="string"&&(e[s][u]=i)}),e[s][o]=i}),e}}let yh=[],Aa={};const Da={},sP=Object.keys(Da);function oP(t,e){let{mixoutsTo:r}=e;return yh=t,Aa={},Object.keys(Da).forEach(a=>{sP.indexOf(a)===-1&&delete Da[a]}),yh.forEach(a=>{const n=a.mixout?a.mixout():{};if(Object.keys(n).forEach(s=>{typeof n[s]=="function"&&(r[s]=n[s]),typeof n[s]=="object"&&Object.keys(n[s]).forEach(o=>{r[s]||(r[s]={}),r[s][o]=n[s][o]})}),a.hooks){const s=a.hooks();Object.keys(s).forEach(o=>{Aa[o]||(Aa[o]=[]),Aa[o].push(s[o])})}a.provides&&a.provides(Da)}),r}function ld(t,e){for(var r=arguments.length,a=new Array(r>2?r-2:0),n=2;n<r;n++)a[n-2]=arguments[n];return(Aa[t]||[]).forEach(o=>{e=o.apply(null,[e,...a])}),e}function oa(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];(Aa[t]||[]).forEach(s=>{s.apply(null,r)})}function An(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Da[t]?Da[t].apply(null,e):void 0}function ud(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const r=t.prefix||Mn();if(e)return e=Vn(r,e)||e,vh(Wy.definitions,r,e)||vh(Er.styles,r,e)}const Wy=new aP,iP=()=>{re.autoReplaceSvg=!1,re.observeMutations=!1,oa("noAuto")},lP={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Xr?(oa("beforeI2svg",t),An("pseudoElements2svg",t),An("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;re.autoReplaceSvg===!1&&(re.autoReplaceSvg=!0),re.observeMutations=!0,B2(()=>{cP({autoReplaceSvgRoot:e}),oa("watch",t)})}},uP={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Vn(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],r=Al(t[0]);return{prefix:r,iconName:Vn(r,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(re.cssPrefix,"-"))>-1||t.match(M2))){const e=Tl(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||Mn(),iconName:Vn(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=Mn();return{prefix:e,iconName:Vn(e,t)||t}}}},Wt={noAuto:iP,config:re,dom:lP,parse:uP,library:Wy,findIconDefinition:ud,toHtml:vo},cP=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Ce}=t;(Object.keys(Er.styles).length>0||re.autoFetchSvg)&&Xr&&re.autoReplaceSvg&&Wt.dom.i2svg({node:e})};function Nl(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(r=>vo(r))}}),Object.defineProperty(t,"node",{get:function(){if(!Xr)return;const r=Ce.createElement("div");return r.innerHTML=t.html,r.children}}),t}function dP(t){let{children:e,main:r,mask:a,attributes:n,styles:s,transform:o}=t;if(Zf(o)&&r.found&&!a.found){const{width:i,height:l}=r,u={x:i/l/2,y:.5};n.style=Ml(H(H({},s),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:n,children:e}]}function fP(t){let{prefix:e,iconName:r,children:a,attributes:n,symbol:s}=t;const o=s===!0?"".concat(e,"-").concat(re.cssPrefix,"-").concat(r):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:H(H({},n),{},{id:o}),children:a}]}]}function ep(t){const{icons:{main:e,mask:r},prefix:a,iconName:n,transform:s,symbol:o,title:i,maskId:l,titleId:u,extra:c,watchable:d=!1}=t,{width:p,height:f}=r.found?r:e,h=f2.includes(a),v=[re.replacementClass,n?"".concat(re.cssPrefix,"-").concat(n):""].filter(x=>c.classes.indexOf(x)===-1).filter(x=>x!==""||!!x).concat(c.classes).join(" ");let y={children:[],attributes:H(H({},c.attributes),{},{"data-prefix":a,"data-icon":n,class:v,role:c.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(f)})};const m=h&&!~c.classes.indexOf("fa-fw")?{width:"".concat(p/f*16*.0625,"em")}:{};d&&(y.attributes[sa]=""),i&&(y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-".concat(u||to())},children:[i]}),delete y.attributes.title);const g=H(H({},y),{},{prefix:a,iconName:n,main:e,mask:r,maskId:l,transform:s,symbol:o,styles:H(H({},m),c.styles)}),{children:_,attributes:S}=r.found&&e.found?An("generateAbstractMask",g)||{children:[],attributes:{}}:An("generateAbstractIcon",g)||{children:[],attributes:{}};return g.children=_,g.attributes=S,o?fP(g):dP(g)}function wh(t){const{content:e,width:r,height:a,transform:n,title:s,extra:o,watchable:i=!1}=t,l=H(H(H({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});i&&(l[sa]="");const u=H({},o.styles);Zf(n)&&(u.transform=U2({transform:n,startCentered:!0,width:r,height:a}),u["-webkit-transform"]=u.transform);const c=Ml(u);c.length>0&&(l.style=c);const d=[];return d.push({tag:"span",attributes:l,children:[e]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}function pP(t){const{content:e,title:r,extra:a}=t,n=H(H(H({},a.attributes),r?{title:r}:{}),{},{class:a.classes.join(" ")}),s=Ml(a.styles);s.length>0&&(n.style=s);const o=[];return o.push({tag:"span",attributes:n,children:[e]}),r&&o.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),o}const{styles:ku}=Er;function cd(t){const e=t[0],r=t[1],[a]=t.slice(4);let n=null;return Array.isArray(a)?n={tag:"g",attributes:{class:"".concat(re.cssPrefix,"-").concat(Su.GROUP)},children:[{tag:"path",attributes:{class:"".concat(re.cssPrefix,"-").concat(Su.SECONDARY),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(re.cssPrefix,"-").concat(Su.PRIMARY),fill:"currentColor",d:a[1]}}]}:n={tag:"path",attributes:{fill:"currentColor",d:a}},{found:!0,width:e,height:r,icon:n}}const mP={found:!1,width:512,height:512};function hP(t,e){!Py&&!re.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function dd(t,e){let r=e;return e==="fa"&&re.styleDefault!==null&&(e=Mn()),new Promise((a,n)=>{if(r==="fa"){const s=Hy(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&ku[e]&&ku[e][t]){const s=ku[e][t];return a(cd(s))}hP(t,e),a(H(H({},mP),{},{icon:re.showMissingIcons&&t?An("missingIconAbstract")||{}:{}}))})}const Sh=()=>{},fd=re.measurePerformance&&Ho&&Ho.mark&&Ho.measure?Ho:{mark:Sh,measure:Sh},bs='FA "6.7.2"',vP=t=>(fd.mark("".concat(bs," ").concat(t," begins")),()=>Vy(t)),Vy=t=>{fd.mark("".concat(bs," ").concat(t," ends")),fd.measure("".concat(bs," ").concat(t),"".concat(bs," ").concat(t," begins"),"".concat(bs," ").concat(t," ends"))};var tp={begin:vP,end:Vy};const ai=()=>{};function Eh(t){return typeof(t.getAttribute?t.getAttribute(sa):null)=="string"}function gP(t){const e=t.getAttribute?t.getAttribute(Gf):null,r=t.getAttribute?t.getAttribute(Qf):null;return e&&r}function _P(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(re.replacementClass)}function yP(){return re.autoReplaceSvg===!0?si.replace:si[re.autoReplaceSvg]||si.replace}function wP(t){return Ce.createElementNS("http://www.w3.org/2000/svg",t)}function SP(t){return Ce.createElement(t)}function qy(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:r=t.tag==="svg"?wP:SP}=e;if(typeof t=="string")return Ce.createTextNode(t);const a=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){a.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){a.appendChild(qy(s,{ceFn:r}))}),a}function EP(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const si={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(r=>{e.parentNode.insertBefore(qy(r),e)}),e.getAttribute(sa)===null&&re.keepOriginalSource){let r=Ce.createComment(EP(e));e.parentNode.replaceChild(r,e)}else e.remove()},nest:function(t){const e=t[0],r=t[1];if(~Kf(e).indexOf(re.replacementClass))return si.replace(t);const a=new RegExp("".concat(re.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){const s=r[0].attributes.class.split(" ").reduce((o,i)=>(i===re.replacementClass||i.match(a)?o.toSvg.push(i):o.toNode.push(i),o),{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}const n=r.map(s=>vo(s)).join(`
`);e.setAttribute(sa,""),e.innerHTML=n}};function bh(t){t()}function Gy(t,e){const r=typeof e=="function"?e:ai;if(t.length===0)r();else{let a=bh;re.mutateApproach===x2&&(a=Pn.requestAnimationFrame||bh),a(()=>{const n=yP(),s=tp.begin("mutate");t.map(n),s(),r()})}}let rp=!1;function Qy(){rp=!0}function pd(){rp=!1}let Zi=null;function kh(t){if(!ch||!re.observeMutations)return;const{treeCallback:e=ai,nodeCallback:r=ai,pseudoElementsCallback:a=ai,observeMutationsRoot:n=Ce}=t;Zi=new ch(s=>{if(rp)return;const o=Mn();ts(s).forEach(i=>{if(i.type==="childList"&&i.addedNodes.length>0&&!Eh(i.addedNodes[0])&&(re.searchPseudoElements&&a(i.target),e(i.target)),i.type==="attributes"&&i.target.parentNode&&re.searchPseudoElements&&a(i.target.parentNode),i.type==="attributes"&&Eh(i.target)&&~N2.indexOf(i.attributeName))if(i.attributeName==="class"&&gP(i.target)){const{prefix:l,iconName:u}=Tl(Kf(i.target));i.target.setAttribute(Gf,l||o),u&&i.target.setAttribute(Qf,u)}else _P(i.target)&&r(i.target)})}),Xr&&Zi.observe(n,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function bP(){Zi&&Zi.disconnect()}function kP(t){const e=t.getAttribute("style");let r=[];return e&&(r=e.split(";").reduce((a,n)=>{const s=n.split(":"),o=s[0],i=s.slice(1);return o&&i.length>0&&(a[o]=i.join(":").trim()),a},{})),r}function xP(t){const e=t.getAttribute("data-prefix"),r=t.getAttribute("data-icon"),a=t.innerText!==void 0?t.innerText.trim():"";let n=Tl(Kf(t));return n.prefix||(n.prefix=Mn()),e&&r&&(n.prefix=e,n.iconName=r),n.iconName&&n.prefix||(n.prefix&&a.length>0&&(n.iconName=K2(n.prefix,t.innerText)||Jf(n.prefix,od(t.innerText))),!n.iconName&&re.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(n.iconName=t.firstChild.data)),n}function FP(t){const e=ts(t.attributes).reduce((n,s)=>(n.name!=="class"&&n.name!=="style"&&(n[s.name]=s.value),n),{}),r=t.getAttribute("title"),a=t.getAttribute("data-fa-title-id");return re.autoA11y&&(r?e["aria-labelledby"]="".concat(re.replacementClass,"-title-").concat(a||to()):(e["aria-hidden"]="true",e.focusable="false")),e}function PP(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Sr,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function xh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:r,prefix:a,rest:n}=xP(t),s=FP(t),o=ld("parseNodeAttributes",{},t);let i=e.styleParser?kP(t):[];return H({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:a,transform:Sr,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:n,styles:i,attributes:s}},o)}const{styles:MP}=Er;function Yy(t){const e=re.autoReplaceSvg==="nest"?xh(t,{styleParser:!1}):xh(t);return~e.extra.classes.indexOf(Ay)?An("generateLayersText",t,e):An("generateSvgReplacementMutation",t,e)}function AP(){return[...u2,...ed]}function Fh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Xr)return Promise.resolve();const r=Ce.documentElement.classList,a=c=>r.add("".concat(ph,"-").concat(c)),n=c=>r.remove("".concat(ph,"-").concat(c)),s=re.autoFetchSvg?AP():Ey.concat(Object.keys(MP));s.includes("fa")||s.push("fa");const o=[".".concat(Ay,":not([").concat(sa,"])")].concat(s.map(c=>".".concat(c,":not([").concat(sa,"])"))).join(", ");if(o.length===0)return Promise.resolve();let i=[];try{i=ts(t.querySelectorAll(o))}catch{}if(i.length>0)a("pending"),n("complete");else return Promise.resolve();const l=tp.begin("onTree"),u=i.reduce((c,d)=>{try{const p=Yy(d);p&&c.push(p)}catch(p){Py||p.name==="MissingIcon"&&console.error(p)}return c},[]);return new Promise((c,d)=>{Promise.all(u).then(p=>{Gy(p,()=>{a("active"),a("complete"),n("pending"),typeof e=="function"&&e(),l(),c()})}).catch(p=>{l(),d(p)})})}function TP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Yy(t).then(r=>{r&&Gy([r],e)})}function NP(t){return function(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=(e||{}).icon?e:ud(e||{});let{mask:n}=r;return n&&(n=(n||{}).icon?n:ud(n||{})),t(a,H(H({},r),{},{mask:n}))}}const RP=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:r=Sr,symbol:a=!1,mask:n=null,maskId:s=null,title:o=null,titleId:i=null,classes:l=[],attributes:u={},styles:c={}}=e;if(!t)return;const{prefix:d,iconName:p,icon:f}=t;return Nl(H({type:"icon"},t),()=>(oa("beforeDOMElementCreation",{iconDefinition:t,params:e}),re.autoA11y&&(o?u["aria-labelledby"]="".concat(re.replacementClass,"-title-").concat(i||to()):(u["aria-hidden"]="true",u.focusable="false")),ep({icons:{main:cd(f),mask:n?cd(n.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:p,transform:H(H({},Sr),r),symbol:a,title:o,maskId:s,titleId:i,extra:{attributes:u,styles:c,classes:l}})))};var CP={mixout(){return{icon:NP(RP)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=Fh,t.nodeCallback=TP,t}}},provides(t){t.i2svg=function(e){const{node:r=Ce,callback:a=()=>{}}=e;return Fh(r,a)},t.generateSvgReplacementMutation=function(e,r){const{iconName:a,title:n,titleId:s,prefix:o,transform:i,symbol:l,mask:u,maskId:c,extra:d}=r;return new Promise((p,f)=>{Promise.all([dd(a,o),u.iconName?dd(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(h=>{let[v,y]=h;p([e,ep({icons:{main:v,mask:y},prefix:o,iconName:a,transform:i,symbol:l,maskId:c,title:n,titleId:s,extra:d,watchable:!0})])}).catch(f)})},t.generateAbstractIcon=function(e){let{children:r,attributes:a,main:n,transform:s,styles:o}=e;const i=Ml(o);i.length>0&&(a.style=i);let l;return Zf(s)&&(l=An("generateAbstractTransformGrouping",{main:n,transform:s,containerWidth:n.width,iconWidth:n.width})),r.push(l||n.icon),{children:r,attributes:a}}}},IP={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:r=[]}=e;return Nl({type:"layer"},()=>{oa("beforeDOMElementCreation",{assembler:t,params:e});let a=[];return t(n=>{Array.isArray(n)?n.map(s=>{a=a.concat(s.abstract)}):a=a.concat(n.abstract)}),[{tag:"span",attributes:{class:["".concat(re.cssPrefix,"-layers"),...r].join(" ")},children:a}]})}}}},OP={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:r=null,classes:a=[],attributes:n={},styles:s={}}=e;return Nl({type:"counter",content:t},()=>(oa("beforeDOMElementCreation",{content:t,params:e}),pP({content:t.toString(),title:r,extra:{attributes:n,styles:s,classes:["".concat(re.cssPrefix,"-layers-counter"),...a]}})))}}}},LP={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:r=Sr,title:a=null,classes:n=[],attributes:s={},styles:o={}}=e;return Nl({type:"text",content:t},()=>(oa("beforeDOMElementCreation",{content:t,params:e}),wh({content:t,transform:H(H({},Sr),r),title:a,extra:{attributes:s,styles:o,classes:["".concat(re.cssPrefix,"-layers-text"),...n]}})))}}},provides(t){t.generateLayersText=function(e,r){const{title:a,transform:n,extra:s}=r;let o=null,i=null;if(wy){const l=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();o=u.width/l,i=u.height/l}return re.autoA11y&&!a&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,wh({content:e.innerHTML,width:o,height:i,transform:n,title:a,extra:s,watchable:!0})])}}};const DP=new RegExp('"',"ug"),Ph=[1105920,1112319],Mh=H(H(H(H({},{FontAwesome:{normal:"fas",400:"fas"}}),o2),b2),v2),md=Object.keys(Mh).reduce((t,e)=>(t[e.toLowerCase()]=Mh[e],t),{}),zP=Object.keys(md).reduce((t,e)=>{const r=md[e];return t[e]=r[900]||[...Object.entries(r)][0][1],t},{});function jP(t){const e=t.replace(DP,""),r=V2(e,0),a=r>=Ph[0]&&r<=Ph[1],n=e.length===2?e[0]===e[1]:!1;return{value:od(n?e[0]:e),isSecondary:a||n}}function UP(t,e){const r=t.replace(/^['"]|['"]$/g,"").toLowerCase(),a=parseInt(e),n=isNaN(a)?"normal":a;return(md[r]||{})[n]||zP[r]}function Ah(t,e){const r="".concat(k2).concat(e.replace(":","-"));return new Promise((a,n)=>{if(t.getAttribute(r)!==null)return a();const o=ts(t.children).filter(p=>p.getAttribute(rd)===e)[0],i=Pn.getComputedStyle(t,e),l=i.getPropertyValue("font-family"),u=l.match(A2),c=i.getPropertyValue("font-weight"),d=i.getPropertyValue("content");if(o&&!u)return t.removeChild(o),a();if(u&&d!=="none"&&d!==""){const p=i.getPropertyValue("content");let f=UP(l,c);const{value:h,isSecondary:v}=jP(p),y=u[0].startsWith("FontAwesome");let m=Jf(f,h),g=m;if(y){const _=Z2(h);_.iconName&&_.prefix&&(m=_.iconName,f=_.prefix)}if(m&&!v&&(!o||o.getAttribute(Gf)!==f||o.getAttribute(Qf)!==g)){t.setAttribute(r,g),o&&t.removeChild(o);const _=PP(),{extra:S}=_;S.attributes[rd]=e,dd(m,f).then(x=>{const F=ep(H(H({},_),{},{icons:{main:x,mask:By()},prefix:f,iconName:g,extra:S,watchable:!0})),M=Ce.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(M,t.firstChild):t.appendChild(M),M.outerHTML=F.map(P=>vo(P)).join(`
`),t.removeAttribute(r),a()}).catch(n)}else a()}else a()})}function $P(t){return Promise.all([Ah(t,"::before"),Ah(t,"::after")])}function HP(t){return t.parentNode!==document.head&&!~F2.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(rd)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function Th(t){if(Xr)return new Promise((e,r)=>{const a=ts(t.querySelectorAll("*")).filter(HP).map($P),n=tp.begin("searchPseudoElements");Qy(),Promise.all(a).then(()=>{n(),pd(),e()}).catch(()=>{n(),pd(),r()})})}var BP={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=Th,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:r=Ce}=e;re.searchPseudoElements&&Th(r)}}};let Nh=!1;var WP={mixout(){return{dom:{unwatch(){Qy(),Nh=!0}}}},hooks(){return{bootstrap(){kh(ld("mutationObserverCallbacks",{}))},noAuto(){bP()},watch(t){const{observeMutationsRoot:e}=t;Nh?pd():kh(ld("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const Rh=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((r,a)=>{const n=a.toLowerCase().split("-"),s=n[0];let o=n.slice(1).join("-");if(s&&o==="h")return r.flipX=!0,r;if(s&&o==="v")return r.flipY=!0,r;if(o=parseFloat(o),isNaN(o))return r;switch(s){case"grow":r.size=r.size+o;break;case"shrink":r.size=r.size-o;break;case"left":r.x=r.x-o;break;case"right":r.x=r.x+o;break;case"up":r.y=r.y-o;break;case"down":r.y=r.y+o;break;case"rotate":r.rotate=r.rotate+o;break}return r},e)};var VP={mixout(){return{parse:{transform:t=>Rh(t)}}},hooks(){return{parseNodeAttributes(t,e){const r=e.getAttribute("data-fa-transform");return r&&(t.transform=Rh(r)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:r,transform:a,containerWidth:n,iconWidth:s}=e;const o={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(a.x*32,", ").concat(a.y*32,") "),l="scale(".concat(a.size/16*(a.flipX?-1:1),", ").concat(a.size/16*(a.flipY?-1:1),") "),u="rotate(".concat(a.rotate," 0 0)"),c={transform:"".concat(i," ").concat(l," ").concat(u)},d={transform:"translate(".concat(s/2*-1," -256)")},p={outer:o,inner:c,path:d};return{tag:"g",attributes:H({},p.outer),children:[{tag:"g",attributes:H({},p.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:H(H({},r.icon.attributes),p.path)}]}]}}}};const xu={x:0,y:0,width:"100%",height:"100%"};function Ch(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function qP(t){return t.tag==="g"?t.children:[t]}var GP={hooks(){return{parseNodeAttributes(t,e){const r=e.getAttribute("data-fa-mask"),a=r?Tl(r.split(" ").map(n=>n.trim())):By();return a.prefix||(a.prefix=Mn()),t.mask=a,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:r,attributes:a,main:n,mask:s,maskId:o,transform:i}=e;const{width:l,icon:u}=n,{width:c,icon:d}=s,p=j2({transform:i,containerWidth:c,iconWidth:l}),f={tag:"rect",attributes:H(H({},xu),{},{fill:"white"})},h=u.children?{children:u.children.map(Ch)}:{},v={tag:"g",attributes:H({},p.inner),children:[Ch(H({tag:u.tag,attributes:H(H({},u.attributes),p.path)},h))]},y={tag:"g",attributes:H({},p.outer),children:[v]},m="mask-".concat(o||to()),g="clip-".concat(o||to()),_={tag:"mask",attributes:H(H({},xu),{},{id:m,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,y]},S={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:qP(d)},_]};return r.push(S,{tag:"rect",attributes:H({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(m,")")},xu)}),{children:r,attributes:a}}}},QP={provides(t){let e=!1;Pn.matchMedia&&(e=Pn.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const r=[],a={fill:"currentColor"},n={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:H(H({},a),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const s=H(H({},n),{},{attributeName:"opacity"}),o={tag:"circle",attributes:H(H({},a),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:H(H({},n),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:H(H({},s),{},{values:"1;0;1;1;0;1;"})}),r.push(o),r.push({tag:"path",attributes:H(H({},a),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:H(H({},s),{},{values:"1;0;0;0;0;1;"})}]}),e||r.push({tag:"path",attributes:H(H({},a),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:H(H({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},YP={hooks(){return{parseNodeAttributes(t,e){const r=e.getAttribute("data-fa-symbol"),a=r===null?!1:r===""?!0:r;return t.symbol=a,t}}}},KP=[H2,CP,IP,OP,LP,BP,WP,VP,GP,QP,YP];oP(KP,{mixoutsTo:Wt});Wt.noAuto;Wt.config;Wt.library;Wt.dom;const hd=Wt.parse;Wt.findIconDefinition;Wt.toHtml;const ZP=Wt.icon;Wt.layer;Wt.text;Wt.counter;var Ky={exports:{}},XP="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",JP=XP,eM=JP;function Zy(){}function Xy(){}Xy.resetWarningCache=Zy;var tM=function(){function t(a,n,s,o,i,l){if(l!==eM){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Xy,resetWarningCache:Zy};return r.PropTypes=r,r};Ky.exports=tM();var rM=Ky.exports;const me=wd(rM);var nM={};function vd(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,a=Array(e);r<e;r++)a[r]=t[r];return a}function aM(t){if(Array.isArray(t))return t}function sM(t){if(Array.isArray(t))return vd(t)}function ln(t,e,r){return(e=pM(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oM(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iM(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a,n,s,o,i=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(a=s.call(r)).done)&&(i.push(a.value),i.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw n}}return i}}function lM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ih(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function _r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ih(Object(r),!0).forEach(function(a){ln(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ih(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function cM(t,e){if(t==null)return{};var r,a,n=dM(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)r=s[a],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dM(t,e){if(t==null)return{};var r={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(e.indexOf(a)!==-1)continue;r[a]=t[a]}return r}function Oh(t,e){return aM(t)||iM(t,e)||Jy(t,e)||lM()}function gd(t){return sM(t)||oM(t)||Jy(t)||uM()}function fM(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pM(t){var e=fM(t,"string");return typeof e=="symbol"?e:e+""}function Xi(t){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xi(t)}function Jy(t,e){if(t){if(typeof t=="string")return vd(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vd(t,e):void 0}}var mM="7.0.0",_d;try{var hM=require("@fortawesome/fontawesome-svg-core/package.json");_d=hM.version}catch{_d=typeof process<"u"&&nM.FA_VERSION||"7.0.0"}function vM(t){var e=t.beat,r=t.fade,a=t.beatFade,n=t.bounce,s=t.shake,o=t.flash,i=t.spin,l=t.spinPulse,u=t.spinReverse,c=t.pulse,d=t.fixedWidth,p=t.inverse,f=t.border,h=t.listItem,v=t.flip,y=t.size,m=t.rotation,g=t.pull,_=t.swapOpacity,S=t.rotateBy,x=t.widthAuto,F=gM(_d,mM),M=ln(ln(ln(ln(ln(ln({"fa-beat":e,"fa-fade":r,"fa-beat-fade":a,"fa-bounce":n,"fa-shake":s,"fa-flash":o,"fa-spin":i,"fa-spin-reverse":u,"fa-spin-pulse":l,"fa-pulse":c,"fa-fw":d,"fa-inverse":p,"fa-border":f,"fa-li":h,"fa-flip":v===!0,"fa-flip-horizontal":v==="horizontal"||v==="both","fa-flip-vertical":v==="vertical"||v==="both"},"fa-".concat(y),typeof y<"u"&&y!==null),"fa-rotate-".concat(m),typeof m<"u"&&m!==null&&m!==0),"fa-pull-".concat(g),typeof g<"u"&&g!==null),"fa-swap-opacity",_),"fa-rotate-by",F&&S),"fa-width-auto",F&&x);return Object.keys(M).map(function(P){return M[P]?P:null}).filter(function(P){return P})}function gM(t,e){for(var r=t.split("-"),a=Oh(r,2),n=a[0],s=a[1],o=e.split("-"),i=Oh(o,2),l=i[0],u=i[1],c=n.split("."),d=l.split("."),p=0;p<Math.max(c.length,d.length);p++){var f=c[p]||"0",h=d[p]||"0",v=parseInt(f,10),y=parseInt(h,10);if(v!==y)return v>y}for(var m=0;m<Math.max(c.length,d.length);m++){var g=c[m]||"0",_=d[m]||"0";if(g!==_&&g.length!==_.length)return g.length<_.length}return!(s&&!u)}function _M(t){return t=t-0,t===t}function ew(t){return _M(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,r){return r?r.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var yM=["style"];function wM(t){return t.charAt(0).toUpperCase()+t.slice(1)}function SM(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,r){var a=r.indexOf(":"),n=ew(r.slice(0,a)),s=r.slice(a+1).trim();return n.startsWith("webkit")?e[wM(n)]=s:e[n]=s,e},{})}function tw(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var a=(e.children||[]).map(function(l){return tw(t,l)}),n=Object.keys(e.attributes||{}).reduce(function(l,u){var c=e.attributes[u];switch(u){case"class":l.attrs.className=c,delete e.attributes.class;break;case"style":l.attrs.style=SM(c);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?l.attrs[u.toLowerCase()]=c:l.attrs[ew(u)]=c}return l},{attrs:{}}),s=r.style,o=s===void 0?{}:s,i=cM(r,yM);return n.attrs.style=_r(_r({},n.attrs.style),o),t.apply(void 0,[e.tag,_r(_r({},n.attrs),i)].concat(gd(a)))}var rw=!1;try{rw=!0}catch{}function EM(){if(!rw&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function Lh(t){if(t&&Xi(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(hd.icon)return hd.icon(t);if(t===null)return null;if(t&&Xi(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function Fu(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?ln({},t,e):{}}var Dh={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,rotateBy:!1,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1,widthAuto:!1},zt=el.forwardRef(function(t,e){var r=_r(_r({},Dh),t),a=r.icon,n=r.mask,s=r.symbol,o=r.className,i=r.title,l=r.titleId,u=r.maskId,c=Lh(a),d=Fu("classes",[].concat(gd(vM(r)),gd((o||"").split(" ")))),p=Fu("transform",typeof r.transform=="string"?hd.transform(r.transform):r.transform),f=Fu("mask",Lh(n)),h=ZP(c,_r(_r(_r(_r({},d),p),f),{},{symbol:s,title:i,titleId:l,maskId:u}));if(!h)return EM("Could not find icon",c),null;var v=h.abstract,y={ref:e};return Object.keys(r).forEach(function(m){Dh.hasOwnProperty(m)||(y[m]=r[m])}),bM(v[0],y)});zt.displayName="FontAwesomeIcon";zt.propTypes={beat:me.bool,border:me.bool,beatFade:me.bool,bounce:me.bool,className:me.string,fade:me.bool,flash:me.bool,mask:me.oneOfType([me.object,me.array,me.string]),maskId:me.string,fixedWidth:me.bool,inverse:me.bool,flip:me.oneOf([!0,!1,"horizontal","vertical","both"]),icon:me.oneOfType([me.object,me.array,me.string]),listItem:me.bool,pull:me.oneOf(["right","left"]),pulse:me.bool,rotation:me.oneOf([0,90,180,270]),rotateBy:me.bool,shake:me.bool,size:me.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:me.bool,spinPulse:me.bool,spinReverse:me.bool,symbol:me.oneOfType([me.bool,me.string]),title:me.string,titleId:me.string,transform:me.oneOfType([me.string,me.object]),swapOpacity:me.bool,widthAuto:me.bool};var bM=tw.bind(null,el.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const kM={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"]},nw=kM,xM={prefix:"fas",iconName:"arrow-up-right-from-square",icon:[512,512,["external-link"],"f08e","M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l82.7 0L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3l0 82.7c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160c0-17.7-14.3-32-32-32L320 0zM80 32C35.8 32 0 67.8 0 112L0 432c0 44.2 35.8 80 80 80l320 0c44.2 0 80-35.8 80-80l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 112c0 8.8-7.2 16-16 16L80 448c-8.8 0-16-7.2-16-16l0-320c0-8.8 7.2-16 16-16l112 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 32z"]},FM={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},PM=FM,MM={prefix:"fas",iconName:"stop",icon:[384,512,[9209],"f04d","M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128z"]},AM={prefix:"fas",iconName:"bug",icon:[512,512,[],"f188","M256 0c53 0 96 43 96 96l0 3.6c0 15.7-12.7 28.4-28.4 28.4l-135.1 0c-15.7 0-28.4-12.7-28.4-28.4l0-3.6c0-53 43-96 96-96zM41.4 105.4c12.5-12.5 32.8-12.5 45.3 0l64 64c.7 .7 1.3 1.4 1.9 2.1c14.2-7.3 30.4-11.4 47.5-11.4l112 0c17.1 0 33.2 4.1 47.5 11.4c.6-.7 1.2-1.4 1.9-2.1l64-64c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3l-64 64c-.7 .7-1.4 1.3-2.1 1.9c6.2 12 10.1 25.3 11.1 39.5l64.3 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c0 24.6-5.5 47.8-15.4 68.6c2.2 1.3 4.2 2.9 6 4.8l64 64c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0l-63.1-63.1c-24.5 21.8-55.8 36.2-90.3 39.6L272 240c0-8.8-7.2-16-16-16s-16 7.2-16 16l0 239.2c-34.5-3.4-65.8-17.8-90.3-39.6L86.6 502.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l64-64c1.9-1.9 3.9-3.4 6-4.8C101.5 367.8 96 344.6 96 320l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64.3 0c1.1-14.1 5-27.5 11.1-39.5c-.7-.6-1.4-1.2-2.1-1.9l-64-64c-12.5-12.5-12.5-32.8 0-45.3z"]},aw={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},TM={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},NM={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},RM=NM,CM={prefix:"fas",iconName:"brain",icon:[512,512,[129504],"f5dc","M184 0c30.9 0 56 25.1 56 56l0 400c0 30.9-25.1 56-56 56c-28.9 0-52.7-21.9-55.7-50.1c-5.2 1.4-10.7 2.1-16.3 2.1c-35.3 0-64-28.7-64-64c0-7.4 1.3-14.6 3.6-21.2C21.4 367.4 0 338.2 0 304c0-31.9 18.7-59.5 45.8-72.3C37.1 220.8 32 207 32 192c0-30.7 21.6-56.3 50.4-62.6C80.8 123.9 80 118 80 112c0-29.9 20.6-55.1 48.3-62.1C131.3 21.9 155.1 0 184 0zM328 0c28.9 0 52.6 21.9 55.7 49.9c27.8 7 48.3 32.1 48.3 62.1c0 6-.8 11.9-2.4 17.4c28.8 6.2 50.4 31.9 50.4 62.6c0 15-5.1 28.8-13.8 39.7C493.3 244.5 512 272.1 512 304c0 34.2-21.4 63.4-51.6 74.8c2.3 6.6 3.6 13.8 3.6 21.2c0 35.3-28.7 64-64 64c-5.6 0-11.1-.7-16.3-2.1c-3 28.2-26.8 50.1-55.7 50.1c-30.9 0-56-25.1-56-56l0-400c0-30.9 25.1-56 56-56z"]};function yd(t){return t.split(`
`).map((e,r)=>b.jsxs(el.Fragment,{children:[e,b.jsx("br",{})]},r))}function Rl({children:t,fitScreen:e}){return b.jsx("div",{className:"overflow-y-auto h-full w-full",children:b.jsx("div",{className:`w-[40rem] max-w-full ${e?"h-full":"h-auto overflow-hidden"} px-4 flex flex-col mx-auto`,children:t})})}const IM=()=>{};function OM(t,e=0,r=!0,a=!1){const n=ce.useRef();ce.useEffect(()=>{n.current=t}),ce.useEffect(()=>{if(r){let s=function(){var i;(i=n.current)==null||i.call(n)};a&&s();const o=window.setInterval(s,e);return()=>{window.clearInterval(o)}}return IM},[r,e,a])}function LM(){const[t,e]=ce.useState(""),{currentConvId:r,isGenerating:a,createCompletion:n,navigateTo:s,loadedModel:o,getWllamaInstance:i,stopCompletion:l}=In(),{getConversationById:u,addMessageToConversation:c,editMessageInConversation:d,newConversation:p}=r_();OM(zM,500,a,!0);const f=u(r),h=async()=>{if(a)return;const v=(f==null?void 0:f.messages)??[],y=t;e("");const m={id:Date.now(),content:y,role:"user"},g={id:Date.now()+1,content:"",role:"assistant"};let _=f==null?void 0:f.id;if(_?(c(_,m),c(_,g)):(_=p(m).id,s(je.CHAT,_),c(_,g)),!o)throw new Error("loadedModel is null");let S;try{S=await PE(i(),[...v,m])}catch(x){throw alert(`Error while formatting chat: ${(x==null?void 0:x.message)??"unknown"}`),x}console.log({formattedChat:S}),await n(S,x=>{d(_,g.id,x)})};return b.jsxs(Rl,{fitScreen:!0,children:[b.jsxs("div",{className:"chat-messages grow overflow-auto",id:"chat-history",children:[b.jsx("div",{className:"h-10"}),f?b.jsx(b.Fragment,{children:f.messages.map(v=>v.role==="user"?b.jsx("div",{className:"chat chat-end",children:b.jsx("div",{className:"chat-bubble",children:yd(v.content)})},v.id):b.jsx("div",{className:"chat chat-start",children:b.jsxs("div",{className:"chat-bubble bg-base-100 text-base-content",children:[v.content.length===0&&a&&b.jsx("span",{className:"loading loading-dots"}),yd(v.content)]})},v.id))}):b.jsx("div",{className:"pt-24 text-center text-xl",children:"Ask me something 👋"})]}),b.jsxs("div",{className:"flex flex-col input-message py-4",children:[a&&b.jsx("div",{className:"text-center",children:b.jsxs("button",{className:"btn btn-outline btn-sm mb-4",onClick:l,children:[b.jsx(zt,{icon:MM}),"Stop generation"]})}),o&&b.jsx("textarea",{className:"textarea textarea-bordered w-full",placeholder:"Your message...",disabled:a,value:t,onChange:v=>e(v.target.value),onKeyDown:v=>{v.keyCode==13&&v.shiftKey==!1&&(v.preventDefault(),h())}}),!o&&b.jsx(DM,{}),b.jsx("small",{className:"text-center mx-auto opacity-70 pt-2",children:"wllama may generate inaccurate information. Use with your own risk."})]})]})}function DM(){const{navigateTo:t}=In();return b.jsxs("div",{role:"alert",className:"alert",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),b.jsx("span",{children:"Model is not loaded"}),b.jsx("div",{children:b.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>t(je.MODEL),children:"Select model"})})]})}const zM=()=>{const t=document.getElementById("chat-history");t==null||t.scrollTo({top:t.scrollHeight,behavior:"smooth"})};function jM(){const{navigateTo:t}=In();return b.jsx(Rl,{children:b.jsxs("div",{className:"guide-text pt-16",children:[b.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Wllama 🦙"}),b.jsxs("div",{className:"mb-3",children:["Wllama is a project based on"," ",b.jsx("a",{href:"https://github.com/ggerganov/llama.cpp",target:"_blank",rel:"noopener",children:"llama.cpp"}),". It enables running LLM inference directly on browser by leveraging the power of ",b.jsx("b",{children:"WebAssembly"}),". It accepts GGUF as model format."]}),b.jsxs("div",{className:"mb-3",children:["Please note that:",b.jsxs("ul",{children:[b.jsx("li",{children:"Due to WebAssembly overhead, performance will not be as good as running llama.cpp in native. Performance degradation can range from 25% to 50%."}),b.jsxs("li",{children:["Due to memory constraint of WebAssembly and emscripten, models larger than 2GB will need to be split."," ",b.jsx("a",{href:"https://github.com/ngxson/wllama?tab=readme-ov-file#split-model",target:"_blank",rel:"noopener",children:"Click here to learn more"})]}),b.jsx("li",{children:"Large model may not fit into RAM, (again) due to memory constraint of WebAssembly."}),b.jsx("li",{children:"Running on smartphone maybe buggy."}),b.jsxs("li",{children:[b.jsx("b",{children:"WebGPU is not supported"}),". We're still working hard to add support for WebGPU."]})]})]}),b.jsxs("div",{className:"mb-3",children:["To get started, go to"," ",b.jsx("button",{className:"btn btn-sm btn-primary btn-outline",onClick:()=>t(je.MODEL),children:"Manage models"})," ","page to select a model."]}),b.jsx("h1",{className:"text-xl font-bold mb-4 mt-6",children:"Reporting bugs"}),b.jsxs("div",{className:"mb-3",children:["Wllama is in development and many bugs are expected to happen. If you find a bug, please"," ",b.jsx("a",{href:"https://github.com/ngxson/wllama/issues",target:"_blank",rel:"noopener",children:"open a issue"})," ","with log copied from"," ",b.jsx("button",{className:"btn btn-sm btn-primary btn-outline",onClick:()=>t(je.LOG),children:"Debug log"})]})]})})}function UM(){return b.jsx(Rl,{children:b.jsxs("div",{className:"debug-log-screen pt-8",children:[b.jsx("h1",{className:"text-2xl mb-4",children:"Debug log"}),b.jsxs("div",{className:"font-mono bg-base-200 p-2 rounded-lg text-sm mb-16",children:[Gt.content.length===0&&b.jsx("span",{children:"(Log is empty. Please firstly load a model)"}),Gt.content.map((t,e)=>b.jsxs(el.Fragment,{children:[yd(t),b.jsx("br",{})]},e))]})]})})}function $M(){const[t,e]=ce.useState(!1),{models:r,removeCachedModel:a,isLoadingModel:n,isDownloading:s,loadedModel:o,currParams:i,setParams:l}=In(),u=!!(o||s||n),c=d=>p=>{l({...i,[d]:parseFloat(p.target.value||-1)})};return b.jsxs(Rl,{children:[b.jsxs("div",{className:"inference-params pt-8",children:[b.jsx("h1",{className:"text-2xl mb-4",children:"Inference parameters"}),b.jsxs("label",{className:"input input-bordered flex items-center gap-2 mb-2",children:["# threads",b.jsx("input",{type:"number",className:"grow",placeholder:"(auto detected)",min:"1",max:"100",step:"1",onChange:c("nThreads"),value:i.nThreads<1?"":i.nThreads,disabled:u})]}),b.jsxs("label",{className:"input input-bordered flex items-center gap-2 mb-2",children:["Context size",b.jsx("input",{type:"number",className:"grow",min:"128",step:"1",onChange:c("nContext"),value:i.nContext,disabled:u})]}),b.jsxs("label",{className:"input input-bordered flex items-center gap-2 mb-2",children:["Max generated tokens",b.jsx("input",{type:"number",className:"grow",min:"10",step:"1",onChange:c("nPredict"),value:i.nPredict})]}),b.jsxs("label",{className:"input input-bordered flex items-center gap-2 mb-2",children:["Temperature",b.jsx("input",{type:"number",className:"grow",min:"0.0",step:"0.05",onChange:c("temperature"),value:i.temperature})]}),b.jsx("button",{className:"btn btn-sm mr-2",onClick:()=>l(e_),children:"Reset params"}),b.jsx("button",{className:"btn btn-sm mr-2",onClick:async()=>{if(confirm("This will remove all downloaded model files from cache. Continue?"))for(const d of r)await a(d)},disabled:u,children:"Clear cache"})]}),b.jsxs("div",{className:"model-management",children:[b.jsxs("h1",{className:"text-2xl mt-6 mb-4",children:["Custom models",b.jsx("button",{className:"btn btn-primary btn-outline btn-sm ml-6",onClick:()=>e(!0),children:"+ Add GGUF"})]}),r.filter(d=>d.isUserAdded).map(d=>b.jsx(zh,{model:d,blockModelBtn:u},d.url))]}),b.jsxs("div",{className:"model-management",children:[b.jsx("h1",{className:"text-2xl mt-6 mb-4",children:"Recommended models"}),r.filter(d=>!d.isUserAdded).map(d=>b.jsx(zh,{model:d,blockModelBtn:u},d.url))]}),b.jsx("div",{className:"h-10"}),t&&b.jsx(HM,{onClose:()=>e(!1)})]})}function HM({onClose:t}){const{isLoadingModel:e,addCustomModel:r}=In(),[a,n]=ce.useState(""),[s,o]=ce.useState(""),[i,l]=ce.useState([]),[u,c]=ce.useState(new AbortController),[d,p]=ce.useState();AE(async()=>{if(a.length<2){l([]);return}try{const v=await(await fetch(`https://huggingface.co/api/models/${a}`,{signal:u.signal})).json();v.siblings?(l(v.siblings.map(y=>y.rfilename).filter(y=>Bf(y))),p("")):(p("no model found or it is private"),l([]))}catch(h){h.name!=="AbortError"&&(p((h==null?void 0:h.message)??"unknown error"),l([]))}},[a],500),ce.useEffect(()=>{i.length===0&&o("")},[i]);const f=async()=>{try{await r(`https://huggingface.co/${a}/resolve/main/${s}`),t()}catch(h){p((h==null?void 0:h.message)??"unknown error")}};return b.jsx("dialog",{className:"modal modal-open",children:b.jsxs("div",{className:"modal-box",children:[b.jsx("h3",{className:"font-bold text-lg",children:"Add custom GGUF"}),b.jsxs("div",{className:"mt-4",children:["Max GGUF file size is 2GB. If your model is bigger than 2GB, please"," ",b.jsx("a",{href:"https://github.com/ngxson/wllama?tab=readme-ov-file#split-model",target:"_blank",rel:"noopener",className:"text-primary",children:"follow this guide"})," ","to split it into smaller shards."]}),b.jsxs("div",{className:"mt-4",children:[b.jsxs("label",{className:"input input-bordered flex items-center gap-2 mb-2",children:["HF repo",b.jsx("input",{type:"text",className:"grow",placeholder:"{username}/{repo}",value:a,onChange:h=>{u.abort(),n(h.target.value),c(new AbortController)}})]}),b.jsxs("select",{className:"select select-bordered w-full",onChange:h=>o(h.target.value),children:[b.jsx("option",{value:"",children:"Select a model file"}),i.map(h=>b.jsx("option",{value:h,children:h},h))]})]}),d&&b.jsxs("div",{className:"mt-4 text-error",children:["Error: ",d]}),b.jsxs("div",{className:"modal-action",children:[b.jsxs("button",{className:"btn btn-primary",disabled:e||a.length<2||s.length<5,onClick:f,children:[e&&b.jsx("span",{className:"loading loading-spinner"}),"Add model"]}),b.jsx("button",{className:"btn",disabled:e,onClick:t,children:"Close"})]})]})})}function zh({model:t,blockModelBtn:e}){const{downloadModel:r,removeCachedModel:a,loadModel:n,unloadModel:s,removeCustomModel:o,currRuntimeInfo:i,navigateTo:l}=In(),u=t,c=parseInt(Math.round(u.downloadPercent*100).toString());return b.jsx("div",{className:`card bg-base-100 w-full mb-2 ${u.state===nt.LOADED?"border-2 border-primary":""}`,children:b.jsxs("div",{className:"card-body p-4 flex flex-row",children:[b.jsxs("div",{className:"grow",children:[b.jsx("b",{children:u.hfPath.replace(/-\d{5}-of-\d{5}/,"-(shards)")}),b.jsx("br",{}),b.jsxs("small",{children:["HF repo: ",u.hfModel,b.jsx("br",{}),"Size: ",ME(u.size),u.size>Jg&&b.jsx("div",{className:"tooltip tooltip-right","data-tip":"Big model size, may not be able to load due to RAM limitation",children:b.jsx("span",{className:"text-yellow-300 ml-2",children:b.jsx(zt,{icon:RM})})}),u.state==nt.DOWNLOADING?` - Downloaded: ${c}%`:""]}),u.state===nt.LOADED&&i&&b.jsxs(b.Fragment,{children:[b.jsx("br",{}),b.jsx(jh,{text:"Multithread",on:i.isMultithread}),"    ",b.jsx(jh,{text:"Chat template",on:i.hasChatTemplate})]}),u.state===nt.DOWNLOADING&&b.jsx("div",{children:b.jsx("progress",{className:"progress progress-primary w-full",value:c,max:"100"})}),u.state===nt.LOADING&&b.jsx("div",{children:b.jsx("progress",{className:"progress progress-primary w-full"})})]}),b.jsxs("div",{children:[u.state===nt.NOT_DOWNLOADED&&b.jsx("button",{className:"btn btn-primary btn-sm mr-2",onClick:()=>r(u),disabled:e,children:"Download"}),u.state===nt.READY&&b.jsxs(b.Fragment,{children:[b.jsx("button",{className:"btn btn-primary btn-sm mr-2",onClick:()=>n(u),disabled:e,children:"Load model"}),b.jsx("button",{className:"btn btn-outline btn-error btn-sm mr-2",onClick:()=>{confirm("Are you sure to remove this model from cache?")&&a(u)},disabled:e,children:b.jsx(zt,{icon:nw})})]}),u.state===nt.LOADED&&b.jsxs(b.Fragment,{children:[b.jsx("button",{className:"btn btn-primary btn-sm mr-2",onClick:()=>l(je.CHAT),children:"Start chat"}),b.jsx("button",{className:"btn btn-outline btn-primary btn-sm mr-2",onClick:()=>s(),children:"Unload"})]}),u.state===nt.NOT_DOWNLOADED&&u.isUserAdded&&b.jsx("button",{className:"btn btn-outline btn-error btn-sm mr-2",onClick:()=>{confirm("Are you sure to remove this model from the list?")&&o(u)},disabled:e,children:b.jsx(zt,{icon:aw})}),u.state==nt.DOWNLOADING&&b.jsx("span",{className:"loading loading-spinner"})]})]})},u.url)}function jh({text:t,on:e}){return b.jsxs(b.Fragment,{children:[e?b.jsx("span",{className:"text-green-300",children:b.jsx(zt,{icon:TM})}):b.jsx("span",{className:"text-red-400",children:b.jsx(zt,{icon:aw})}),b.jsxs("span",{className:"text-sm",children:[" ",t]})]})}function BM(){return b.jsxs("div",{className:"navbar bg-base-100 shadow-md z-40",children:[b.jsx("div",{className:"flex-none",children:b.jsx("label",{htmlFor:"my-drawer-2",className:"btn btn-square btn-ghost flex lg:hidden",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block h-5 w-5 stroke-current",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})}),b.jsx("a",{className:"btn btn-ghost text-xl",children:"wllama"})]})}function WM({children:t}){const{currentConvId:e,navigateTo:r,currScreen:a,loadedModel:n}=In(),{conversations:s,getConversationById:o,deleteConversation:i}=r_(),l=o(e);return b.jsxs(b.Fragment,{children:[b.jsx("input",{id:"my-drawer-2",type:"checkbox",className:"drawer-toggle"}),b.jsxs("div",{className:"drawer-side h-screen lg:h-[calc(100vh-4rem)] z-50",children:[b.jsx("label",{htmlFor:"my-drawer-2","aria-label":"close sidebar",className:"drawer-overlay block lg:hidden"}),b.jsxs("div",{className:"h-screen lg:max-h-[calc(100vh-4rem)] flex flex-col text-base-content bg-base-200",children:[b.jsx("div",{className:"grow w-80 overflow-auto p-4",children:b.jsxs("ul",{className:"menu gap-1 overflow-x-hidden",children:[b.jsx("li",{onClick:()=>r(je.CHAT),children:b.jsx("a",{className:!l&&a===je.CHAT?"active":"",children:"+ New conversation"})}),s.map(u=>{var c;return b.jsxs("li",{onClick:()=>r(je.CHAT,u.id),className:"group flex flex-row",children:[b.jsx("a",{className:`${u.id===e?"active":""} flex-1 min-w-0`,children:b.jsx("div",{className:"truncate",children:(c=u.messages[0])==null?void 0:c.content})}),b.jsx("span",{className:"text-right hidden group-hover:inline",children:b.jsx(zt,{icon:nw,onClick:d=>{d.preventDefault(),confirm("Are you sure to delete this conversation?")&&(r(je.CHAT),i(u.id))}})})]},u.id)})]})}),b.jsxs("div",{className:"w-80 px-4 pt-0 pb-8",children:[b.jsx("div",{className:"divider my-2"}),n&&b.jsxs("div",{className:"text-sm px-4 pb-2",children:["Model: ",n.hfModel]}),b.jsxs("ul",{className:"menu gap-1",children:[b.jsx("li",{onClick:()=>r(je.GUIDE),children:b.jsxs("a",{className:a===je.GUIDE?"active":"",children:[b.jsx(zt,{icon:PM})," Guide"]})}),b.jsx("li",{onClick:()=>r(je.MODEL),children:b.jsxs("a",{className:a===je.MODEL?"active":"",children:[b.jsx(zt,{icon:CM})," Manage models"]})}),b.jsx("li",{onClick:()=>r(je.LOG),children:b.jsxs("a",{className:a===je.LOG?"active":"",children:[b.jsx(zt,{icon:AM})," Debug log"]})}),b.jsx("li",{children:b.jsxs("a",{href:"https://github.com/ngxson/wllama",target:"_blank",rel:"noopener",children:[b.jsx(zt,{icon:xM})," Github"]})})]}),b.jsxs("div",{className:"text-xs pl-6 pt-2",children:["Version ",SE]})]})]})]}),b.jsx("div",{className:"drawer-content grow",children:t})]})}const VM="https://raw.githubusercontent.com/wangfin/QAsystem/refs/heads/master/QAManagement/language_model/data/wikitext-2/valid.txt",sw=["https://huggingface.co/bartowski/Llama-3.2-1B-Instruct-GGUF/resolve/main/Llama-3.2-1B-Instruct-Q8_0.gguf","https://huggingface.co/bartowski/Llama-3.2-1B-Instruct-GGUF/resolve/main/Llama-3.2-1B-Instruct-Q4_0.gguf","https://huggingface.co/bartowski/Llama-3.2-1B-Instruct-GGUF/resolve/main/Llama-3.2-1B-Instruct-Q4_K_M.gguf","https://huggingface.co/bartowski/Llama-3.2-1B-Instruct-GGUF/resolve/main/Llama-3.2-1B-Instruct-Q5_K_L.gguf"],qM=4,GM=[{type:"pp",n_samples:32},{type:"pp",n_samples:64},{type:"pp",n_samples:128},{type:"pp",n_samples:256},{type:"tg",n_samples:32},{type:"tg",n_samples:64},{type:"tg",n_samples:128},{type:"tg",n_samples:256}];async function ow(t){const e=t.split("/").pop(),r=new Vf(vf);return await r.loadModelFromUrl(t,{n_batch:512,n_ctx:4096,progressCallback:({total:a,loaded:n})=>{console.log(`Model ${e}: ${Math.round(100*n/a)}%`)}}),{wllama:r,modelFile:e}}async function QM(){const t=[["model","threads","test","t/s"],["---","---","---","---"]];for(const r of sw){const[{wllama:a,modelFile:n}]=await Promise.all([ow(r),kE(1e4)]);console.clear();const s=a.getNumThreads();for(const o of GM){const{type:i,n_samples:l}=o,u=[];for(let p=0;p<qM;p++){console.log("Running",n,o);const{t_ms:f}=await a._testBenchmark(i,l),h=l/(f/1e3);u.push(h),console.log("Run ",p,"pref:",h,"t/s")}const c=u.reduce((p,f)=>p+f,0)/u.length,d=Math.abs(Math.max(...u)-Math.min(...u));t.push([n,s,`${i} ${l}`,`${c.toFixed(2)} ± ${d.toFixed(2)}`])}a.exit()}console.table(t);const e=t.map(r=>"| "+r.join(" | ")+" |").join(`
`);console.log(e)}async function YM(){const t=[["model","PPL","n_tokens"],["---","---","---"]],r=await fetch(VM).then(n=>n.text());console.log("Loaded wikitext:",r.substring(0,100),"...");for(const n of sw){const{wllama:s,modelFile:o}=await ow(n);console.clear();let i=await s.tokenize(r.substring(0,2048*16));i=i.slice(0,2048),console.log("Running",o,"n_tokens",i.length);const{ppl:l}=await s._testPerplexity(i);console.log("PPL:",l),t.push([o,l,i.length]),s.exit()}console.table(t);const a=t.map(n=>"| "+n.join(" | ")+" |").join(`
`);console.log(a)}window.__benchmark=QM;window.__perplexity=YM;function KM(){return b.jsx(iF,{children:b.jsx(TE,{children:b.jsx(KF,{children:b.jsx(ZM,{})})})})}function ZM(){const{currScreen:t}=In();return b.jsxs("div",{className:"flex flex-col drawer h-screen w-screen overflow-hidden",children:[b.jsx(BM,{}),b.jsx("div",{className:"grow flex flex-row lg:drawer-open h-[calc(100vh-4rem)]",children:b.jsxs(WM,{children:[t===je.MODEL&&b.jsx($M,{}),t===je.CHAT&&b.jsx(LM,{}),t===je.GUIDE&&b.jsx(jM,{}),t===je.LOG&&b.jsx(UM,{})]})})]})}Pu.createRoot(document.getElementById("root")).render(b.jsx(KM,{}));
